{"version":3,"file":"assets/js/601.69abc541.js","mappings":"sMAQA,MAAMA,EAAa,CACfC,QAAUC,IAEFC,EAAAA,EAAAA,KAAA,OACIC,MAAO,CACHC,OAAQ,OACRC,QAAS,OACTC,WAAY,yCACdC,SAEDN,EAAMO,OAAOC,SAMd,MACZ,IAAIC,EAAI,CAKX,EANe,GAQhB,SAASC,EAAkBC,GACvBA,EAAIC,SAAS,CACTC,GAAI,UACJC,UAAW,YAGfH,EAAIC,SAAS,CACTC,GAAI,UACJC,UAAW,YAGfH,EAAIC,SAAS,CACTC,GAAI,UACJC,UAAW,WAEnB,CAEO,MAAMC,EAAuBf,IAChC,MAAOW,EAAKK,GAAUC,EAAAA,WAiDtB,OAfAA,EAAAA,WAAgB,KACPN,GAILA,EAAIO,mBAAkB,KAClB,MAAMC,EAASR,EAAIS,SAEnBC,aAAaC,QACT,8BACAC,KAAKC,UAAUL,GAClB,GACH,GACH,CAACR,KAGAc,EAAAA,EAAAA,MAAA,OACIvB,MAAO,CACHwB,QAAS,OACTC,cAAe,SACfxB,OAAQ,QACVG,SAAA,EAEFL,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEC,OAAQ,QAASG,UAC3BL,EAAAA,EAAAA,KAAA,UAAQ2B,QAxDAC,KAChBR,aAAaS,WAAW,+BACpBnB,IACAA,EAAIoB,QACJrB,EAAkBC,GACtB,EAmDqCL,SAAC,oBAElCL,EAAAA,EAAAA,KAAA,OACIC,MAAO,CACH8B,SAAU,EACVC,SAAU,UACZ3B,UAEFL,EAAAA,EAAAA,KAACiC,EAAAA,GAAa,CACVC,QAzDCC,IACb,MAAMC,EAAehB,aAAaiB,QAC9B,+BAGJ,IAAIC,GAAU,EAEd,GAAIF,EACA,IACI,MAAMlB,EAASI,KAAKiB,MAAMH,GAC1BD,EAAMzB,IAAI8B,SAAStB,GACnBoB,GAAU,CACd,CAAE,MAAOG,GACLC,QAAQC,MAAMF,EAClB,CAGCH,GACD7B,EAAkB0B,EAAMzB,KAG5BK,EAAOoB,EAAMzB,IAAI,EAqCLb,WAAYA,EACZ+C,mBAAoBC,EACpBC,UAAY,GAAE/C,EAAMgD,OAAS,+BAGnC,EAId,IAEMF,EAAYA,KACP7C,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAE+C,MAAO,QAAS7C,QAAS,OAAQE,SAAC,a","sources":["webpack://dockview-docs/./sandboxes/react/dockview/layout/src/app.tsx"],"sourcesContent":["import {\n    DockviewApi,\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div\n                style={{\n                    height: '100%',\n                    padding: '20px',\n                    background: 'var(--dv-group-view-background-color)',\n                }}\n            >\n                {props.params.title}\n            </div>\n        );\n    },\n};\n\nconst counter = (() => {\n    let i = 0;\n\n    return {\n        next: () => ++i,\n    };\n})();\n\nfunction loadDefaultLayout(api: DockviewApi) {\n    api.addPanel({\n        id: 'panel_1',\n        component: 'default',\n    });\n\n    api.addPanel({\n        id: 'panel_2',\n        component: 'default',\n    });\n\n    api.addPanel({\n        id: 'panel_3',\n        component: 'default',\n    });\n}\n\nexport const DockviewPersistence = (props: { theme?: string }) => {\n    const [api, setApi] = React.useState<DockviewApi>();\n\n    const clearLayout = () => {\n        localStorage.removeItem('dockview_persistence_layout');\n        if (api) {\n            api.clear();\n            loadDefaultLayout(api);\n        }\n    };\n\n    const onReady = (event: DockviewReadyEvent) => {\n        const layoutString = localStorage.getItem(\n            'dockview_persistence_layout'\n        );\n\n        let success = false;\n\n        if (layoutString) {\n            try {\n                const layout = JSON.parse(layoutString);\n                event.api.fromJSON(layout);\n                success = true;\n            } catch (err) {\n                console.error(err);\n            }\n        }\n\n        if (!success) {\n            loadDefaultLayout(event.api);\n        }\n\n        setApi(event.api);\n    };\n\n    React.useEffect(() => {\n        if (!api) {\n            return;\n        }\n\n        api.onDidLayoutChange(() => {\n            const layout = api.toJSON();\n\n            localStorage.setItem(\n                'dockview_persistence_layout',\n                JSON.stringify(layout)\n            );\n        });\n    }, [api]);\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                height: '100%',\n            }}\n        >\n            <div style={{ height: '25px' }}>\n                <button onClick={clearLayout}>Reset Layout</button>\n            </div>\n            <div\n                style={{\n                    flexGrow: 1,\n                    overflow: 'hidden',\n                }}\n            >\n                <DockviewReact\n                    onReady={onReady}\n                    components={components}\n                    watermarkComponent={Watermark}\n                    className={`${props.theme || 'dockview-theme-abyss'}`}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default DockviewPersistence;\n\nconst Watermark = () => {\n    return <div style={{ color: 'white', padding: '8px' }}>watermark</div>;\n};\n"],"names":["components","default","props","_jsx","style","height","padding","background","children","params","title","i","loadDefaultLayout","api","addPanel","id","component","DockviewPersistence","setApi","React","onDidLayoutChange","layout","toJSON","localStorage","setItem","JSON","stringify","_jsxs","display","flexDirection","onClick","clearLayout","removeItem","clear","flexGrow","overflow","DockviewReact","onReady","event","layoutString","getItem","success","parse","fromJSON","err","console","error","watermarkComponent","Watermark","className","theme","color"],"sourceRoot":""}