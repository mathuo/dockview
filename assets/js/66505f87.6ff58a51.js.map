{"version":3,"file":"assets/js/66505f87.6ff58a51.js","mappings":"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","sources":["webpack://dockview-docs/./src/components/ui/codeSandboxButton.tsx","webpack://dockview-docs/./src/components/ui/spinner.tsx","webpack://dockview-docs/./src/components/ui/container.tsx","webpack://dockview-docs/./src/components/ui/reference/types.ts","webpack://dockview-docs/./src/components/ui/reference/docRef.tsx","webpack://dockview-docs/./sandboxes/externaldnd-dockview/src/treeview.tsx","webpack://dockview-docs/./sandboxes/externaldnd-dockview/src/app.tsx","webpack://dockview-docs/./docs/core/dnd/dragAndDrop.mdx","webpack://dockview-docs/../dockview-core/dist/package/main.esm.mjs","webpack://dockview-docs/../dockview/dist/package/main.esm.mjs"],"sourcesContent":["import * as React from 'react';\nimport './codeSandboxButton.scss';\nimport { ThemePicker } from './container';\n\nconst BASE_SANDBOX_URL =\n    'https://codesandbox.io/s/github/mathuo/dockview/tree/master/packages/docs/sandboxes';\n\nconst createSvgElementFromPath = (params: {\n    height: string;\n    width: string;\n    viewbox: string;\n    path: string;\n}) => {\n    return (\n        <svg\n            height={params.height}\n            width={params.width}\n            viewBox={params.viewbox}\n            focusable={false}\n            className={'dv-svg'}\n        >\n            <path d={params.path} />\n        </svg>\n    );\n};\n\nconst CloseButton = () =>\n    createSvgElementFromPath({\n        width: '16',\n        height: '16',\n        viewbox: '0 0 50 58',\n        path: 'M22.5581 50.9938V30.1717L4.65116 19.869V31.7386L12.8536 36.4939V45.4198L22.5581 50.9938ZM27.2093 51.1162L37.0931 45.4226V36.2851L45.3488 31.501V19.7801L27.2093 30.2529V51.1162ZM42.9633 15.7867L33.4288 10.2615L25.0571 15.1193L16.6219 10.2567L7.00237 15.8557L24.9542 26.1842L42.9633 15.7867ZM0 43.4008V14.5498L24.9974 0L50 14.4887V43.3552L24.9969 57.7584L0 43.4008Z',\n    });\n\nexport const CodeSandboxButton = (props: {\n    id: string;\n    hideThemePicker?: boolean;\n}) => {\n    const url = React.useMemo(() => {\n        if (!props.id) {\n            return '';\n        }\n        return `${BASE_SANDBOX_URL}/${props.id}`;\n    }, [props.id]);\n\n    return (\n        <>\n            {!props.hideThemePicker && <ThemePicker />}\n            <span\n                className=\"codesandbox-button\"\n                style={{ display: 'flex', alignItems: 'center' }}\n            >\n                <span className=\"codesandbox-button-pretext\">{`Open in `}</span>\n                <a\n                    href={url}\n                    target={'_blank'}\n                    rel=\"noopener\"\n                    className=\"codesandbox-button-content\"\n                >\n                    <span\n                        style={{\n                            fontWeight: 'bold',\n                            paddingRight: '4px',\n                        }}\n                    >\n                        CodeSandbox\n                    </span>\n                    <CloseButton />\n                </a>\n            </span>\n        </>\n    );\n};\n","import * as React from 'react';\nimport './spinner.scss';\n\nexport const Spinner = () => {\n    return (\n        <div className=\"lds-ellipsis\">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>\n    );\n};\n","import * as React from 'react';\nimport { CodeSandboxButton } from './codeSandboxButton';\nimport useBaseUrl from '@docusaurus/useBaseUrl';\nimport './container.scss';\nimport { Spinner } from './spinner';\nimport BrowserOnly from '@docusaurus/BrowserOnly';\n\nexport const Container = (props: {\n    children?: React.ReactNode;\n    height?: number;\n    injectVanillaJS?: (parent: HTMLElement) => void;\n    sandboxId?: string;\n}) => {\n    const ref = React.useRef<HTMLDivElement>(null);\n\n    React.useEffect(() => {\n        if (!props.injectVanillaJS) {\n            return;\n        }\n\n        props.injectVanillaJS(ref.current);\n    }, [props.injectVanillaJS]);\n\n    return (\n        <BrowserOnly>\n            {() => (\n                <>\n                    <div\n                        ref={ref}\n                        style={{\n                            height: props.height\n                                ? `${props.height}px`\n                                : '300px',\n                        }}\n                    >\n                        {props.children}\n                    </div>\n                    <div\n                        style={{\n                            padding: '2px 0px',\n                            display: 'flex',\n                            alignItems: 'center',\n                            fontSize: '14px',\n                        }}\n                    >\n                        <span style={{ flexGrow: 1 }} />\n                        {props.sandboxId && (\n                            <CodeSandboxButton id={props.sandboxId} />\n                        )}\n                    </div>\n                </>\n            )}\n        </BrowserOnly>\n    );\n};\n\nconst ReactIcon = (props: { height: number; width: number }) => {\n    return (\n        <img\n            // className=\"dv-svg\"\n            style={{ marginRight: '0px 4px' }}\n            height={props.height}\n            width={props.width}\n            src={useBaseUrl('img/react-icon.svg')}\n        />\n    );\n};\n\nconst JavascriptIcon = (props: { height: number; width: number }) => {\n    return (\n        <img\n            // className=\"dv-svg \"\n            style={{ marginRight: '0px 4px' }}\n            height={props.height}\n            width={props.width}\n            src={useBaseUrl('img/js-icon.svg')}\n        />\n    );\n};\n\nconst themes = [\n    'dockview-theme-abyss',\n    'dockview-theme-dark',\n    'dockview-theme-light',\n    'dockview-theme-vs',\n    'dockview-theme-dracula',\n    'dockview-theme-replit',\n    'dockview-theme-kraken',\n];\n\nfunction useLocalStorageItem(key: string, defaultValue: string): string {\n    const [item, setItem] = React.useState<string | null>(\n        localStorage.getItem(key)\n    );\n\n    React.useEffect(() => {\n        const listener = (event: StorageEvent) => {\n            setItem(localStorage.getItem(key));\n        };\n\n        window.addEventListener('storage', listener);\n\n        setItem(localStorage.getItem(key));\n\n        return () => {\n            window.removeEventListener('storage', listener);\n        };\n    }, [key]);\n\n    return item === null ? defaultValue : item;\n}\n\nexport const ThemePicker = () => {\n    const [theme, setTheme] = React.useState<string>(\n        localStorage.getItem('dv-theme-class-name') || themes[0]\n    );\n\n    React.useEffect(() => {\n        localStorage.setItem('dv-theme-class-name', theme);\n        window.dispatchEvent(new StorageEvent('storage'));\n    }, [theme]);\n\n    return (\n        <div\n            style={{\n                height: '20px',\n                display: 'flex',\n                alignItems: 'center',\n                padding: '0px 0px 0px 4px',\n            }}\n        >\n            <span style={{ paddingRight: '4px' }}>{'Theme: '}</span>\n            <select\n                style={{ backgroundColor: 'inherit', color: 'inherit' }}\n                onChange={(e) => setTheme(e.target.value)}\n                value={theme}\n            >\n                {themes.map((theme) => (\n                    <option key={theme} value={theme}>\n                        {theme}\n                    </option>\n                ))}\n            </select>\n        </div>\n    );\n};\n\nexport function useTheme(): string {\n    return useLocalStorageItem('dv-theme-class-name', 'dockview-theme-abyss');\n}\n\nexport const MultiFrameworkContainer2 = (props: {\n    react: React.FC;\n    typescript?: (parent: HTMLElement) => { dispose: () => void };\n    sandboxId: string;\n    height?: number;\n    hideThemePicker?: boolean;\n}) => {\n    const ref = React.useRef<HTMLDivElement>(null);\n\n    const [framework, setFramework] = React.useState<string>('React');\n\n    const [animation, setAnimation] = React.useState<boolean>(false);\n\n    const theme = useLocalStorageItem(\n        'dv-theme-class-name',\n        'dockview-theme-abyss'\n    );\n\n    React.useEffect(() => {\n        setAnimation(true);\n\n        setTimeout(() => {\n            setAnimation(false);\n        }, 500);\n    }, [framework]);\n\n    React.useEffect(() => {\n        if (!ref.current) {\n            return;\n        }\n\n        if (framework === 'Javascript') {\n            const disposable = props.typescript(ref.current);\n\n            return () => {\n                disposable.dispose();\n            };\n        }\n\n        return;\n    }, [props.typescript, framework]);\n\n    const sandboxId = React.useMemo(() => {\n        if (framework === 'Javascript') {\n            return `javascript/${props.sandboxId}`;\n        }\n        return props.sandboxId;\n    }, [props.sandboxId, framework]);\n\n    return (\n        <>\n            <div\n                ref={ref}\n                style={{\n                    position: 'relative',\n                    height: props.height ? `${props.height}px` : '300px',\n                }}\n            >\n                {animation && (\n                    <div\n                        style={{\n                            background: 'rgba(30,30,30)',\n                            position: 'absolute',\n                            zIndex: 9999,\n                            top: 0,\n                            left: 0,\n                            width: '100%',\n                            height: '100%',\n                            display: 'flex',\n                            justifyContent: 'center',\n                            alignItems: 'center',\n                        }}\n                    >\n                        <Spinner />\n                    </div>\n                )}\n                {framework === 'React' && <props.react theme={theme} />}\n            </div>\n            <div\n                style={{\n                    margin: '2px 0px',\n                    padding: '2px 0px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    fontSize: '14px',\n                    height: '24px',\n                }}\n            >\n                <div\n                    className=\"framework-button\"\n                    style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        cursor: 'pointer',\n                    }}\n                >\n                    {props.typescript &&\n                        (framework === 'React' ? (\n                            <ReactIcon height={16} width={16} />\n                        ) : (\n                            <JavascriptIcon height={16} width={16} />\n                        ))}\n                    {props.typescript && (\n                        <select\n                            style={{\n                                border: 'none',\n                                fontWeight: 'bold',\n                                backgroundColor: 'inherit',\n                                cursor: 'inherit',\n                                color: 'inherit',\n                                height: '24px',\n                            }}\n                            onChange={(e) => {\n                                const target = e.target as HTMLSelectElement;\n                                setFramework(target.value);\n                            }}\n                        >\n                            <option value=\"React\">{'React'}</option>\n                            <option value=\"Javascript\">{'Javascript'}</option>\n                        </select>\n                    )}\n                </div>\n                <span style={{ flexGrow: 1 }} />\n                <CodeSandboxButton\n                    id={sandboxId}\n                    hideThemePicker={props.hideThemePicker}\n                />\n            </div>\n        </>\n    );\n};\n\nexport const MultiFrameworkContainer = (props: {\n    react: React.FC;\n    typescript?: (parent: HTMLElement) => { dispose: () => void };\n    sandboxId: string;\n    height?: number;\n    hideThemePicker?: boolean;\n}) => {\n    return (\n        <BrowserOnly>\n            {() => <MultiFrameworkContainer2 {...props} />}\n        </BrowserOnly>\n    );\n};\n","export type ExportedTypeFile = Record<string, TypeSystem.Type>;\n\nexport function firstLevelTypes(value: TypeDescriptor.Type | null) {\n    if (!value) {\n        return null;\n    }\n\n    switch (value.type) {\n        case 'array':\n            return firstLevelTypes(value.value);\n        case 'literal':\n            return [];\n        case 'intrinsic':\n            return [];\n        case 'or':\n            return value.values.flatMap(firstLevelTypes);\n        case 'intersection':\n            return value.values.flatMap(firstLevelTypes);\n        case 'predicate':\n            return [];\n        case 'reference': {\n            const result = [];\n            if (\n                value.source.startsWith('dockview') &&\n                !value.refersToTypeParameter\n            ) {\n                result.push(value.value);\n            }\n            if (value.typeArguments) {\n                result.push(...value.typeArguments.flatMap(firstLevelTypes));\n            }\n            return result;\n        }\n        case 'reflection':\n            return firstLevel(value.value);\n        case 'tuple':\n            return value.value.map(codifyType);\n        default:\n            throw new Error('unreachable');\n    }\n}\n\nexport function firstLevel(value: TypeSystem.Type | null) {\n    const results: string[] = [];\n\n    switch (value.kind) {\n        case null:\n            break;\n        case 'property':\n            results.push(...firstLevelTypes(value.type));\n            break;\n        case 'accessor':\n            results.push(...firstLevelTypes(value.value.returnType));\n            break;\n        case 'method':\n            results.push(...value.signature.flatMap(firstLevel));\n            break;\n        case 'constructor':\n            break;\n        case 'typeLiteral':\n            if (value.properties) {\n                results.push(...value.properties.flatMap(firstLevel));\n            }\n            if (value.signatures) {\n                results.push(...value.signatures.flatMap(firstLevel));\n            }\n            break;\n        case 'callSignature':\n            results.push(\n                ...firstLevelTypes(value.returnType),\n                ...value.typeParameters.flatMap((_) => {\n                    return [...firstLevelTypes(_.extends)];\n                }),\n                ...value.parameters.flatMap(firstLevel)\n            );\n            break;\n        case 'parameter':\n            results.push(...firstLevelTypes(value.type));\n            break;\n        default:\n            console.log('test', value);\n            throw new Error('unreachable');\n    }\n\n    return Array.from(new Set(results));\n}\n\nexport function codifyType(value: TypeDescriptor.Type | null, tabs = 0) {\n    if (!value) {\n        return null;\n    }\n\n    switch (value.type) {\n        case 'array':\n            return `${codifyType(value.value)}[]`;\n        case 'literal':\n            return `'${value.value}'`;\n        case 'intrinsic':\n            return value.value;\n        case 'or':\n            return `${value.values\n                .map((_) => {\n                    const isComparator =\n                        _.type === 'or' || _.type === 'intersection';\n                    const code = codifyType(_);\n                    return isComparator ? `(${code})` : code;\n                })\n                .join(' | ')}`;\n        case 'intersection':\n            return `${value.values\n                .map((_) => {\n                    const isComparator =\n                        _.type === 'or' || _.type === 'intersection';\n                    const code = codifyType(_);\n                    return isComparator ? `(${code})` : code;\n                })\n                .join(' & ')}`;\n        case 'predicate':\n            return `${value.lhs} is ${value.rhs}`;\n\n        case 'reference': {\n            if (value.typeArguments) {\n                return `${value.value}<${value.typeArguments.map(codifyType)}>`;\n            }\n            return `${value.value}`;\n        }\n        case 'reflection':\n            return codify(value.value, tabs);\n        case 'tuple':\n            return `[${value.value.map(codifyType).join(', ')}]`;\n        default:\n            throw new Error('unreachable');\n    }\n}\n\nexport function codify(value: TypeSystem.Type | null, tabs = 0) {\n    if (!value) {\n        return null;\n    }\n\n    if (value.kind === 'accessor') {\n        const signature = value.value;\n        return `${'\\t'.repeat(tabs)}${signature.name}: ${codifyType(\n            signature.returnType\n        )}`;\n    }\n\n    if (value.kind === 'property') {\n        let code = '\\t'.repeat(tabs);\n\n        if (value.flags.isProtected) {\n            code += 'protected ';\n        }\n\n        if (value.flags.isReadonly) {\n            code += 'readonly ';\n        }\n        code += value.name;\n        if (value.flags.isOptional) {\n            code += '?';\n        }\n\n        code += `: ${codifyType(value.type, tabs + 1)}`;\n        return code;\n    }\n\n    if (value.kind === 'method') {\n        return `${'\\t'.repeat(tabs)}${value.name}${value.signature\n            .map(codify)\n            .join('\\n')}`;\n    }\n\n    if (value.kind === 'callSignature') {\n        let code = ``;\n\n        if (value.typeParameters.length > 0) {\n            code += '<';\n            code += value.typeParameters.map((typeParameter) => {\n                let typeCode = `${typeParameter.name}`;\n\n                if (typeParameter.extends) {\n                    typeCode += ' extends';\n                    typeCode += ` ${codifyType(typeParameter.extends)}`;\n                }\n\n                if (typeParameter.default) {\n                    typeCode += ' =';\n                    typeCode += ` ${typeParameter.default}`;\n                }\n                return typeCode;\n            });\n            code += '>';\n        }\n\n        code += '(';\n\n        code += value.parameters\n            .map((parameter) => {\n                return codify(parameter, tabs + 1);\n            })\n            .join(', ');\n\n        code += `): ${codifyType(value.returnType)}`;\n\n        return code;\n    }\n\n    if (value.kind === 'parameter') {\n        return `${value.name}: ${codifyType(value.type, tabs + 1)}`;\n    }\n\n    if (value.kind === 'typeLiteral') {\n        if (value.properties) {\n            return `{\\n${value.properties\n                .map((_) => codify(_, tabs))\n                .join(',\\n')}\\n${'\\t'.repeat(Math.max(0, tabs - 1))}}`;\n        }\n        if (value.signatures) {\n            return value.signatures.map(codify).join('\\n');\n        }\n    }\n\n    if (value.kind === 'constructor') {\n        return '';\n    }\n\n    if (value.kind === 'interface') {\n        return `interface ${value.name} {\\n${value.children\n            .map((_) => codify(_, tabs + 1))\n            .join(';\\n')};\\n}`;\n    }\n\n    if (value.kind === 'class') {\n        return `interface ${value.name} {\\n${value.children\n            .filter((_) => _.kind !== 'constructor')\n            .map((_) => codify(_, tabs + 1))\n            .join(';\\n')};\\n}`;\n    }\n\n    if (value.kind === 'typeAlias') {\n        return `type ${value.name} = ${codifyType(value.type)}`;\n    }\n\n    console.log('unreachable', value);\n    throw new Error(`unreachable`);\n}\n\nexport namespace TypeSystem {\n    export type Comment = any;\n\n    export type TypeParameter = {\n        name: string;\n        extends: TypeDescriptor.Type;\n        default: string;\n        comment?: Comment;\n    };\n\n    export type Accessor = {\n        name: string;\n        kind: 'accessor';\n        comment?: Comment;\n        value: TypeSystem.GetSignature;\n    };\n\n    export type GetSignature = {\n        kind: 'getSignature';\n        name: string;\n        returnType: TypeDescriptor.Type;\n        comment?: Comment;\n    };\n\n    export type CallSignature = {\n        kind: 'callSignature';\n        typeParameters: TypeSystem.TypeParameter[];\n        parameters: TypeSystem.Type[];\n        returnType: TypeDescriptor.Type;\n        name: string;\n        comment?: Comment;\n    };\n\n    export type Method = {\n        name: string;\n        kind: 'method';\n        signature: TypeSystem.CallSignature[];\n        comment?: Comment;\n    };\n\n    export type Function = {\n        name: string;\n        kind: 'function';\n        signature: TypeSystem.CallSignature;\n        comment?: Comment;\n    };\n\n    export type Property = {\n        kind: 'property';\n        name: string;\n        type: TypeDescriptor.Type;\n        flags: TypeDescriptor.Flags;\n        comment?: Comment;\n    };\n\n    export type TypeAlias = {\n        name: string;\n        kind: 'typeAlias';\n        typeParameters: TypeSystem.TypeParameter[];\n        type: TypeDescriptor.Type;\n        comment?: Comment;\n    };\n\n    export type Enum = {\n        name: string;\n        kind: 'enum';\n        children: TypeSystem.EnumMember[];\n        comment?: Comment;\n    };\n\n    export type EnumMember = {\n        kind: 'enumMember';\n        name: string;\n        comment?: Comment;\n    };\n\n    export type Class = {\n        name: string;\n        kind: 'class';\n        children: TypeSystem.Type[];\n        extends: string[];\n        comment?: Comment;\n    };\n\n    export type Interface = {\n        name: string;\n        kind: 'interface';\n        children: TypeSystem.Type[];\n        comment?: Comment;\n        extends: string[];\n    };\n\n    export type Parameter = {\n        name: string;\n        kind: 'parameter';\n        type: TypeDescriptor.Type;\n        comment?: Comment;\n    };\n\n    export type Constructor = {\n        kind: 'constructor';\n        name: string;\n        comment?: Comment;\n    };\n\n    export type ConstructorSignature = {\n        kind: 'constructorSignature';\n        name: string;\n        comment?: Comment;\n    };\n\n    export type TypeLiteral = {\n        kind: 'typeLiteral';\n        name: string;\n        signatures?: (ConstructorSignature | TypeSystem.CallSignature)[];\n        properties?: TypeSystem.Property[];\n        comment?: Comment;\n    };\n\n    export type Type =\n        | TypeSystem.Accessor\n        | TypeSystem.GetSignature\n        | TypeSystem.CallSignature\n        | TypeSystem.Method\n        | TypeSystem.Property\n        | TypeSystem.TypeAlias\n        | TypeSystem.Enum\n        | TypeSystem.EnumMember\n        | TypeSystem.Class\n        | TypeSystem.Constructor\n        | TypeSystem.ConstructorSignature\n        | TypeSystem.TypeLiteral\n        | TypeSystem.Parameter\n        | TypeSystem.Interface\n        | TypeSystem.Function;\n}\n\nexport namespace TypeDescriptor {\n    export interface Union {\n        type: 'or';\n        values: TypeDescriptor.Type[];\n    }\n\n    export interface Intrinsic {\n        type: 'intrinsic';\n        value: string;\n    }\n\n    export interface Literal {\n        type: 'literal';\n        value: string;\n    }\n\n    export type Reflection = { type: 'reflection'; value: TypeSystem.Type };\n\n    export interface Reference {\n        type: 'reference';\n        value: string;\n        source: string;\n        typeArguments?: TypeDescriptor.Type[];\n        refersToTypeParameter?: boolean;\n    }\n\n    export interface Array {\n        type: 'array';\n        value: TypeDescriptor.Type;\n    }\n\n    export interface Intersection {\n        type: 'intersection';\n        values: TypeDescriptor.Type[];\n    }\n\n    export interface Predicate {\n        type: 'predicate';\n        lhs: string;\n        rhs: TypeDescriptor.Type;\n    }\n\n    export interface Tuple {\n        type: 'tuple';\n        value: TypeDescriptor.Type[];\n    }\n\n    export type Type =\n        | TypeDescriptor.Union\n        | TypeDescriptor.Intrinsic\n        | TypeDescriptor.Literal\n        | TypeDescriptor.Reflection\n        | TypeDescriptor.Reference\n        | TypeDescriptor.Array\n        | TypeDescriptor.Intersection\n        | TypeDescriptor.Predicate\n        | TypeDescriptor.Tuple;\n\n    export type Flags = {\n        isReadonly?: boolean;\n        isProtected?: boolean;\n        isOptional?: boolean;\n    };\n}\n","import * as React from 'react';\nimport CodeBlock from '@theme/CodeBlock';\nimport './docRef.scss';\n\nexport interface DocRefProps {\n    declaration: string;\n    methods?: string[];\n}\n\nimport docsJson_ from '../../../generated/api.output.json';\nimport { ExportedTypeFile, TypeSystem, codify, firstLevel } from './types';\nconst docsJson = docsJson_ as any as DocsJson;\n\ntype DocsContent = { kind: string; text: string; tag?: string };\ntype DocsTag = { tag: string; content: DocsContent[] };\ntype DocsComment = {\n    summary?: DocsContent[];\n    blockTags?: DocsTag[];\n};\n\ntype Piece = {\n    kind: 'return' | 'paramter' | 'signature' | 'typearg' | 'typearg_default';\n    value: string;\n};\n\ntype Doc = {\n    name: string;\n    code: string;\n    comment?: DocsComment;\n    kind: 'accessor' | 'property' | 'method';\n    pieces: Piece[];\n};\n\ntype DocJson = {\n    kind: string;\n    metadata?: Doc;\n    children: Doc[];\n};\n\ntype DocsJson = {\n    [index: string]: DocJson;\n};\n\nconst newJson = docsJson_ as ExportedTypeFile;\n\nexport const DocumentRef = (props: { value: TypeSystem.Type }) => {\n    const code = React.useMemo(() => {\n        if (!props.value) {\n            return null;\n        }\n\n        switch (props.value.kind) {\n            case 'typeAlias':\n                return codify(props.value);\n            case 'interface':\n                return codify(props.value);\n            case 'class':\n                return codify(props.value);\n            case 'function':\n                return codify(props.value);\n            default:\n                return null;\n        }\n    }, [props.value]);\n\n    if (!code) {\n        return null;\n    }\n\n    return <CodeBlock language=\"tsx\">{code}</CodeBlock>;\n};\n\nexport const Text = (props: { content: DocsContent[] }) => {\n    return (\n        <div className=\"doc-text\">\n            {props.content.map((piece, i) => {\n                switch (piece.kind) {\n                    case 'text': {\n                        return <span key={i}>{piece.text}</span>;\n                    }\n                    case 'code':\n                        return (\n                            <code key={i}>\n                                {piece.text.substring(1, piece.text.length - 1)}\n                            </code>\n                        );\n                    default:\n                        throw new Error(`unhandled piece ${piece.kind}`);\n                }\n            })}\n        </div>\n    );\n};\n\nexport const Tags = (props: { tags: DocsTag[] }) => {\n    return (\n        <div>\n            {props.tags.map((tag, i) => {\n                return (\n                    <div key={i}>\n                        <div>{tag.tag}</div>\n                        <Text content={tag.content} />\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n\nexport const Summary = (props: { summary: DocsComment }) => {\n    return (\n        <div>\n            <Text content={props.summary.summary ?? []} />\n            <Tags tags={props.summary.blockTags ?? []} />\n        </div>\n    );\n};\n\nexport const Markdown = (props: { children: string }) => {\n    return <span>{props.children}</span>;\n};\n\nconst Row = (props: { doc: TypeSystem.Type }) => {\n    const comment =\n        props.doc.kind === 'accessor'\n            ? props.doc.value.comment\n            : props.doc.comment;\n    return (\n        <tr>\n            <th\n                style={{\n                    width: '40%',\n                    display: 'flex',\n                }}\n            >\n                <div\n                    style={{\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'start',\n                    }}\n                >\n                    <h6\n                        style={{\n                            fontFamily: 'monospace',\n                            fontSize: '1.2em',\n                        }}\n                    >\n                        {props.doc.name}\n                    </h6>\n                    <div\n                        style={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: 'start',\n                        }}\n                    >\n                        {/* <span\n                            style={{\n                                fontSize: '0.75em',\n                                color: 'var(--ifm-color-content-secondary)',\n                            }}\n                        >\n                            {'Type'}\n                        </span>\n                        <span\n                            style={{\n                                color: 'var(--ifm-color-primary)',\n                            }}\n                        >\n                            {doc.type}\n                        </span> */}\n                    </div>\n                </div>\n            </th>\n            <th style={{ width: '60%' }}>\n                {/* <div>{'-'}</div> */}\n                <div>\n                    <div>{comment && <Summary summary={comment} />}</div>\n                    <CodeBlock language=\"tsx\">{codify(props.doc)}</CodeBlock>\n                </div>\n            </th>\n        </tr>\n    );\n};\n\nfunction filter(docs: TypeSystem.Type, methods: string[]) {\n    if (docs.kind === 'typeAlias') {\n        if (docs.type.type === 'intersection') {\n            return docs.type.values\n                .map((value) => newJson[(value as any).value])\n                .map((v) => filter(v, methods))\n                .flat();\n        }\n\n        return [docs];\n    }\n\n    if (docs.kind === 'class' || docs.kind === 'interface') {\n        const extended = docs.extends.flatMap((name) =>\n            filter(newJson[name], methods)\n        );\n\n        return extended.concat(\n            docs.children.filter((child) => {\n                if (methods && !methods.includes(child.name)) {\n                    return false;\n                }\n                return true;\n            })\n        );\n    }\n\n    return [];\n}\n\nexport const DocRef = (props: DocRefProps) => {\n    const docs = React.useMemo(\n        () => newJson[props.declaration],\n        [props.declaration]\n    );\n\n    const filteredDocs = React.useMemo(\n        () => filter(docs, props.methods),\n        [docs]\n    );\n\n    if (!docs) {\n        return <span>{`Failed to find docs for '${props.declaration}'`}</span>;\n    }\n\n    return (\n        <table className=\"doc-ref-table\">\n            <tbody>\n                {filteredDocs.map((doc, i) => {\n                    return (\n                        <>\n                            <Row key={i} doc={doc} />\n                            {/* <th colSpan={2}>\n                                {firstLevel(doc).map((x) => (\n                                    <span style={{ padding: '0px 2px' }}>\n                                        <DocumentRef value={newJson[x]} />\n                                    </span>\n                                ))}\n                            </th> */}\n                            {/* {doc.pieces?.map((piece) => (\n                                <tr>\n                                    <th colSpan={2}>\n                                        <Piece piece={piece} />\n                                    </th>\n                                </tr>\n                            ))} */}\n                        </>\n                    );\n                })}\n            </tbody>\n        </table>\n    );\n};\n","import { useState } from 'react';\nimport { Tree } from '@minoru/react-dnd-treeview';\nimport * as React from 'react';\n\nconst SampleData = [\n    {\n        id: 1,\n        parent: 0,\n        droppable: true,\n        text: 'Folder 1',\n    },\n    {\n        id: 2,\n        parent: 1,\n        droppable: false,\n        text: 'File 1-1',\n    },\n    {\n        id: 3,\n        parent: 1,\n        droppable: false,\n        text: 'File 1-2',\n    },\n    {\n        id: 4,\n        parent: 0,\n        droppable: true,\n        text: 'Folder 2',\n    },\n    {\n        id: 5,\n        parent: 4,\n        droppable: true,\n        text: 'Folder 2-1',\n    },\n    {\n        id: 6,\n        parent: 5,\n        droppable: false,\n        text: 'File 2-1-1',\n    },\n    {\n        id: 7,\n        parent: 0,\n        droppable: false,\n        text: 'File 3',\n    },\n];\n\nconst TreeComponent = () => {\n    const [treeData, setTreeData] = useState(SampleData);\n    const handleDrop = (newTreeData: any) => {\n        setTreeData(newTreeData);\n    };\n    return (\n        <Tree\n            tree={treeData}\n            rootId={0}\n            onDrop={handleDrop}\n            onDragEnd={(event) => console.log('onDragEnd', event)}\n            render={(node, { depth, isOpen, onToggle }) => (\n                <div style={{ marginLeft: depth * 10 }}>\n                    {node.droppable && (\n                        <span onClick={onToggle}>{isOpen ? '[-]' : '[+]'}</span>\n                    )}\n                    {node.text}\n                </div>\n            )}\n        />\n    );\n};\n\nexport default TreeComponent;\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\nimport TreeComponent from './treeview';\nimport { getBackendOptions, MultiBackend } from '@minoru/react-dnd-treeview';\nimport { DndProvider } from 'react-dnd';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div style={{ padding: '20px', color: 'white' }}>\n                {props.params.title}\n            </div>\n        );\n    },\n    treeview: () => {\n        return (\n            <div style={{ color: 'white' }}>\n                <TreeComponent />\n            </div>\n        );\n    },\n};\n\nexport const App: React.FC = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        const panel = event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            params: {\n                title: 'Panel 1',\n            },\n        });\n\n        panel.group.locked = true;\n        panel.group.header.hidden = true;\n\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            params: {\n                title: 'Panel 2',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'treeview',\n        });\n\n        event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            params: {\n                title: 'Panel 4',\n            },\n            position: { referencePanel: 'panel_1', direction: 'right' },\n        });\n\n        const panel5 = event.api.addPanel({\n            id: 'panel_5',\n            component: 'default',\n            params: {\n                title: 'Panel 5',\n            },\n            position: { referencePanel: 'panel_3', direction: 'right' },\n        });\n\n        // panel5.group!.model.header.hidden = true;\n        // panel5.group!.model.locked = true;\n\n        event.api.addPanel({\n            id: 'panel_6',\n            component: 'default',\n            params: {\n                title: 'Panel 6',\n            },\n            position: { referencePanel: 'panel_5', direction: 'below' },\n        });\n\n        event.api.addPanel({\n            id: 'panel_7',\n            component: 'default',\n            params: {\n                title: 'Panel 7',\n            },\n            position: { referencePanel: 'panel_6', direction: 'right' },\n        });\n    };\n\n    return (\n        <DndProvider backend={MultiBackend} options={getBackendOptions()}>\n            <DockviewReact\n                components={components}\n                onReady={onReady}\n                className={`${props.theme || 'dockview-theme-abyss'}`}\n            />\n        </DndProvider>\n    );\n};\n\nexport default App;\n","\n\nexport const frontMatter = {\n\ttitle: 'Dnd',\n\tsidebar_position: 1\n};\nexport const contentTitle = 'Drag And Drop';\nexport const metadata = {\n  \"id\": \"core/dnd/dragAndDrop\",\n  \"title\": \"Dnd\",\n  \"description\": \"The dock makes heavy use of drag and drop functionalities.\",\n  \"source\": \"@site/docs/core/dnd/dragAndDrop.mdx\",\n  \"sourceDirName\": \"core/dnd\",\n  \"slug\": \"/core/dnd/dragAndDrop\",\n  \"permalink\": \"/docs/core/dnd/dragAndDrop\",\n  \"draft\": false,\n  \"unlisted\": false,\n  \"tags\": [],\n  \"version\": \"current\",\n  \"sidebarPosition\": 1,\n  \"frontMatter\": {\n    \"title\": \"Dnd\",\n    \"sidebar_position\": 1\n  },\n  \"sidebar\": \"tutorialSidebar\",\n  \"previous\": {\n    \"title\": \"Overview\",\n    \"permalink\": \"/docs/core/dnd/overview\"\n  },\n  \"next\": {\n    \"title\": \"Third Party Libraries\",\n    \"permalink\": \"/docs/core/dnd/thirdParty\"\n  }\n};\nexport const assets = {\n\n};\n\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport useBaseUrl from '@docusaurus/useBaseUrl';\nimport {MultiFrameworkContainer} from '@site/src/components/ui/container';\nimport DockviewExternalDnd from '@site/sandboxes/externaldnd-dockview/src/app';\nimport {DocRef} from '@site/src/components/ui/reference/docRef';\nexport const toc = [{\n  \"value\": \"Extended behaviours\",\n  \"id\": \"extended-behaviours\",\n  \"level\": 2\n}, {\n  \"value\": \"Third Party Dnd Libraries\",\n  \"id\": \"third-party-dnd-libraries\",\n  \"level\": 2\n}];\nfunction _createMdxContent(props) {\n  const _components = {\n    code: \"code\",\n    h1: \"h1\",\n    h2: \"h2\",\n    p: \"p\",\n    pre: \"pre\",\n    ..._provideComponents(),\n    ...props.components\n  }, {CodeRunner} = _components;\n  if (!CodeRunner) _missingMdxReference(\"CodeRunner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"The dock makes heavy use of drag and drop functionalities.\"\n    }), \"\\n\", _jsx(DocRef, {\n      declaration: \"DockviewApi\",\n      methods: ['onWillDragPanel', 'onWillDragGroup', 'onWillDrop', 'onWillShowOverlay']\n    }), \"\\n\", _jsx(CodeRunner, {\n      framework: \"react\",\n      id: \"dockview/dnd-events\"\n    }), \"\\n\", _jsx(_components.h1, {\n      id: \"drag-and-drop\",\n      children: \"Drag And Drop\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can override the conditions of the far edge overlays through the \", _jsx(_components.code, {\n        children: \"dndEdges\"\n      }), \" prop.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"<DockviewReact\\n  {...props}\\n   dndEdges={{\\n    size: { value: 100, type: 'pixels' },\\n    activationSize: { value: 5, type: 'percentage' },\\n  }}\\n  />\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"extended-behaviours\",\n      children: \"Extended behaviours\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For interaction with the Drag events directly the component exposes some method to help determine whether external drag events should be interacted with or not.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"/**\\n * called when an ondrop event which does not originate from the dockview libray and\\n * passes the onUnhandledDragOverEvent condition\\n **/\\nconst onDidDrop = (event: DockviewDropEvent) => {\\n    const { group } = event;\\n\\n    event.api.addPanel({\\n        id: 'test',\\n        component: 'default',\\n        position: {\\n            referencePanel: group.activePanel.id,\\n            direction: 'within',\\n        },\\n    });\\n};\\n\\nconst onReady = (event: DockviewReadyEvent) => {\\n\\n  /**\\n   * called for drag over events which do not originate from the dockview library\\n   * allowing the developer to decide where the overlay should be shown for a\\n   * particular drag event\\n   **/\\n  api.onUnhandledDragOverEvent(event => {\\n    event.accept();\\n  });\\n}\\n\\nreturn (\\n    <DockviewReact\\n        components={components}\\n        onReady={onReady}\\n        className=\\\"dockview-theme-abyss\\\"\\n        onDidDrop={onDidDrop}\\n    />\\n);\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"third-party-dnd-libraries\",\n      children: \"Third Party Dnd Libraries\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This shows a simple example of a third-party library used inside a panel that relies on drag\\nand drop functionalities. This examples serves to show that \", _jsx(_components.code, {\n        children: \"dockview\"\n      }), \" doesn't interfer with\\nany drag and drop logic for other controls.\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"externaldnd-dockview\",\n      react: DockviewExternalDnd\n    })]\n  });\n}\nexport default function MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n\n","/**\n * dockview-core\n * @version 5.0.0\n * @link https://github.com/mathuo/dockview\n * @license MIT\n */\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".dv-scrollable {\\n  position: relative;\\n  overflow: hidden;\\n}\\n.dv-scrollable .dv-scrollbar {\\n  position: absolute;\\n  border-radius: 2px;\\n  background-color: transparent;\\n  /* GPU optimizations */\\n  will-change: background-color, transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition-property: background-color;\\n  transition-timing-function: ease-in-out;\\n  transition-duration: 1s;\\n  transition-delay: 0s;\\n}\\n.dv-scrollable .dv-scrollbar-horizontal {\\n  bottom: 0px;\\n  left: 0px;\\n  height: 4px;\\n}\\n.dv-scrollable .dv-scrollbar-vertical {\\n  right: 0px;\\n  top: 0px;\\n  width: 4px;\\n}\\n.dv-scrollable:hover .dv-scrollbar, .dv-scrollable.dv-scrollable-resizing .dv-scrollbar, .dv-scrollable.dv-scrollable-scrolling .dv-scrollbar {\\n  background-color: var(--dv-scrollbar-background-color, rgba(255, 255, 255, 0.25));\\n}\\n.dv-svg {\\n  display: inline-block;\\n  fill: currentcolor;\\n  line-height: 1;\\n  stroke: currentcolor;\\n  stroke-width: 0;\\n}\\n.dockview-theme-dark {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #1e1e1e;\\n  --dv-tabs-and-actions-container-background-color: #252526;\\n  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-tab-divider-color: #1e1e1e;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: #969696;\\n  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;\\n  --dv-inactivegroup-hiddenpanel-tab-color: #626262;\\n  --dv-separator-border: rgb(68, 68, 68);\\n  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);\\n}\\n.dockview-theme-dark .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-light {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: white;\\n  --dv-tabs-and-actions-container-background-color: #f3f3f3;\\n  --dv-activegroup-visiblepanel-tab-background-color: white;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #ececec;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: white;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #ececec;\\n  --dv-tab-divider-color: white;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-activegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.7);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(51, 51, 51, 0.7);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.35);\\n  --dv-separator-border: rgba(128, 128, 128, 0.35);\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);\\n}\\n.dockview-theme-light .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-vs {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #1e1e1e;\\n  --dv-tabs-and-actions-container-background-color: #252526;\\n  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-tab-divider-color: #1e1e1e;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: #969696;\\n  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;\\n  --dv-inactivegroup-hiddenpanel-tab-color: #626262;\\n  --dv-separator-border: rgb(68, 68, 68);\\n  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);\\n  --dv-tabs-and-actions-container-background-color: #2d2d30;\\n  --dv-tabs-and-actions-container-height: 20px;\\n  --dv-tabs-and-actions-container-font-size: 11px;\\n  --dv-activegroup-visiblepanel-tab-background-color: #007acc;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #3f3f46;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: white;\\n  --dv-inactivegroup-visiblepanel-tab-color: white;\\n  --dv-inactivegroup-hiddenpanel-tab-color: white;\\n}\\n.dockview-theme-vs .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container {\\n  box-sizing: content-box;\\n  border-bottom: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {\\n  border-top: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {\\n  border-top: 2px solid var(--dv-activegroup-hiddenpanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container {\\n  box-sizing: content-box;\\n  border-bottom: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {\\n  border-top: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {\\n  border-top: 2px solid var(--dv-inactivegroup-hiddenpanel-tab-background-color);\\n}\\n\\n.dockview-theme-abyss {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-color-abyss-dark: #000c18;\\n  --dv-color-abyss: #10192c;\\n  --dv-color-abyss-light: #1c1c2a;\\n  --dv-color-abyss-lighter: #2b2b4a;\\n  --dv-color-abyss-accent: rgb(91, 30, 207);\\n  --dv-color-abyss-primary-text: white;\\n  --dv-color-abyss-secondary-text: rgb(148, 151, 169);\\n  --dv-group-view-background-color: var(--dv-color-abyss-dark);\\n  --dv-tabs-and-actions-container-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-activegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-dark\\n  );\\n  --dv-activegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);\\n  --dv-inactivegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-dark\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);\\n  --dv-tab-divider-color: var(--dv-color-abyss-lighter);\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.5);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(255, 255, 255, 0.5);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.25);\\n  --dv-separator-border: var(--dv-color-abyss-lighter);\\n  --dv-paneview-header-border-color: var(--dv-color-abyss-lighter);\\n  --dv-paneview-active-outline-color: #596f99;\\n}\\n.dockview-theme-abyss .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-dracula {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #282a36;\\n  --dv-tabs-and-actions-container-background-color: #191a21;\\n  --dv-activegroup-visiblepanel-tab-background-color: #282a36;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #21222c;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #282a36;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #21222c;\\n  --dv-tab-divider-color: #191a21;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(248, 248, 242);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(98, 114, 164);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(248, 248, 242, 0.5);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(98, 114, 164, 0.5);\\n  --dv-separator-border: #bd93f9;\\n  --dv-paneview-header-border-color: #bd93f9;\\n  --dv-paneview-active-outline-color: #6272a4;\\n}\\n.dockview-theme-dracula .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  position: relative;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  content: \\\"\\\";\\n  width: 100%;\\n  height: 1px;\\n  background-color: #94527e;\\n  z-index: 999;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  position: relative;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {\\n  position: absolute;\\n  left: 0px;\\n  bottom: 0px;\\n  content: \\\"\\\";\\n  width: 100%;\\n  height: 1px;\\n  background-color: #5e3d5a;\\n  z-index: 999;\\n}\\n\\n.dockview-theme-replit {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  box-sizing: border-box;\\n  padding: 10px;\\n  background-color: #ebeced;\\n  --dv-group-view-background-color: #ebeced;\\n  --dv-tabs-and-actions-container-background-color: #fcfcfc;\\n  --dv-activegroup-visiblepanel-tab-background-color: #f0f1f2;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #fcfcfc;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #f0f1f2;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #fcfcfc;\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(51, 51, 51);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgb(51, 51, 51);\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-sash-color: #cfd1d3;\\n  --dv-active-sash-color: #babbbb;\\n}\\n.dockview-theme-replit .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-replit .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-replit .dv-resize-container {\\n  border-radius: 10px !important;\\n  border: none;\\n}\\n.dockview-theme-replit .dv-groupview {\\n  overflow: hidden;\\n  border-radius: 10px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container {\\n  border-bottom: 1px solid rgba(128, 128, 128, 0.35);\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab {\\n  margin: 4px;\\n  border-radius: 8px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab:hover {\\n  background-color: #e4e5e6 !important;\\n}\\n.dockview-theme-replit .dv-groupview .dv-content-container {\\n  background-color: #fcfcfc;\\n}\\n.dockview-theme-replit .dv-groupview.dv-active-group {\\n  border: 1px solid rgba(128, 128, 128, 0.35);\\n}\\n.dockview-theme-replit .dv-groupview.dv-inactive-group {\\n  border: 1px solid transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled)::after {\\n  content: \\\"\\\";\\n  height: 4px;\\n  width: 40px;\\n  border-radius: 2px;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  background-color: var(--dv-sash-color);\\n  position: absolute;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active::after {\\n  background-color: var(--dv-active-sash-color);\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled)::after {\\n  content: \\\"\\\";\\n  height: 40px;\\n  width: 4px;\\n  border-radius: 2px;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  background-color: var(--dv-sash-color);\\n  position: absolute;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active::after {\\n  background-color: var(--dv-active-sash-color);\\n}\\n\\n.dockview-theme-abyss-spaced {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-tab-font-size: 12px;\\n  --dv-border-radius: 20px;\\n  --dv-tab-margin: 0.5rem 0.25rem;\\n  --dv-tabs-and-actions-container-height: 44px;\\n  --dv-border-radius: 20px;\\n  box-sizing: border-box;\\n  --dv-color-abyss-dark: rgb(11, 6, 17);\\n  --dv-color-abyss: #16121f;\\n  --dv-color-abyss-light: #201d2b;\\n  --dv-color-abyss-lighter: #2a2837;\\n  --dv-color-abyss-accent: rgb(91, 30, 207);\\n  --dv-color-abyss-primary-text: white;\\n  --dv-color-abyss-secondary-text: rgb(148, 151, 169);\\n  --dv-drag-over-border: 2px solid var(--dv-color-abyss-accent);\\n  --dv-drag-over-background-color: \\\"\\\";\\n  --dv-group-view-background-color: var(--dv-color-abyss-dark);\\n  --dv-tabs-and-actions-container-background-color: var(--dv-color-abyss);\\n  --dv-activegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-lighter\\n  );\\n  --dv-activegroup-hiddenpanel-tab-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-inactivegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-lighter\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: var(--dv-color-abyss-primary-text);\\n  --dv-activegroup-hiddenpanel-tab-color: var(\\n      --dv-color-abyss-secondary-text\\n  );\\n  --dv-inactivegroup-visiblepanel-tab-color: var(\\n      --dv-color-abyss-primary-text\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-color: var(\\n      --dv-color-abyss-secondary-text\\n  );\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-active-sash-color: var(--dv-color-abyss-accent);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.5);\\n  padding: 10px;\\n  background-color: var(--dv-color-abyss-dark);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-sash {\\n  border-radius: 4px;\\n}\\n.dockview-theme-abyss-spaced .dv-drop-target-anchor {\\n  border-radius: calc(var(--dv-border-radius) / 4);\\n}\\n.dockview-theme-abyss-spaced .dv-drop-target-anchor.dv-drop-target-content {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container {\\n  border-radius: var(--dv-border-radius) !important;\\n  border: none;\\n}\\n.dockview-theme-abyss-spaced .dv-tabs-overflow-container,\\n.dockview-theme-abyss-spaced .dv-tabs-overflow-dropdown-default {\\n  border-radius: 8px;\\n  height: unset !important;\\n}\\n.dockview-theme-abyss-spaced .dv-tab {\\n  border-radius: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-groupview {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-abyss-spaced .dv-groupview .dv-tabs-and-actions-container {\\n  padding: 0px calc(var(--dv-border-radius) / 2);\\n}\\n.dockview-theme-abyss-spaced .dv-groupview .dv-content-container {\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container .dv-groupview {\\n  border: 2px solid var(--dv-color-abyss-dark);\\n}\\n\\n.dockview-theme-light-spaced {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-tab-font-size: 12px;\\n  --dv-border-radius: 20px;\\n  --dv-tab-margin: 0.5rem 0.25rem;\\n  --dv-tabs-and-actions-container-height: 44px;\\n  --dv-border-radius: 20px;\\n  box-sizing: border-box;\\n  --dv-drag-over-border: 2px solid rgb(91, 30, 207);\\n  --dv-drag-over-background-color: \\\"\\\";\\n  --dv-group-view-background-color: #f6f5f9;\\n  --dv-tabs-and-actions-container-background-color: white;\\n  --dv-activegroup-visiblepanel-tab-background-color: #ededf0;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #f9f9fa;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #ededf0;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #f9f9fa;\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(104, 107, 130);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(148, 151, 169);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgb(104, 107, 130);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgb(148, 151, 169);\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-active-sash-color: rgb(91, 30, 207);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.1);\\n  padding: 10px;\\n  background-color: #f6f5f9;\\n  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);\\n}\\n.dockview-theme-light-spaced .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-light-spaced .dv-sash {\\n  border-radius: 4px;\\n}\\n.dockview-theme-light-spaced .dv-drop-target-anchor {\\n  border-radius: calc(var(--dv-border-radius) / 4);\\n}\\n.dockview-theme-light-spaced .dv-drop-target-anchor.dv-drop-target-content {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-light-spaced .dv-resize-container {\\n  border-radius: var(--dv-border-radius) !important;\\n  border: none;\\n}\\n.dockview-theme-light-spaced .dv-tabs-overflow-container,\\n.dockview-theme-light-spaced .dv-tabs-overflow-dropdown-default {\\n  border-radius: 8px;\\n  height: unset !important;\\n}\\n.dockview-theme-light-spaced .dv-tab {\\n  border-radius: 8px;\\n}\\n.dockview-theme-light-spaced .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-light-spaced .dv-groupview {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-light-spaced .dv-groupview .dv-tabs-and-actions-container {\\n  padding: 0px calc(var(--dv-border-radius) / 2);\\n}\\n.dockview-theme-light-spaced .dv-groupview .dv-content-container {\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n}\\n.dockview-theme-light-spaced .dv-resize-container .dv-groupview {\\n  border: 2px solid rgba(255, 255, 255, 0.1);\\n}\\n.dv-drop-target-container {\\n  position: absolute;\\n  z-index: 9999;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  pointer-events: none;\\n  overflow: hidden;\\n  --dv-transition-duration: 300ms;\\n}\\n.dv-drop-target-container .dv-drop-target-anchor {\\n  position: relative;\\n  border: var(--dv-drag-over-border);\\n  background-color: var(--dv-drag-over-background-color);\\n  opacity: 1;\\n  /* GPU optimizations */\\n  will-change: transform, opacity;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  contain: layout paint;\\n  transition: opacity var(--dv-transition-duration) ease-in, transform var(--dv-transition-duration) ease-out;\\n}\\n.dv-drop-target {\\n  position: relative;\\n  --dv-transition-duration: 70ms;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 1000;\\n  pointer-events: none;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection {\\n  position: relative;\\n  box-sizing: border-box;\\n  height: 100%;\\n  width: 100%;\\n  border: var(--dv-drag-over-border);\\n  background-color: var(--dv-drag-over-background-color);\\n  transition: top var(--dv-transition-duration) ease-out, left var(--dv-transition-duration) ease-out, width var(--dv-transition-duration) ease-out, height var(--dv-transition-duration) ease-out, opacity var(--dv-transition-duration) ease-out;\\n  will-change: transform;\\n  pointer-events: none;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-top.dv-drop-target-small-vertical {\\n  border-top: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-bottom.dv-drop-target-small-vertical {\\n  border-bottom: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-left.dv-drop-target-small-horizontal {\\n  border-left: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-right.dv-drop-target-small-horizontal {\\n  border-right: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-dockview {\\n  position: relative;\\n  background-color: var(--dv-group-view-background-color);\\n  contain: layout;\\n}\\n.dv-dockview .dv-watermark-container {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 1;\\n}\\n.dv-dockview .dv-overlay-render-container {\\n  position: relative;\\n}\\n\\n.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {\\n  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n}\\n.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  background-color: var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-inactivegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {\\n  background-color: var(--dv-inactivegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-inactivegroup-hiddenpanel-tab-color);\\n}\\n\\n/**\\n * when a tab is dragged we lose the above stylings because they are conditional on parent elements\\n * therefore we also set some stylings for the dragging event\\n **/\\n.dv-tab.dv-tab-dragging {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview {\\n  display: flex;\\n  height: 100%;\\n  background-color: var(--dv-group-view-background-color);\\n  overflow: hidden;\\n  flex-direction: column;\\n}\\n.dv-groupview:focus {\\n  outline: none;\\n}\\n.dv-groupview > .dv-content-container {\\n  flex-grow: 1;\\n  min-height: 0;\\n  outline: none;\\n}\\n.dv-groupview.dv-groupview-header-bottom {\\n  flex-direction: column-reverse;\\n}\\n.dv-groupview.dv-groupview-header-left {\\n  flex-direction: row;\\n}\\n.dv-groupview.dv-groupview-header-right {\\n  flex-direction: row-reverse;\\n}\\n.dv-root-wrapper {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-grid-view,\\n.dv-branch-node {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-top {\\n  background-color: red;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-bottom {\\n  background-color: green;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-left {\\n  background-color: yellow;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-right {\\n  background-color: blue;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-topleft,\\n.dv-debug .dv-resize-container .dv-resize-handle-topright,\\n.dv-debug .dv-resize-container .dv-resize-handle-bottomleft,\\n.dv-debug .dv-resize-container .dv-resize-handle-bottomright {\\n  background-color: cyan;\\n}\\n\\n.dv-resize-container {\\n  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);\\n  position: absolute;\\n  z-index: calc(var(--dv-overlay-z-index) - 2);\\n  border: 1px solid var(--dv-tab-divider-color);\\n  box-shadow: var(--dv-floating-box-shadow);\\n  /* GPU optimizations for floating group movement */\\n  will-change: transform, opacity;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n}\\n.dv-resize-container.dv-hidden {\\n  display: none;\\n}\\n.dv-resize-container.dv-resize-container-dragging {\\n  opacity: 0.5;\\n  /* Enhanced GPU acceleration during drag */\\n  will-change: transform, opacity;\\n}\\n.dv-resize-container .dv-resize-handle-top {\\n  height: 4px;\\n  width: calc(100% - 8px);\\n  left: 4px;\\n  top: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ns-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottom {\\n  height: 4px;\\n  width: calc(100% - 8px);\\n  left: 4px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ns-resize;\\n}\\n.dv-resize-container .dv-resize-handle-left {\\n  height: calc(100% - 8px);\\n  width: 4px;\\n  left: -2px;\\n  top: 4px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ew-resize;\\n}\\n.dv-resize-container .dv-resize-handle-right {\\n  height: calc(100% - 8px);\\n  width: 4px;\\n  right: -2px;\\n  top: 4px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ew-resize;\\n}\\n.dv-resize-container .dv-resize-handle-topleft {\\n  height: 4px;\\n  width: 4px;\\n  top: -2px;\\n  left: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: nw-resize;\\n}\\n.dv-resize-container .dv-resize-handle-topright {\\n  height: 4px;\\n  width: 4px;\\n  right: -2px;\\n  top: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ne-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottomleft {\\n  height: 4px;\\n  width: 4px;\\n  left: -2px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: sw-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottomright {\\n  height: 4px;\\n  width: 4px;\\n  right: -2px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: se-resize;\\n}\\n.dv-render-overlay {\\n  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);\\n  position: absolute;\\n  z-index: 1;\\n  width: 100%;\\n  height: 100%;\\n  contain: layout paint;\\n  isolation: isolate;\\n  /* GPU optimizations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n}\\n.dv-render-overlay.dv-render-overlay-float {\\n  z-index: calc(var(--dv-overlay-z-index) - 1);\\n}\\n\\n.dv-debug .dv-render-overlay {\\n  outline: 1px solid red;\\n  outline-offset: -1;\\n}\\n.dv-pane-container {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-pane-container.dv-animated .dv-view {\\n  /* GPU optimizations for smooth pane animations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition: transform 0.15s ease-out;\\n}\\n.dv-pane-container .dv-view {\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 0px !important;\\n}\\n.dv-pane-container .dv-view:not(:first-child)::before {\\n  background-color: transparent !important;\\n}\\n.dv-pane-container .dv-view:not(:first-child) .dv-pane > .dv-pane-header {\\n  border-top: 1px solid var(--dv-paneview-header-border-color);\\n}\\n.dv-pane-container .dv-view .dv-default-header {\\n  background-color: var(--dv-group-view-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n  display: flex;\\n  padding: 0px 8px;\\n  cursor: pointer;\\n}\\n.dv-pane-container .dv-view .dv-default-header .dv-pane-header-icon {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.dv-pane-container .dv-view .dv-default-header > span {\\n  padding-left: 8px;\\n  flex-grow: 1;\\n}\\n.dv-pane-container:first-of-type > .dv-pane > .dv-pane-header {\\n  border-top: none !important;\\n}\\n.dv-pane-container .dv-pane {\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n  height: 100%;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header {\\n  box-sizing: border-box;\\n  user-select: none;\\n  position: relative;\\n  outline: none;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header.dv-pane-draggable {\\n  cursor: pointer;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header:focus:before, .dv-pane-container .dv-pane .dv-pane-header:focus-within:before {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 5;\\n  content: \\\"\\\";\\n  pointer-events: none;\\n  outline: 1px solid;\\n  outline-width: -1px;\\n  outline-style: solid;\\n  outline-offset: -1px;\\n  outline-color: var(--dv-paneview-active-outline-color);\\n}\\n.dv-pane-container .dv-pane .dv-pane-body {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  flex-grow: 1;\\n  position: relative;\\n  outline: none;\\n}\\n.dv-pane-container .dv-pane .dv-pane-body:focus:before, .dv-pane-container .dv-pane .dv-pane-body:focus-within:before {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 5;\\n  content: \\\"\\\";\\n  pointer-events: none;\\n  outline: 1px solid;\\n  outline-width: -1px;\\n  outline-style: solid;\\n  outline-offset: -1px;\\n  outline-color: var(--dv-paneview-active-outline-color);\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-enabled {\\n  background-color: black;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-disabled {\\n  background-color: orange;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-maximum {\\n  background-color: green;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-minimum {\\n  background-color: red;\\n}\\n\\n.dv-split-view-container {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-splitview-disabled > .dv-sash-container > .dv-sash {\\n  pointer-events: none;\\n}\\n.dv-split-view-container.dv-animation .dv-view,\\n.dv-split-view-container.dv-animation .dv-sash {\\n  /* GPU optimizations for smooth animations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition: transform 0.15s ease-out;\\n}\\n.dv-split-view-container.dv-horizontal {\\n  height: 100%;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash {\\n  height: 100%;\\n  width: 4px;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-enabled {\\n  cursor: ew-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-disabled {\\n  cursor: default;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-maximum {\\n  cursor: w-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-minimum {\\n  cursor: e-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-view-container > .dv-view:not(:first-child)::before {\\n  height: 100%;\\n  width: 1px;\\n}\\n.dv-split-view-container.dv-vertical {\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash {\\n  width: 100%;\\n  height: 4px;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-enabled {\\n  cursor: ns-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-disabled {\\n  cursor: default;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-maximum {\\n  cursor: n-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-minimum {\\n  cursor: s-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view {\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view:not(:first-child)::before {\\n  height: 1px;\\n  width: 100%;\\n}\\n.dv-split-view-container .dv-sash-container {\\n  height: 100%;\\n  width: 100%;\\n  position: absolute;\\n}\\n.dv-split-view-container .dv-sash-container .dv-sash {\\n  position: absolute;\\n  z-index: 99;\\n  outline: none;\\n  user-select: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  touch-action: none;\\n  background-color: var(--dv-sash-color, transparent);\\n}\\n.dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):active, .dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):hover {\\n  background-color: var(--dv-active-sash-color, transparent);\\n  transition-property: background-color;\\n  transition-timing-function: ease-in-out;\\n  transition-duration: var(--dv-active-sash-transition-duration, 0.1s);\\n  transition-delay: var(--dv-active-sash-transition-delay, 0.5s);\\n}\\n.dv-split-view-container .dv-view-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-split-view-container .dv-view-container .dv-view {\\n  height: 100%;\\n  box-sizing: border-box;\\n  overflow: auto;\\n  position: absolute;\\n}\\n.dv-split-view-container.dv-separator-border .dv-view:not(:first-child)::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 5;\\n  pointer-events: none;\\n  background-color: var(--dv-separator-border);\\n}\\n.dv-dragged {\\n  transform: translate3d(0px, 0px, 0px); /* forces tab to be drawn on a separate layer (see https://github.com/microsoft/vscode/issues/18733) */\\n}\\n\\n.dv-tab {\\n  flex-shrink: 0;\\n}\\n.dv-tab:focus-within, .dv-tab:focus {\\n  position: relative;\\n}\\n.dv-tab:focus-within::after, .dv-tab:focus::after {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 100%;\\n  width: 100%;\\n  top: 0px;\\n  left: 0px;\\n  pointer-events: none;\\n  outline: 1px solid var(--dv-tab-divider-color) !important;\\n  outline-offset: -1px;\\n  z-index: 5;\\n}\\n.dv-tab.dv-tab-dragging .dv-default-tab-action {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-tab.dv-active-tab .dv-default-tab .dv-default-tab-action {\\n  visibility: visible;\\n}\\n.dv-tab.dv-inactive-tab .dv-default-tab .dv-default-tab-action {\\n  visibility: hidden;\\n}\\n.dv-tab.dv-inactive-tab .dv-default-tab:hover .dv-default-tab-action {\\n  visibility: visible;\\n}\\n.dv-tab .dv-default-tab {\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-content {\\n  flex-grow: 1;\\n  margin-right: 4px;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-action {\\n  padding: 4px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  box-sizing: border-box;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-action:hover {\\n  border-radius: 2px;\\n  background-color: var(--dv-icon-hover-background-color);\\n}\\n.dv-tabs-overflow-dropdown-default {\\n  height: 100%;\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n  margin: var(--dv-tab-margin);\\n  display: flex;\\n  align-items: center;\\n  flex-shrink: 0;\\n  padding: 0.25rem 0.5rem;\\n  cursor: pointer;\\n}\\n.dv-tabs-overflow-dropdown-default > span {\\n  padding-left: 0.25rem;\\n}\\n.dv-tabs-overflow-dropdown-default > svg {\\n  transform: rotate(90deg);\\n}\\n.dv-tabs-container {\\n  display: flex;\\n  height: 100%;\\n  overflow: auto;\\n  scrollbar-width: thin;\\n  /* GPU optimizations for smooth scrolling */\\n  will-change: scroll-position;\\n  transform: translate3d(0, 0, 0);\\n  /* Track */\\n  /* Handle */\\n}\\n.dv-tabs-container.dv-tabs-container-vertical {\\n  width: 100%;\\n  height: fit-content;\\n  max-height: 100%;\\n  writing-mode: vertical-rl;\\n}\\n.dv-tabs-container.dv-horizontal .dv-tab:not(:first-child)::before, .dv-tabs-container.dv-vertical .dv-tab:not(:first-child)::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 5;\\n  pointer-events: none;\\n  background-color: var(--dv-tab-divider-color);\\n}\\n.dv-tabs-container.dv-horizontal .dv-tab:not(:first-child)::before {\\n  width: 1px;\\n  height: 100%;\\n}\\n.dv-tabs-container.dv-vertical .dv-tab:not(:first-child)::before {\\n  width: 100%;\\n  height: 1px;\\n}\\n.dv-tabs-container::-webkit-scrollbar {\\n  height: 3px;\\n}\\n.dv-tabs-container::-webkit-scrollbar-track {\\n  background: transparent;\\n}\\n.dv-tabs-container::-webkit-scrollbar-thumb {\\n  background: var(--dv-tabs-container-scrollbar-color);\\n}\\n\\n.dv-scrollable > .dv-tabs-container {\\n  overflow: hidden;\\n}\\n\\n.dv-tab {\\n  -webkit-user-drag: element;\\n  outline: none;\\n  padding: 0.25rem 0.5rem;\\n  cursor: pointer;\\n  position: relative;\\n  box-sizing: border-box;\\n  font-size: var(--dv-tab-font-size);\\n  margin: var(--dv-tab-margin);\\n}\\n\\n.dv-tabs-container-vertical .dv-tab {\\n  padding: 0.5rem 0.25rem;\\n}\\n\\n.dv-tabs-overflow-container {\\n  flex-direction: column;\\n  height: unset;\\n  max-height: min(50vh, 400px);\\n  overflow-y: auto;\\n  border: 1px solid var(--dv-tab-divider-color);\\n  background-color: var(--dv-group-view-background-color);\\n  /* Scrollbar styling for webkit browsers */\\n  /* Firefox scrollbar */\\n  scrollbar-width: thin;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar {\\n  width: 6px;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar-track {\\n  background: transparent;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar-thumb {\\n  background: var(--dv-tabs-container-scrollbar-color);\\n  border-radius: 3px;\\n}\\n.dv-tabs-overflow-container .dv-tab:not(:last-child) {\\n  border-bottom: 1px solid var(--dv-tab-divider-color);\\n}\\n.dv-tabs-overflow-container .dv-active-tab {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-tabs-overflow-container .dv-inactive-tab {\\n  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n}\\n.dv-tabs-and-actions-container {\\n  display: flex;\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n  flex-shrink: 0;\\n  box-sizing: border-box;\\n  height: var(--dv-tabs-and-actions-container-height);\\n  font-size: var(--dv-tabs-and-actions-container-font-size);\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-scrollable {\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container {\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container .dv-tab {\\n  flex-grow: 1;\\n  padding: 0px;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-void-container {\\n  flex-grow: 0;\\n}\\n.dv-tabs-and-actions-container .dv-void-container {\\n  display: flex;\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container .dv-void-container.dv-draggable {\\n  cursor: grab;\\n}\\n.dv-tabs-and-actions-container .dv-right-actions-container {\\n  display: flex;\\n}\\n.dv-tabs-and-actions-container .dv-right-actions-container.dv-right-actions-container-vertical {\\n  flex-direction: column;\\n}\\n.dv-tabs-and-actions-container.dv-groupview-header-vertical {\\n  flex-direction: column;\\n  height: auto;\\n  width: var(--dv-tabs-and-actions-container-height);\\n}\\n.dv-watermark {\\n  display: flex;\\n  height: 100%;\\n}\";\nstyleInject(css_248z);\n\nclass TransferObject {\n}\nclass PanelTransfer extends TransferObject {\n    constructor(viewId, groupId, panelId) {\n        super();\n        this.viewId = viewId;\n        this.groupId = groupId;\n        this.panelId = panelId;\n    }\n}\nclass PaneTransfer extends TransferObject {\n    constructor(viewId, paneId) {\n        super();\n        this.viewId = viewId;\n        this.paneId = paneId;\n    }\n}\n/**\n * A singleton to store transfer data during drag & drop operations that are only valid within the application.\n */\nclass LocalSelectionTransfer {\n    constructor() {\n        // protect against external instantiation\n    }\n    static getInstance() {\n        return LocalSelectionTransfer.INSTANCE;\n    }\n    hasData(proto) {\n        return proto && proto === this.proto;\n    }\n    clearData(proto) {\n        if (this.hasData(proto)) {\n            this.proto = undefined;\n            this.data = undefined;\n        }\n    }\n    getData(proto) {\n        if (this.hasData(proto)) {\n            return this.data;\n        }\n        return undefined;\n    }\n    setData(data, proto) {\n        if (proto) {\n            this.data = data;\n            this.proto = proto;\n        }\n    }\n}\nLocalSelectionTransfer.INSTANCE = new LocalSelectionTransfer();\nfunction getPanelData() {\n    const panelTransfer = LocalSelectionTransfer.getInstance();\n    const isPanelEvent = panelTransfer.hasData(PanelTransfer.prototype);\n    if (!isPanelEvent) {\n        return undefined;\n    }\n    return panelTransfer.getData(PanelTransfer.prototype)[0];\n}\nfunction getPaneData() {\n    const paneTransfer = LocalSelectionTransfer.getInstance();\n    const isPanelEvent = paneTransfer.hasData(PaneTransfer.prototype);\n    if (!isPanelEvent) {\n        return undefined;\n    }\n    return paneTransfer.getData(PaneTransfer.prototype)[0];\n}\n\nvar Event;\n(function (Event) {\n    Event.any = (...children) => {\n        return (listener) => {\n            const disposables = children.map((child) => child(listener));\n            return {\n                dispose: () => {\n                    disposables.forEach((d) => {\n                        d.dispose();\n                    });\n                },\n            };\n        };\n    };\n})(Event || (Event = {}));\nclass DockviewEvent {\n    constructor() {\n        this._defaultPrevented = false;\n    }\n    get defaultPrevented() {\n        return this._defaultPrevented;\n    }\n    preventDefault() {\n        this._defaultPrevented = true;\n    }\n}\nclass AcceptableEvent {\n    constructor() {\n        this._isAccepted = false;\n    }\n    get isAccepted() {\n        return this._isAccepted;\n    }\n    accept() {\n        this._isAccepted = true;\n    }\n}\nclass LeakageMonitor {\n    constructor() {\n        this.events = new Map();\n    }\n    get size() {\n        return this.events.size;\n    }\n    add(event, stacktrace) {\n        this.events.set(event, stacktrace);\n    }\n    delete(event) {\n        this.events.delete(event);\n    }\n    clear() {\n        this.events.clear();\n    }\n}\nclass Stacktrace {\n    static create() {\n        var _a;\n        return new Stacktrace((_a = new Error().stack) !== null && _a !== void 0 ? _a : '');\n    }\n    constructor(value) {\n        this.value = value;\n    }\n    print() {\n        console.warn('dockview: stacktrace', this.value);\n    }\n}\nclass Listener {\n    constructor(callback, stacktrace) {\n        this.callback = callback;\n        this.stacktrace = stacktrace;\n    }\n}\n// relatively simple event emitter taken from https://github.com/microsoft/vscode/blob/master/src/vs/base/common/event.ts\nclass Emitter {\n    static setLeakageMonitorEnabled(isEnabled) {\n        if (isEnabled !== Emitter.ENABLE_TRACKING) {\n            Emitter.MEMORY_LEAK_WATCHER.clear();\n        }\n        Emitter.ENABLE_TRACKING = isEnabled;\n    }\n    get value() {\n        return this._last;\n    }\n    constructor(options) {\n        this.options = options;\n        this._listeners = [];\n        this._disposed = false;\n    }\n    get event() {\n        if (!this._event) {\n            this._event = (callback) => {\n                var _a;\n                if (((_a = this.options) === null || _a === void 0 ? void 0 : _a.replay) && this._last !== undefined) {\n                    callback(this._last);\n                }\n                const listener = new Listener(callback, Emitter.ENABLE_TRACKING ? Stacktrace.create() : undefined);\n                this._listeners.push(listener);\n                return {\n                    dispose: () => {\n                        const index = this._listeners.indexOf(listener);\n                        if (index > -1) {\n                            this._listeners.splice(index, 1);\n                        }\n                        else if (Emitter.ENABLE_TRACKING) ;\n                    },\n                };\n            };\n            if (Emitter.ENABLE_TRACKING) {\n                Emitter.MEMORY_LEAK_WATCHER.add(this._event, Stacktrace.create());\n            }\n        }\n        return this._event;\n    }\n    fire(e) {\n        var _a;\n        if ((_a = this.options) === null || _a === void 0 ? void 0 : _a.replay) {\n            this._last = e;\n        }\n        for (const listener of this._listeners) {\n            listener.callback(e);\n        }\n    }\n    dispose() {\n        if (!this._disposed) {\n            this._disposed = true;\n            if (this._listeners.length > 0) {\n                if (Emitter.ENABLE_TRACKING) {\n                    queueMicrotask(() => {\n                        var _a;\n                        // don't check until stack of execution is completed to allow for out-of-order disposals within the same execution block\n                        for (const listener of this._listeners) {\n                            console.warn('dockview: stacktrace', (_a = listener.stacktrace) === null || _a === void 0 ? void 0 : _a.print());\n                        }\n                    });\n                }\n                this._listeners = [];\n            }\n            if (Emitter.ENABLE_TRACKING && this._event) {\n                Emitter.MEMORY_LEAK_WATCHER.delete(this._event);\n            }\n        }\n    }\n}\nEmitter.ENABLE_TRACKING = false;\nEmitter.MEMORY_LEAK_WATCHER = new LeakageMonitor();\nfunction addDisposableListener(element, type, listener, options) {\n    element.addEventListener(type, listener, options);\n    return {\n        dispose: () => {\n            element.removeEventListener(type, listener, options);\n        },\n    };\n}\n/**\n *\n * Event Emitter that fires events from a Microtask callback, only one event will fire per event-loop cycle.\n *\n * It's kind of like using an `asapScheduler` in RxJs with additional logic to only fire once per event-loop cycle.\n * This implementation exists to avoid external dependencies.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/queueMicrotask\n * @see https://rxjs.dev/api/index/const/asapScheduler\n */\nclass AsapEvent {\n    constructor() {\n        this._onFired = new Emitter();\n        this._currentFireCount = 0;\n        this._queued = false;\n        this.onEvent = (e) => {\n            /**\n             * when the event is first subscribed to take note of the current fire count\n             */\n            const fireCountAtTimeOfEventSubscription = this._currentFireCount;\n            return this._onFired.event(() => {\n                /**\n                 * if the current fire count is greater than the fire count at event subscription\n                 * then the event has been fired since we subscribed and it's ok to \"on_next\" the event.\n                 *\n                 * if the count is not greater then what we are recieving is an event from the microtask\n                 * queue that was triggered before we actually subscribed and therfore we should ignore it.\n                 */\n                if (this._currentFireCount > fireCountAtTimeOfEventSubscription) {\n                    e();\n                }\n            });\n        };\n    }\n    fire() {\n        this._currentFireCount++;\n        if (this._queued) {\n            return;\n        }\n        this._queued = true;\n        queueMicrotask(() => {\n            this._queued = false;\n            this._onFired.fire();\n        });\n    }\n    dispose() {\n        this._onFired.dispose();\n    }\n}\n\nvar Disposable;\n(function (Disposable) {\n    Disposable.NONE = {\n        dispose: () => {\n            // noop\n        },\n    };\n    function from(func) {\n        return {\n            dispose: () => {\n                func();\n            },\n        };\n    }\n    Disposable.from = from;\n})(Disposable || (Disposable = {}));\nclass CompositeDisposable {\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    constructor(...args) {\n        this._isDisposed = false;\n        this._disposables = new Set(args);\n    }\n    addDisposables(...args) {\n        args.forEach((arg) => this._disposables.add(arg));\n    }\n    removeDisposable(disposable) {\n        this._disposables.delete(disposable);\n    }\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        this._disposables.forEach((arg) => arg.dispose());\n        this._disposables.clear();\n    }\n}\nclass MutableDisposable {\n    constructor() {\n        this._disposable = Disposable.NONE;\n    }\n    set value(disposable) {\n        if (this._disposable) {\n            this._disposable.dispose();\n        }\n        this._disposable = disposable;\n    }\n    dispose() {\n        if (this._disposable) {\n            this._disposable.dispose();\n            this._disposable = Disposable.NONE;\n        }\n    }\n}\n\nclass OverflowObserver extends CompositeDisposable {\n    constructor(el) {\n        super();\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._value = null;\n        this.addDisposables(this._onDidChange, watchElementResize(el, (entry) => {\n            const hasScrollX = entry.target.scrollWidth > entry.target.clientWidth;\n            const hasScrollY = entry.target.scrollHeight > entry.target.clientHeight;\n            this._value = { hasScrollX, hasScrollY };\n            this._onDidChange.fire(this._value);\n        }));\n    }\n}\nfunction watchElementResize(element, cb) {\n    const observer = new ResizeObserver((entires) => {\n        /**\n         * Fast browser window resize produces Error: ResizeObserver loop limit exceeded.\n         * The error isn't visible in browser console, doesn't affect functionality, but degrades performance.\n         * See https://stackoverflow.com/questions/49384120/resizeobserver-loop-limit-exceeded/58701523#58701523\n         */\n        requestAnimationFrame(() => {\n            const firstEntry = entires[0];\n            cb(firstEntry);\n        });\n    });\n    observer.observe(element);\n    return {\n        dispose: () => {\n            observer.unobserve(element);\n            observer.disconnect();\n        },\n    };\n}\nconst removeClasses = (element, ...classes) => {\n    for (const classname of classes) {\n        if (element.classList.contains(classname)) {\n            element.classList.remove(classname);\n        }\n    }\n};\nconst addClasses = (element, ...classes) => {\n    for (const classname of classes) {\n        if (!element.classList.contains(classname)) {\n            element.classList.add(classname);\n        }\n    }\n};\nconst toggleClass = (element, className, isToggled) => {\n    const hasClass = element.classList.contains(className);\n    if (isToggled && !hasClass) {\n        element.classList.add(className);\n    }\n    if (!isToggled && hasClass) {\n        element.classList.remove(className);\n    }\n};\nfunction isAncestor(testChild, testAncestor) {\n    while (testChild) {\n        if (testChild === testAncestor) {\n            return true;\n        }\n        testChild = testChild.parentNode;\n    }\n    return false;\n}\nfunction trackFocus(element) {\n    return new FocusTracker(element);\n}\n/**\n * Track focus on an element. Ensure tabIndex is set when an HTMLElement is not focusable by default\n */\nclass FocusTracker extends CompositeDisposable {\n    constructor(element) {\n        super();\n        this._onDidFocus = new Emitter();\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = new Emitter();\n        this.onDidBlur = this._onDidBlur.event;\n        this.addDisposables(this._onDidFocus, this._onDidBlur);\n        let hasFocus = isAncestor(document.activeElement, element);\n        let loosingFocus = false;\n        const onFocus = () => {\n            loosingFocus = false;\n            if (!hasFocus) {\n                hasFocus = true;\n                this._onDidFocus.fire();\n            }\n        };\n        const onBlur = () => {\n            if (hasFocus) {\n                loosingFocus = true;\n                window.setTimeout(() => {\n                    if (loosingFocus) {\n                        loosingFocus = false;\n                        hasFocus = false;\n                        this._onDidBlur.fire();\n                    }\n                }, 0);\n            }\n        };\n        this._refreshStateHandler = () => {\n            const currentNodeHasFocus = isAncestor(document.activeElement, element);\n            if (currentNodeHasFocus !== hasFocus) {\n                if (hasFocus) {\n                    onBlur();\n                }\n                else {\n                    onFocus();\n                }\n            }\n        };\n        this.addDisposables(addDisposableListener(element, 'focus', onFocus, true));\n        this.addDisposables(addDisposableListener(element, 'blur', onBlur, true));\n    }\n    refreshState() {\n        this._refreshStateHandler();\n    }\n}\n// quasi: apparently, but not really; seemingly\nconst QUASI_PREVENT_DEFAULT_KEY = 'dv-quasiPreventDefault';\n// mark an event directly for other listeners to check\nfunction quasiPreventDefault(event) {\n    event[QUASI_PREVENT_DEFAULT_KEY] = true;\n}\n// check if this event has been marked\nfunction quasiDefaultPrevented(event) {\n    return event[QUASI_PREVENT_DEFAULT_KEY];\n}\nfunction addStyles(document, styleSheetList) {\n    const styleSheets = Array.from(styleSheetList);\n    for (const styleSheet of styleSheets) {\n        if (styleSheet.href) {\n            const link = document.createElement('link');\n            link.href = styleSheet.href;\n            link.type = styleSheet.type;\n            link.rel = 'stylesheet';\n            document.head.appendChild(link);\n        }\n        let cssTexts = [];\n        try {\n            if (styleSheet.cssRules) {\n                cssTexts = Array.from(styleSheet.cssRules).map((rule) => rule.cssText);\n            }\n        }\n        catch (err) {\n            // security errors (lack of permissions), ignore\n        }\n        for (const rule of cssTexts) {\n            const style = document.createElement('style');\n            style.appendChild(document.createTextNode(rule));\n            document.head.appendChild(style);\n        }\n    }\n}\nfunction getDomNodePagePosition(domNode) {\n    const { left, top, width, height } = domNode.getBoundingClientRect();\n    return {\n        left: left + window.scrollX,\n        top: top + window.scrollY,\n        width: width,\n        height: height,\n    };\n}\n/**\n * Check whether an element is in the DOM (including the Shadow DOM)\n * @see https://terodox.tech/how-to-tell-if-an-element-is-in-the-dom-including-the-shadow-dom/\n */\nfunction isInDocument(element) {\n    let currentElement = element;\n    while (currentElement === null || currentElement === void 0 ? void 0 : currentElement.parentNode) {\n        if (currentElement.parentNode === document) {\n            return true;\n        }\n        else if (currentElement.parentNode instanceof DocumentFragment) {\n            // handle shadow DOMs\n            currentElement = currentElement.parentNode.host;\n        }\n        else {\n            currentElement = currentElement.parentNode;\n        }\n    }\n    return false;\n}\nfunction addTestId(element, id) {\n    element.setAttribute('data-testid', id);\n}\n/**\n * Should be more efficient than element.querySelectorAll(\"*\") since there\n * is no need to store every element in-memory using this approach\n */\nfunction allTagsNamesInclusiveOfShadowDoms(tagNames) {\n    const iframes = [];\n    function findIframesInNode(node) {\n        if (node.nodeType === Node.ELEMENT_NODE) {\n            if (tagNames.includes(node.tagName)) {\n                iframes.push(node);\n            }\n            if (node.shadowRoot) {\n                findIframesInNode(node.shadowRoot);\n            }\n            for (const child of node.children) {\n                findIframesInNode(child);\n            }\n        }\n    }\n    findIframesInNode(document.documentElement);\n    return iframes;\n}\nfunction disableIframePointEvents(rootNode = document) {\n    const iframes = allTagsNamesInclusiveOfShadowDoms(['IFRAME', 'WEBVIEW']);\n    const original = new WeakMap(); // don't hold onto HTMLElement references longer than required\n    for (const iframe of iframes) {\n        original.set(iframe, iframe.style.pointerEvents);\n        iframe.style.pointerEvents = 'none';\n    }\n    return {\n        release: () => {\n            var _a;\n            for (const iframe of iframes) {\n                iframe.style.pointerEvents = (_a = original.get(iframe)) !== null && _a !== void 0 ? _a : 'auto';\n            }\n            iframes.splice(0, iframes.length); // don't hold onto HTMLElement references longer than required\n        },\n    };\n}\nfunction getDockviewTheme(element) {\n    function toClassList(element) {\n        const list = [];\n        for (let i = 0; i < element.classList.length; i++) {\n            list.push(element.classList.item(i));\n        }\n        return list;\n    }\n    let theme = undefined;\n    let parent = element;\n    while (parent !== null) {\n        theme = toClassList(parent).find((cls) => cls.startsWith('dockview-theme-'));\n        if (typeof theme === 'string') {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return theme;\n}\nclass Classnames {\n    constructor(element) {\n        this.element = element;\n        this._classNames = [];\n    }\n    setClassNames(classNames) {\n        for (const className of this._classNames) {\n            toggleClass(this.element, className, false);\n        }\n        this._classNames = classNames\n            .split(' ')\n            .filter((v) => v.trim().length > 0);\n        for (const className of this._classNames) {\n            toggleClass(this.element, className, true);\n        }\n    }\n}\nconst DEBOUCE_DELAY = 100;\nfunction isChildEntirelyVisibleWithinParent(child, parent) {\n    const childPosition = getDomNodePagePosition(child);\n    const parentPosition = getDomNodePagePosition(parent);\n    // Check horizontal visibility\n    if (childPosition.left < parentPosition.left) {\n        return false;\n    }\n    if (childPosition.left + childPosition.width >\n        parentPosition.left + parentPosition.width) {\n        return false;\n    }\n    // Check vertical visibility\n    if (childPosition.top < parentPosition.top) {\n        return false;\n    }\n    if (childPosition.top + childPosition.height >\n        parentPosition.top + parentPosition.height) {\n        return false;\n    }\n    return true;\n}\nfunction onDidWindowMoveEnd(window) {\n    const emitter = new Emitter();\n    let previousScreenX = window.screenX;\n    let previousScreenY = window.screenY;\n    let timeout;\n    const checkMovement = () => {\n        if (window.closed) {\n            return;\n        }\n        const currentScreenX = window.screenX;\n        const currentScreenY = window.screenY;\n        if (currentScreenX !== previousScreenX ||\n            currentScreenY !== previousScreenY) {\n            clearTimeout(timeout);\n            timeout = setTimeout(() => {\n                emitter.fire();\n            }, DEBOUCE_DELAY);\n            previousScreenX = currentScreenX;\n            previousScreenY = currentScreenY;\n        }\n        requestAnimationFrame(checkMovement);\n    };\n    checkMovement();\n    return emitter;\n}\nfunction onDidWindowResizeEnd(element, cb) {\n    let resizeTimeout;\n    const disposable = new CompositeDisposable(addDisposableListener(element, 'resize', () => {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(() => {\n            cb();\n        }, DEBOUCE_DELAY);\n    }));\n    return disposable;\n}\nfunction shiftAbsoluteElementIntoView(element, root, options = { buffer: 10 }) {\n    const buffer = options.buffer;\n    const rect = element.getBoundingClientRect();\n    const rootRect = root.getBoundingClientRect();\n    let translateX = 0;\n    let translateY = 0;\n    const left = rect.left - rootRect.left;\n    const top = rect.top - rootRect.top;\n    const bottom = rect.bottom - rootRect.bottom;\n    const right = rect.right - rootRect.right;\n    // Check horizontal overflow\n    if (left < buffer) {\n        translateX = buffer - left;\n    }\n    else if (right > buffer) {\n        translateX = -buffer - right;\n    }\n    // Check vertical overflow\n    if (top < buffer) {\n        translateY = buffer - top;\n    }\n    else if (bottom > buffer) {\n        translateY = -bottom - buffer;\n    }\n    // Apply the translation if needed\n    if (translateX !== 0 || translateY !== 0) {\n        element.style.transform = `translate(${translateX}px, ${translateY}px)`;\n    }\n}\nfunction findRelativeZIndexParent(el) {\n    let tmp = el;\n    while (tmp && (tmp.style.zIndex === 'auto' || tmp.style.zIndex === '')) {\n        tmp = tmp.parentElement;\n    }\n    return tmp;\n}\n\nfunction tail(arr) {\n    if (arr.length === 0) {\n        throw new Error('Invalid tail call');\n    }\n    return [arr.slice(0, arr.length - 1), arr[arr.length - 1]];\n}\nfunction sequenceEquals(arr1, arr2) {\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n    for (let i = 0; i < arr1.length; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Pushes an element to the start of the array, if found.\n */\nfunction pushToStart(arr, value) {\n    const index = arr.indexOf(value);\n    if (index > -1) {\n        arr.splice(index, 1);\n        arr.unshift(value);\n    }\n}\n/**\n * Pushes an element to the end of the array, if found.\n */\nfunction pushToEnd(arr, value) {\n    const index = arr.indexOf(value);\n    if (index > -1) {\n        arr.splice(index, 1);\n        arr.push(value);\n    }\n}\nfunction firstIndex(array, fn) {\n    for (let i = 0; i < array.length; i++) {\n        const element = array[i];\n        if (fn(element)) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction remove(array, value) {\n    const index = array.findIndex((t) => t === value);\n    if (index > -1) {\n        array.splice(index, 1);\n        return true;\n    }\n    return false;\n}\n\nconst clamp = (value, min, max) => {\n    if (min > max) {\n        /**\n         * caveat: an error should be thrown here if this was a proper `clamp` function but we need to handle\n         * cases where `min` > `max` and in those cases return `min`.\n         */\n        return min;\n    }\n    return Math.min(max, Math.max(value, min));\n};\nconst sequentialNumberGenerator = () => {\n    let value = 1;\n    return { next: () => (value++).toString() };\n};\nconst range = (from, to) => {\n    const result = [];\n    if (typeof to !== 'number') {\n        to = from;\n        from = 0;\n    }\n    if (from <= to) {\n        for (let i = from; i < to; i++) {\n            result.push(i);\n        }\n    }\n    else {\n        for (let i = from; i > to; i--) {\n            result.push(i);\n        }\n    }\n    return result;\n};\n\nclass ViewItem {\n    set size(size) {\n        this._size = size;\n    }\n    get size() {\n        return this._size;\n    }\n    get cachedVisibleSize() {\n        return this._cachedVisibleSize;\n    }\n    get visible() {\n        return typeof this._cachedVisibleSize === 'undefined';\n    }\n    get minimumSize() {\n        return this.visible ? this.view.minimumSize : 0;\n    }\n    get viewMinimumSize() {\n        return this.view.minimumSize;\n    }\n    get maximumSize() {\n        return this.visible ? this.view.maximumSize : 0;\n    }\n    get viewMaximumSize() {\n        return this.view.maximumSize;\n    }\n    get priority() {\n        return this.view.priority;\n    }\n    get snap() {\n        return !!this.view.snap;\n    }\n    set enabled(enabled) {\n        this.container.style.pointerEvents = enabled ? '' : 'none';\n    }\n    constructor(container, view, size, disposable) {\n        this.container = container;\n        this.view = view;\n        this.disposable = disposable;\n        this._cachedVisibleSize = undefined;\n        if (typeof size === 'number') {\n            this._size = size;\n            this._cachedVisibleSize = undefined;\n            container.classList.add('visible');\n        }\n        else {\n            this._size = 0;\n            this._cachedVisibleSize = size.cachedVisibleSize;\n        }\n    }\n    setVisible(visible, size) {\n        var _a;\n        if (visible === this.visible) {\n            return;\n        }\n        if (visible) {\n            this.size = clamp((_a = this._cachedVisibleSize) !== null && _a !== void 0 ? _a : 0, this.viewMinimumSize, this.viewMaximumSize);\n            this._cachedVisibleSize = undefined;\n        }\n        else {\n            this._cachedVisibleSize =\n                typeof size === 'number' ? size : this.size;\n            this.size = 0;\n        }\n        this.container.classList.toggle('visible', visible);\n        if (this.view.setVisible) {\n            this.view.setVisible(visible);\n        }\n    }\n    dispose() {\n        this.disposable.dispose();\n        return this.view;\n    }\n}\n\n/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/splitview\n *--------------------------------------------------------------------------------------------*/\nvar Orientation;\n(function (Orientation) {\n    Orientation[\"HORIZONTAL\"] = \"HORIZONTAL\";\n    Orientation[\"VERTICAL\"] = \"VERTICAL\";\n})(Orientation || (Orientation = {}));\nvar SashState;\n(function (SashState) {\n    SashState[SashState[\"MAXIMUM\"] = 0] = \"MAXIMUM\";\n    SashState[SashState[\"MINIMUM\"] = 1] = \"MINIMUM\";\n    SashState[SashState[\"DISABLED\"] = 2] = \"DISABLED\";\n    SashState[SashState[\"ENABLED\"] = 3] = \"ENABLED\";\n})(SashState || (SashState = {}));\nvar LayoutPriority;\n(function (LayoutPriority) {\n    LayoutPriority[\"Low\"] = \"low\";\n    LayoutPriority[\"High\"] = \"high\";\n    LayoutPriority[\"Normal\"] = \"normal\";\n})(LayoutPriority || (LayoutPriority = {}));\nvar Sizing;\n(function (Sizing) {\n    Sizing.Distribute = { type: 'distribute' };\n    function Split(index) {\n        return { type: 'split', index };\n    }\n    Sizing.Split = Split;\n    function Invisible(cachedVisibleSize) {\n        return { type: 'invisible', cachedVisibleSize };\n    }\n    Sizing.Invisible = Invisible;\n})(Sizing || (Sizing = {}));\nclass Splitview {\n    get contentSize() {\n        return this._contentSize;\n    }\n    get size() {\n        return this._size;\n    }\n    set size(value) {\n        this._size = value;\n    }\n    get orthogonalSize() {\n        return this._orthogonalSize;\n    }\n    set orthogonalSize(value) {\n        this._orthogonalSize = value;\n    }\n    get length() {\n        return this.viewItems.length;\n    }\n    get proportions() {\n        return this._proportions ? [...this._proportions] : undefined;\n    }\n    get orientation() {\n        return this._orientation;\n    }\n    set orientation(value) {\n        this._orientation = value;\n        const tmp = this.size;\n        this.size = this.orthogonalSize;\n        this.orthogonalSize = tmp;\n        removeClasses(this.element, 'dv-horizontal', 'dv-vertical');\n        this.element.classList.add(this.orientation == Orientation.HORIZONTAL\n            ? 'dv-horizontal'\n            : 'dv-vertical');\n    }\n    get minimumSize() {\n        return this.viewItems.reduce((r, item) => r + item.minimumSize, 0);\n    }\n    get maximumSize() {\n        return this.length === 0\n            ? Number.POSITIVE_INFINITY\n            : this.viewItems.reduce((r, item) => r + item.maximumSize, 0);\n    }\n    get startSnappingEnabled() {\n        return this._startSnappingEnabled;\n    }\n    set startSnappingEnabled(startSnappingEnabled) {\n        if (this._startSnappingEnabled === startSnappingEnabled) {\n            return;\n        }\n        this._startSnappingEnabled = startSnappingEnabled;\n        this.updateSashEnablement();\n    }\n    get endSnappingEnabled() {\n        return this._endSnappingEnabled;\n    }\n    set endSnappingEnabled(endSnappingEnabled) {\n        if (this._endSnappingEnabled === endSnappingEnabled) {\n            return;\n        }\n        this._endSnappingEnabled = endSnappingEnabled;\n        this.updateSashEnablement();\n    }\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        this._disabled = value;\n        toggleClass(this.element, 'dv-splitview-disabled', value);\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(value) {\n        this._margin = value;\n        toggleClass(this.element, 'dv-splitview-has-margin', value !== 0);\n    }\n    constructor(container, options) {\n        var _a, _b;\n        this.container = container;\n        this.viewItems = [];\n        this.sashes = [];\n        this._size = 0;\n        this._orthogonalSize = 0;\n        this._contentSize = 0;\n        this._proportions = undefined;\n        this._startSnappingEnabled = true;\n        this._endSnappingEnabled = true;\n        this._disabled = false;\n        this._margin = 0;\n        this._onDidSashEnd = new Emitter();\n        this.onDidSashEnd = this._onDidSashEnd.event;\n        this._onDidAddView = new Emitter();\n        this.onDidAddView = this._onDidAddView.event;\n        this._onDidRemoveView = new Emitter();\n        this.onDidRemoveView = this._onDidRemoveView.event;\n        this.resize = (index, delta, sizes = this.viewItems.map((x) => x.size), lowPriorityIndexes, highPriorityIndexes, overloadMinDelta = Number.NEGATIVE_INFINITY, overloadMaxDelta = Number.POSITIVE_INFINITY, snapBefore, snapAfter) => {\n            if (index < 0 || index > this.viewItems.length) {\n                return 0;\n            }\n            const upIndexes = range(index, -1);\n            const downIndexes = range(index + 1, this.viewItems.length);\n            //\n            if (highPriorityIndexes) {\n                for (const i of highPriorityIndexes) {\n                    pushToStart(upIndexes, i);\n                    pushToStart(downIndexes, i);\n                }\n            }\n            if (lowPriorityIndexes) {\n                for (const i of lowPriorityIndexes) {\n                    pushToEnd(upIndexes, i);\n                    pushToEnd(downIndexes, i);\n                }\n            }\n            //\n            const upItems = upIndexes.map((i) => this.viewItems[i]);\n            const upSizes = upIndexes.map((i) => sizes[i]);\n            //\n            const downItems = downIndexes.map((i) => this.viewItems[i]);\n            const downSizes = downIndexes.map((i) => sizes[i]);\n            //\n            const minDeltaUp = upIndexes.reduce((_, i) => _ + this.viewItems[i].minimumSize - sizes[i], 0);\n            const maxDeltaUp = upIndexes.reduce((_, i) => _ + this.viewItems[i].maximumSize - sizes[i], 0);\n            //\n            const maxDeltaDown = downIndexes.length === 0\n                ? Number.POSITIVE_INFINITY\n                : downIndexes.reduce((_, i) => _ + sizes[i] - this.viewItems[i].minimumSize, 0);\n            const minDeltaDown = downIndexes.length === 0\n                ? Number.NEGATIVE_INFINITY\n                : downIndexes.reduce((_, i) => _ + sizes[i] - this.viewItems[i].maximumSize, 0);\n            //\n            const minDelta = Math.max(minDeltaUp, minDeltaDown);\n            const maxDelta = Math.min(maxDeltaDown, maxDeltaUp);\n            //\n            let snapped = false;\n            if (snapBefore) {\n                const snapView = this.viewItems[snapBefore.index];\n                const visible = delta >= snapBefore.limitDelta;\n                snapped = visible !== snapView.visible;\n                snapView.setVisible(visible, snapBefore.size);\n            }\n            if (!snapped && snapAfter) {\n                const snapView = this.viewItems[snapAfter.index];\n                const visible = delta < snapAfter.limitDelta;\n                snapped = visible !== snapView.visible;\n                snapView.setVisible(visible, snapAfter.size);\n            }\n            if (snapped) {\n                return this.resize(index, delta, sizes, lowPriorityIndexes, highPriorityIndexes, overloadMinDelta, overloadMaxDelta);\n            }\n            //\n            const tentativeDelta = clamp(delta, minDelta, maxDelta);\n            let actualDelta = 0;\n            //\n            let deltaUp = tentativeDelta;\n            for (let i = 0; i < upItems.length; i++) {\n                const item = upItems[i];\n                const size = clamp(upSizes[i] + deltaUp, item.minimumSize, item.maximumSize);\n                const viewDelta = size - upSizes[i];\n                actualDelta += viewDelta;\n                deltaUp -= viewDelta;\n                item.size = size;\n            }\n            //\n            let deltaDown = actualDelta;\n            for (let i = 0; i < downItems.length; i++) {\n                const item = downItems[i];\n                const size = clamp(downSizes[i] - deltaDown, item.minimumSize, item.maximumSize);\n                const viewDelta = size - downSizes[i];\n                deltaDown += viewDelta;\n                item.size = size;\n            }\n            //\n            return delta;\n        };\n        this._orientation = (_a = options.orientation) !== null && _a !== void 0 ? _a : Orientation.VERTICAL;\n        this.element = this.createContainer();\n        this.margin = (_b = options.margin) !== null && _b !== void 0 ? _b : 0;\n        this.proportionalLayout =\n            options.proportionalLayout === undefined\n                ? true\n                : !!options.proportionalLayout;\n        this.viewContainer = this.createViewContainer();\n        this.sashContainer = this.createSashContainer();\n        this.element.appendChild(this.sashContainer);\n        this.element.appendChild(this.viewContainer);\n        this.container.appendChild(this.element);\n        this.style(options.styles);\n        // We have an existing set of view, add them now\n        if (options.descriptor) {\n            this._size = options.descriptor.size;\n            options.descriptor.views.forEach((viewDescriptor, index) => {\n                const sizing = viewDescriptor.visible === undefined ||\n                    viewDescriptor.visible\n                    ? viewDescriptor.size\n                    : {\n                        type: 'invisible',\n                        cachedVisibleSize: viewDescriptor.size,\n                    };\n                const view = viewDescriptor.view;\n                this.addView(view, sizing, index, true\n                // true skip layout\n                );\n            });\n            // Initialize content size and proportions for first layout\n            this._contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n            this.saveProportions();\n        }\n    }\n    style(styles) {\n        if ((styles === null || styles === void 0 ? void 0 : styles.separatorBorder) === 'transparent') {\n            removeClasses(this.element, 'dv-separator-border');\n            this.element.style.removeProperty('--dv-separator-border');\n        }\n        else {\n            addClasses(this.element, 'dv-separator-border');\n            if (styles === null || styles === void 0 ? void 0 : styles.separatorBorder) {\n                this.element.style.setProperty('--dv-separator-border', styles.separatorBorder);\n            }\n        }\n    }\n    isViewVisible(index) {\n        if (index < 0 || index >= this.viewItems.length) {\n            throw new Error('Index out of bounds');\n        }\n        const viewItem = this.viewItems[index];\n        return viewItem.visible;\n    }\n    setViewVisible(index, visible) {\n        if (index < 0 || index >= this.viewItems.length) {\n            throw new Error('Index out of bounds');\n        }\n        const viewItem = this.viewItems[index];\n        viewItem.setVisible(visible, viewItem.size);\n        this.distributeEmptySpace(index);\n        this.layoutViews();\n        this.saveProportions();\n    }\n    getViewSize(index) {\n        if (index < 0 || index >= this.viewItems.length) {\n            return -1;\n        }\n        return this.viewItems[index].size;\n    }\n    resizeView(index, size) {\n        if (index < 0 || index >= this.viewItems.length) {\n            return;\n        }\n        const indexes = range(this.viewItems.length).filter((i) => i !== index);\n        const lowPriorityIndexes = [\n            ...indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low),\n            index,\n        ];\n        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);\n        const item = this.viewItems[index];\n        size = Math.round(size);\n        size = clamp(size, item.minimumSize, Math.min(item.maximumSize, this._size));\n        item.size = size;\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\n    }\n    getViews() {\n        return this.viewItems.map((x) => x.view);\n    }\n    onDidChange(item, size) {\n        const index = this.viewItems.indexOf(item);\n        if (index < 0 || index >= this.viewItems.length) {\n            return;\n        }\n        size = typeof size === 'number' ? size : item.size;\n        size = clamp(size, item.minimumSize, item.maximumSize);\n        item.size = size;\n        const indexes = range(this.viewItems.length).filter((i) => i !== index);\n        const lowPriorityIndexes = [\n            ...indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low),\n            index,\n        ];\n        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);\n        /**\n         * add this view we are changing to the low-index list since we have determined the size\n         * here and don't want it changed\n         */\n        this.relayout([...lowPriorityIndexes, index], highPriorityIndexes);\n    }\n    addView(view, size = { type: 'distribute' }, index = this.viewItems.length, skipLayout) {\n        const container = document.createElement('div');\n        container.className = 'dv-view';\n        container.appendChild(view.element);\n        let viewSize;\n        if (typeof size === 'number') {\n            viewSize = size;\n        }\n        else if (size.type === 'split') {\n            viewSize = this.getViewSize(size.index) / 2;\n        }\n        else if (size.type === 'invisible') {\n            viewSize = { cachedVisibleSize: size.cachedVisibleSize };\n        }\n        else {\n            viewSize = view.minimumSize;\n        }\n        const disposable = view.onDidChange((newSize) => this.onDidChange(viewItem, newSize.size));\n        const viewItem = new ViewItem(container, view, viewSize, {\n            dispose: () => {\n                disposable.dispose();\n                this.viewContainer.removeChild(container);\n            },\n        });\n        if (index === this.viewItems.length) {\n            this.viewContainer.appendChild(container);\n        }\n        else {\n            this.viewContainer.insertBefore(container, this.viewContainer.children.item(index));\n        }\n        this.viewItems.splice(index, 0, viewItem);\n        if (this.viewItems.length > 1) {\n            //add sash\n            const sash = document.createElement('div');\n            sash.className = 'dv-sash';\n            const onPointerStart = (event) => {\n                for (const item of this.viewItems) {\n                    item.enabled = false;\n                }\n                const iframes = disableIframePointEvents();\n                const start = this._orientation === Orientation.HORIZONTAL\n                    ? event.clientX\n                    : event.clientY;\n                const sashIndex = firstIndex(this.sashes, (s) => s.container === sash);\n                //\n                const sizes = this.viewItems.map((x) => x.size);\n                //\n                let snapBefore;\n                let snapAfter;\n                const upIndexes = range(sashIndex, -1);\n                const downIndexes = range(sashIndex + 1, this.viewItems.length);\n                const minDeltaUp = upIndexes.reduce((r, i) => r + (this.viewItems[i].minimumSize - sizes[i]), 0);\n                const maxDeltaUp = upIndexes.reduce((r, i) => r + (this.viewItems[i].viewMaximumSize - sizes[i]), 0);\n                const maxDeltaDown = downIndexes.length === 0\n                    ? Number.POSITIVE_INFINITY\n                    : downIndexes.reduce((r, i) => r +\n                        (sizes[i] - this.viewItems[i].minimumSize), 0);\n                const minDeltaDown = downIndexes.length === 0\n                    ? Number.NEGATIVE_INFINITY\n                    : downIndexes.reduce((r, i) => r +\n                        (sizes[i] -\n                            this.viewItems[i].viewMaximumSize), 0);\n                const minDelta = Math.max(minDeltaUp, minDeltaDown);\n                const maxDelta = Math.min(maxDeltaDown, maxDeltaUp);\n                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\n                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);\n                if (typeof snapBeforeIndex === 'number') {\n                    const snappedViewItem = this.viewItems[snapBeforeIndex];\n                    const halfSize = Math.floor(snappedViewItem.viewMinimumSize / 2);\n                    snapBefore = {\n                        index: snapBeforeIndex,\n                        limitDelta: snappedViewItem.visible\n                            ? minDelta - halfSize\n                            : minDelta + halfSize,\n                        size: snappedViewItem.size,\n                    };\n                }\n                if (typeof snapAfterIndex === 'number') {\n                    const snappedViewItem = this.viewItems[snapAfterIndex];\n                    const halfSize = Math.floor(snappedViewItem.viewMinimumSize / 2);\n                    snapAfter = {\n                        index: snapAfterIndex,\n                        limitDelta: snappedViewItem.visible\n                            ? maxDelta + halfSize\n                            : maxDelta - halfSize,\n                        size: snappedViewItem.size,\n                    };\n                }\n                const onPointerMove = (event) => {\n                    const current = this._orientation === Orientation.HORIZONTAL\n                        ? event.clientX\n                        : event.clientY;\n                    const delta = current - start;\n                    this.resize(sashIndex, delta, sizes, undefined, undefined, minDelta, maxDelta, snapBefore, snapAfter);\n                    this.distributeEmptySpace();\n                    this.layoutViews();\n                };\n                const end = () => {\n                    for (const item of this.viewItems) {\n                        item.enabled = true;\n                    }\n                    iframes.release();\n                    this.saveProportions();\n                    document.removeEventListener('pointermove', onPointerMove);\n                    document.removeEventListener('pointerup', end);\n                    document.removeEventListener('pointercancel', end);\n                    document.removeEventListener('contextmenu', end);\n                    this._onDidSashEnd.fire(undefined);\n                };\n                document.addEventListener('pointermove', onPointerMove);\n                document.addEventListener('pointerup', end);\n                document.addEventListener('pointercancel', end);\n                document.addEventListener('contextmenu', end);\n            };\n            sash.addEventListener('pointerdown', onPointerStart);\n            const sashItem = {\n                container: sash,\n                disposable: () => {\n                    sash.removeEventListener('pointerdown', onPointerStart);\n                    this.sashContainer.removeChild(sash);\n                },\n            };\n            this.sashContainer.appendChild(sash);\n            this.sashes.push(sashItem);\n        }\n        if (!skipLayout) {\n            this.relayout([index]);\n        }\n        if (!skipLayout &&\n            typeof size !== 'number' &&\n            size.type === 'distribute') {\n            this.distributeViewSizes();\n        }\n        this._onDidAddView.fire(view);\n    }\n    distributeViewSizes() {\n        const flexibleViewItems = [];\n        let flexibleSize = 0;\n        for (const item of this.viewItems) {\n            if (item.maximumSize - item.minimumSize > 0) {\n                flexibleViewItems.push(item);\n                flexibleSize += item.size;\n            }\n        }\n        const size = Math.floor(flexibleSize / flexibleViewItems.length);\n        for (const item of flexibleViewItems) {\n            item.size = clamp(size, item.minimumSize, item.maximumSize);\n        }\n        const indexes = range(this.viewItems.length);\n        const lowPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low);\n        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\n    }\n    removeView(index, sizing, skipLayout = false) {\n        // Remove view\n        const viewItem = this.viewItems.splice(index, 1)[0];\n        viewItem.dispose();\n        // Remove sash\n        if (this.viewItems.length >= 1) {\n            const sashIndex = Math.max(index - 1, 0);\n            const sashItem = this.sashes.splice(sashIndex, 1)[0];\n            sashItem.disposable();\n        }\n        if (!skipLayout) {\n            this.relayout();\n        }\n        if (sizing && sizing.type === 'distribute') {\n            this.distributeViewSizes();\n        }\n        this._onDidRemoveView.fire(viewItem.view);\n        return viewItem.view;\n    }\n    getViewCachedVisibleSize(index) {\n        if (index < 0 || index >= this.viewItems.length) {\n            throw new Error('Index out of bounds');\n        }\n        const viewItem = this.viewItems[index];\n        return viewItem.cachedVisibleSize;\n    }\n    moveView(from, to) {\n        const cachedVisibleSize = this.getViewCachedVisibleSize(from);\n        const sizing = typeof cachedVisibleSize === 'undefined'\n            ? this.getViewSize(from)\n            : Sizing.Invisible(cachedVisibleSize);\n        const view = this.removeView(from, undefined, true);\n        this.addView(view, sizing, to);\n    }\n    layout(size, orthogonalSize) {\n        const previousSize = Math.max(this.size, this._contentSize);\n        this.size = size;\n        this.orthogonalSize = orthogonalSize;\n        if (!this.proportions) {\n            const indexes = range(this.viewItems.length);\n            const lowPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low);\n            const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);\n            this.resize(this.viewItems.length - 1, size - previousSize, undefined, lowPriorityIndexes, highPriorityIndexes);\n        }\n        else {\n            let total = 0;\n            for (let i = 0; i < this.viewItems.length; i++) {\n                const item = this.viewItems[i];\n                const proportion = this.proportions[i];\n                if (typeof proportion === 'number') {\n                    total += proportion;\n                }\n                else {\n                    size -= item.size;\n                }\n            }\n            for (let i = 0; i < this.viewItems.length; i++) {\n                const item = this.viewItems[i];\n                const proportion = this.proportions[i];\n                if (typeof proportion === 'number' && total > 0) {\n                    item.size = clamp(Math.round((proportion * size) / total), item.minimumSize, item.maximumSize);\n                }\n            }\n        }\n        this.distributeEmptySpace();\n        this.layoutViews();\n    }\n    relayout(lowPriorityIndexes, highPriorityIndexes) {\n        const contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        this.resize(this.viewItems.length - 1, this._size - contentSize, undefined, lowPriorityIndexes, highPriorityIndexes);\n        this.distributeEmptySpace();\n        this.layoutViews();\n        this.saveProportions();\n    }\n    distributeEmptySpace(lowPriorityIndex) {\n        const contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        let emptyDelta = this.size - contentSize;\n        const indexes = range(this.viewItems.length - 1, -1);\n        const lowPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low);\n        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);\n        for (const index of highPriorityIndexes) {\n            pushToStart(indexes, index);\n        }\n        for (const index of lowPriorityIndexes) {\n            pushToEnd(indexes, index);\n        }\n        if (typeof lowPriorityIndex === 'number') {\n            pushToEnd(indexes, lowPriorityIndex);\n        }\n        for (let i = 0; emptyDelta !== 0 && i < indexes.length; i++) {\n            const item = this.viewItems[indexes[i]];\n            const size = clamp(item.size + emptyDelta, item.minimumSize, item.maximumSize);\n            const viewDelta = size - item.size;\n            emptyDelta -= viewDelta;\n            item.size = size;\n        }\n    }\n    saveProportions() {\n        if (this.proportionalLayout && this._contentSize > 0) {\n            this._proportions = this.viewItems.map((i) => i.visible ? i.size / this._contentSize : undefined);\n        }\n    }\n    /**\n     * Margin explain:\n     *\n     * For `n` views in a splitview there will be `n-1` margins `m`.\n     *\n     * To fit the margins each view must reduce in size by `(m * (n - 1)) / n`.\n     *\n     * For each view `i` the offet must be adjusted by `m * i/(n - 1)`.\n     */\n    layoutViews() {\n        this._contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        this.updateSashEnablement();\n        if (this.viewItems.length === 0) {\n            return;\n        }\n        const visibleViewItems = this.viewItems.filter((i) => i.visible);\n        const sashCount = Math.max(0, visibleViewItems.length - 1);\n        const marginReducedSize = (this.margin * sashCount) / Math.max(1, visibleViewItems.length);\n        let totalLeftOffset = 0;\n        const viewLeftOffsets = [];\n        const sashWidth = 4; // hardcoded in css\n        const runningVisiblePanelCount = this.viewItems.reduce((arr, viewItem, i) => {\n            const flag = viewItem.visible ? 1 : 0;\n            if (i === 0) {\n                arr.push(flag);\n            }\n            else {\n                arr.push(arr[i - 1] + flag);\n            }\n            return arr;\n        }, []);\n        // calculate both view and cash positions\n        this.viewItems.forEach((view, i) => {\n            totalLeftOffset += this.viewItems[i].size;\n            viewLeftOffsets.push(totalLeftOffset);\n            const size = view.visible ? view.size - marginReducedSize : 0;\n            const visiblePanelsBeforeThisView = Math.max(0, runningVisiblePanelCount[i] - 1);\n            const offset = i === 0 || visiblePanelsBeforeThisView === 0\n                ? 0\n                : viewLeftOffsets[i - 1] +\n                    (visiblePanelsBeforeThisView / sashCount) *\n                        marginReducedSize;\n            if (i < this.viewItems.length - 1) {\n                // calculate sash position\n                const newSize = view.visible\n                    ? offset + size - sashWidth / 2 + this.margin / 2\n                    : offset;\n                if (this._orientation === Orientation.HORIZONTAL) {\n                    this.sashes[i].container.style.left = `${newSize}px`;\n                    this.sashes[i].container.style.top = `0px`;\n                }\n                if (this._orientation === Orientation.VERTICAL) {\n                    this.sashes[i].container.style.left = `0px`;\n                    this.sashes[i].container.style.top = `${newSize}px`;\n                }\n            }\n            // calculate view position\n            if (this._orientation === Orientation.HORIZONTAL) {\n                view.container.style.width = `${size}px`;\n                view.container.style.left = `${offset}px`;\n                view.container.style.top = '';\n                view.container.style.height = '';\n            }\n            if (this._orientation === Orientation.VERTICAL) {\n                view.container.style.height = `${size}px`;\n                view.container.style.top = `${offset}px`;\n                view.container.style.width = '';\n                view.container.style.left = '';\n            }\n            view.view.layout(view.size - marginReducedSize, this._orthogonalSize);\n        });\n    }\n    findFirstSnapIndex(indexes) {\n        // visible views first\n        for (const index of indexes) {\n            const viewItem = this.viewItems[index];\n            if (!viewItem.visible) {\n                continue;\n            }\n            if (viewItem.snap) {\n                return index;\n            }\n        }\n        // then, hidden views\n        for (const index of indexes) {\n            const viewItem = this.viewItems[index];\n            if (viewItem.visible &&\n                viewItem.maximumSize - viewItem.minimumSize > 0) {\n                return undefined;\n            }\n            if (!viewItem.visible && viewItem.snap) {\n                return index;\n            }\n        }\n        return undefined;\n    }\n    updateSashEnablement() {\n        let previous = false;\n        const collapsesDown = this.viewItems.map((i) => (previous = i.size - i.minimumSize > 0 || previous));\n        previous = false;\n        const expandsDown = this.viewItems.map((i) => (previous = i.maximumSize - i.size > 0 || previous));\n        const reverseViews = [...this.viewItems].reverse();\n        previous = false;\n        const collapsesUp = reverseViews\n            .map((i) => (previous = i.size - i.minimumSize > 0 || previous))\n            .reverse();\n        previous = false;\n        const expandsUp = reverseViews\n            .map((i) => (previous = i.maximumSize - i.size > 0 || previous))\n            .reverse();\n        let position = 0;\n        for (let index = 0; index < this.sashes.length; index++) {\n            const sash = this.sashes[index];\n            const viewItem = this.viewItems[index];\n            position += viewItem.size;\n            const min = !(collapsesDown[index] && expandsUp[index + 1]);\n            const max = !(expandsDown[index] && collapsesUp[index + 1]);\n            if (min && max) {\n                const upIndexes = range(index, -1);\n                const downIndexes = range(index + 1, this.viewItems.length);\n                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\n                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);\n                const snappedBefore = typeof snapBeforeIndex === 'number' &&\n                    !this.viewItems[snapBeforeIndex].visible;\n                const snappedAfter = typeof snapAfterIndex === 'number' &&\n                    !this.viewItems[snapAfterIndex].visible;\n                if (snappedBefore &&\n                    collapsesUp[index] &&\n                    (position > 0 || this.startSnappingEnabled)) {\n                    this.updateSash(sash, SashState.MINIMUM);\n                }\n                else if (snappedAfter &&\n                    collapsesDown[index] &&\n                    (position < this._contentSize || this.endSnappingEnabled)) {\n                    this.updateSash(sash, SashState.MAXIMUM);\n                }\n                else {\n                    this.updateSash(sash, SashState.DISABLED);\n                }\n            }\n            else if (min && !max) {\n                this.updateSash(sash, SashState.MINIMUM);\n            }\n            else if (!min && max) {\n                this.updateSash(sash, SashState.MAXIMUM);\n            }\n            else {\n                this.updateSash(sash, SashState.ENABLED);\n            }\n        }\n    }\n    updateSash(sash, state) {\n        toggleClass(sash.container, 'dv-disabled', state === SashState.DISABLED);\n        toggleClass(sash.container, 'dv-enabled', state === SashState.ENABLED);\n        toggleClass(sash.container, 'dv-maximum', state === SashState.MAXIMUM);\n        toggleClass(sash.container, 'dv-minimum', state === SashState.MINIMUM);\n    }\n    createViewContainer() {\n        const element = document.createElement('div');\n        element.className = 'dv-view-container';\n        return element;\n    }\n    createSashContainer() {\n        const element = document.createElement('div');\n        element.className = 'dv-sash-container';\n        return element;\n    }\n    createContainer() {\n        const element = document.createElement('div');\n        const orientationClassname = this._orientation === Orientation.HORIZONTAL\n            ? 'dv-horizontal'\n            : 'dv-vertical';\n        element.className = `dv-split-view-container ${orientationClassname}`;\n        return element;\n    }\n    dispose() {\n        this._onDidSashEnd.dispose();\n        this._onDidAddView.dispose();\n        this._onDidRemoveView.dispose();\n        for (let i = 0; i < this.element.children.length; i++) {\n            if (this.element.children.item(i) === this.element) {\n                this.element.removeChild(this.element);\n                break;\n            }\n        }\n        for (const viewItem of this.viewItems) {\n            viewItem.dispose();\n        }\n        this.element.remove();\n    }\n}\n\nconst PROPERTY_KEYS_SPLITVIEW = (() => {\n    /**\n     * by readong the keys from an empty value object TypeScript will error\n     * when we add or remove new properties to `DockviewOptions`\n     */\n    const properties = {\n        orientation: undefined,\n        descriptor: undefined,\n        proportionalLayout: undefined,\n        styles: undefined,\n        margin: undefined,\n        disableAutoResizing: undefined,\n        className: undefined,\n    };\n    return Object.keys(properties);\n})();\n\nclass Paneview extends CompositeDisposable {\n    get onDidAddView() {\n        return this.splitview.onDidAddView;\n    }\n    get onDidRemoveView() {\n        return this.splitview.onDidRemoveView;\n    }\n    get minimumSize() {\n        return this.splitview.minimumSize;\n    }\n    get maximumSize() {\n        return this.splitview.maximumSize;\n    }\n    get orientation() {\n        return this.splitview.orientation;\n    }\n    get size() {\n        return this.splitview.size;\n    }\n    get orthogonalSize() {\n        return this.splitview.orthogonalSize;\n    }\n    constructor(container, options) {\n        var _a;\n        super();\n        this.paneItems = [];\n        this.skipAnimation = false;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._orientation = (_a = options.orientation) !== null && _a !== void 0 ? _a : Orientation.VERTICAL;\n        this.element = document.createElement('div');\n        this.element.className = 'dv-pane-container';\n        container.appendChild(this.element);\n        this.splitview = new Splitview(this.element, {\n            orientation: this._orientation,\n            proportionalLayout: false,\n            descriptor: options.descriptor,\n        });\n        // if we've added views from the descriptor we need to\n        // add the panes to our Pane array and setup animation\n        this.getPanes().forEach((pane) => {\n            const disposable = new CompositeDisposable(pane.onDidChangeExpansionState(() => {\n                this.setupAnimation();\n                this._onDidChange.fire(undefined);\n            }));\n            const paneItem = {\n                pane,\n                disposable: {\n                    dispose: () => {\n                        disposable.dispose();\n                    },\n                },\n            };\n            this.paneItems.push(paneItem);\n            pane.orthogonalSize = this.splitview.orthogonalSize;\n        });\n        this.addDisposables(this._onDidChange, this.splitview.onDidSashEnd(() => {\n            this._onDidChange.fire(undefined);\n        }), this.splitview.onDidAddView(() => {\n            this._onDidChange.fire();\n        }), this.splitview.onDidRemoveView(() => {\n            this._onDidChange.fire();\n        }));\n    }\n    setViewVisible(index, visible) {\n        this.splitview.setViewVisible(index, visible);\n    }\n    addPane(pane, size, index = this.splitview.length, skipLayout = false) {\n        const disposable = pane.onDidChangeExpansionState(() => {\n            this.setupAnimation();\n            this._onDidChange.fire(undefined);\n        });\n        const paneItem = {\n            pane,\n            disposable: {\n                dispose: () => {\n                    disposable.dispose();\n                },\n            },\n        };\n        this.paneItems.splice(index, 0, paneItem);\n        pane.orthogonalSize = this.splitview.orthogonalSize;\n        this.splitview.addView(pane, size, index, skipLayout);\n    }\n    getViewSize(index) {\n        return this.splitview.getViewSize(index);\n    }\n    getPanes() {\n        return this.splitview.getViews();\n    }\n    removePane(index, options = { skipDispose: false }) {\n        const paneItem = this.paneItems.splice(index, 1)[0];\n        this.splitview.removeView(index);\n        if (!options.skipDispose) {\n            paneItem.disposable.dispose();\n            paneItem.pane.dispose();\n        }\n        return paneItem;\n    }\n    moveView(from, to) {\n        if (from === to) {\n            return;\n        }\n        const view = this.removePane(from, { skipDispose: true });\n        this.skipAnimation = true;\n        try {\n            this.addPane(view.pane, view.pane.size, to, false);\n        }\n        finally {\n            this.skipAnimation = false;\n        }\n    }\n    layout(size, orthogonalSize) {\n        this.splitview.layout(size, orthogonalSize);\n    }\n    setupAnimation() {\n        if (this.skipAnimation) {\n            return;\n        }\n        if (this.animationTimer) {\n            clearTimeout(this.animationTimer);\n            this.animationTimer = undefined;\n        }\n        addClasses(this.element, 'dv-animated');\n        this.animationTimer = setTimeout(() => {\n            this.animationTimer = undefined;\n            removeClasses(this.element, 'dv-animated');\n        }, 200);\n    }\n    dispose() {\n        super.dispose();\n        if (this.animationTimer) {\n            clearTimeout(this.animationTimer);\n            this.animationTimer = undefined;\n        }\n        this.paneItems.forEach((paneItem) => {\n            paneItem.disposable.dispose();\n            paneItem.pane.dispose();\n        });\n        this.paneItems = [];\n        this.splitview.dispose();\n        this.element.remove();\n    }\n}\n\n/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid\n *--------------------------------------------------------------------------------------------*/\nclass LeafNode {\n    get minimumWidth() {\n        return this.view.minimumWidth;\n    }\n    get maximumWidth() {\n        return this.view.maximumWidth;\n    }\n    get minimumHeight() {\n        return this.view.minimumHeight;\n    }\n    get maximumHeight() {\n        return this.view.maximumHeight;\n    }\n    get priority() {\n        return this.view.priority;\n    }\n    get snap() {\n        return this.view.snap;\n    }\n    get minimumSize() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumHeight\n            : this.minimumWidth;\n    }\n    get maximumSize() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumHeight\n            : this.maximumWidth;\n    }\n    get minimumOrthogonalSize() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumWidth\n            : this.minimumHeight;\n    }\n    get maximumOrthogonalSize() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumWidth\n            : this.maximumHeight;\n    }\n    get orthogonalSize() {\n        return this._orthogonalSize;\n    }\n    get size() {\n        return this._size;\n    }\n    get element() {\n        return this.view.element;\n    }\n    get width() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.orthogonalSize\n            : this.size;\n    }\n    get height() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.size\n            : this.orthogonalSize;\n    }\n    constructor(view, orientation, orthogonalSize, size = 0) {\n        this.view = view;\n        this.orientation = orientation;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._orthogonalSize = orthogonalSize;\n        this._size = size;\n        this._disposable = this.view.onDidChange((event) => {\n            if (event) {\n                this._onDidChange.fire({\n                    size: this.orientation === Orientation.VERTICAL\n                        ? event.width\n                        : event.height,\n                    orthogonalSize: this.orientation === Orientation.VERTICAL\n                        ? event.height\n                        : event.width,\n                });\n            }\n            else {\n                this._onDidChange.fire({});\n            }\n        });\n    }\n    setVisible(visible) {\n        if (this.view.setVisible) {\n            this.view.setVisible(visible);\n        }\n    }\n    layout(size, orthogonalSize) {\n        this._size = size;\n        this._orthogonalSize = orthogonalSize;\n        this.view.layout(this.width, this.height);\n    }\n    dispose() {\n        this._onDidChange.dispose();\n        this._disposable.dispose();\n    }\n}\n\n/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid\n *--------------------------------------------------------------------------------------------*/\nclass BranchNode extends CompositeDisposable {\n    get width() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.size\n            : this.orthogonalSize;\n    }\n    get height() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.orthogonalSize\n            : this.size;\n    }\n    get minimumSize() {\n        return this.children.length === 0\n            ? 0\n            : Math.max(...this.children.map((c, index) => this.splitview.isViewVisible(index)\n                ? c.minimumOrthogonalSize\n                : 0));\n    }\n    get maximumSize() {\n        return Math.min(...this.children.map((c, index) => this.splitview.isViewVisible(index)\n            ? c.maximumOrthogonalSize\n            : Number.POSITIVE_INFINITY));\n    }\n    get minimumOrthogonalSize() {\n        return this.splitview.minimumSize;\n    }\n    get maximumOrthogonalSize() {\n        return this.splitview.maximumSize;\n    }\n    get orthogonalSize() {\n        return this._orthogonalSize;\n    }\n    get size() {\n        return this._size;\n    }\n    get minimumWidth() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumOrthogonalSize\n            : this.minimumSize;\n    }\n    get minimumHeight() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumSize\n            : this.minimumOrthogonalSize;\n    }\n    get maximumWidth() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumOrthogonalSize\n            : this.maximumSize;\n    }\n    get maximumHeight() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumSize\n            : this.maximumOrthogonalSize;\n    }\n    get priority() {\n        if (this.children.length === 0) {\n            return LayoutPriority.Normal;\n        }\n        const priorities = this.children.map((c) => typeof c.priority === 'undefined'\n            ? LayoutPriority.Normal\n            : c.priority);\n        if (priorities.some((p) => p === LayoutPriority.High)) {\n            return LayoutPriority.High;\n        }\n        else if (priorities.some((p) => p === LayoutPriority.Low)) {\n            return LayoutPriority.Low;\n        }\n        return LayoutPriority.Normal;\n    }\n    get disabled() {\n        return this.splitview.disabled;\n    }\n    set disabled(value) {\n        this.splitview.disabled = value;\n    }\n    get margin() {\n        return this.splitview.margin;\n    }\n    set margin(value) {\n        this.splitview.margin = value;\n        this.children.forEach((child) => {\n            if (child instanceof BranchNode) {\n                child.margin = value;\n            }\n        });\n    }\n    constructor(orientation, proportionalLayout, styles, size, orthogonalSize, disabled, margin, childDescriptors) {\n        super();\n        this.orientation = orientation;\n        this.proportionalLayout = proportionalLayout;\n        this.styles = styles;\n        this._childrenDisposable = Disposable.NONE;\n        this.children = [];\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._onDidVisibilityChange = new Emitter();\n        this.onDidVisibilityChange = this._onDidVisibilityChange.event;\n        this._orthogonalSize = orthogonalSize;\n        this._size = size;\n        this.element = document.createElement('div');\n        this.element.className = 'dv-branch-node';\n        if (!childDescriptors) {\n            this.splitview = new Splitview(this.element, {\n                orientation: this.orientation,\n                proportionalLayout,\n                styles,\n                margin,\n            });\n            this.splitview.layout(this.size, this.orthogonalSize);\n        }\n        else {\n            const descriptor = {\n                views: childDescriptors.map((childDescriptor) => {\n                    return {\n                        view: childDescriptor.node,\n                        size: childDescriptor.node.size,\n                        visible: childDescriptor.node instanceof LeafNode &&\n                            childDescriptor.visible !== undefined\n                            ? childDescriptor.visible\n                            : true,\n                    };\n                }),\n                size: this.orthogonalSize,\n            };\n            this.children = childDescriptors.map((c) => c.node);\n            this.splitview = new Splitview(this.element, {\n                orientation: this.orientation,\n                descriptor,\n                proportionalLayout,\n                styles,\n                margin,\n            });\n        }\n        this.disabled = disabled;\n        this.addDisposables(this._onDidChange, this._onDidVisibilityChange, this.splitview.onDidSashEnd(() => {\n            this._onDidChange.fire({});\n        }));\n        this.setupChildrenEvents();\n    }\n    setVisible(_visible) {\n        // noop\n    }\n    isChildVisible(index) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        return this.splitview.isViewVisible(index);\n    }\n    setChildVisible(index, visible) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        if (this.splitview.isViewVisible(index) === visible) {\n            return;\n        }\n        const wereAllChildrenHidden = this.splitview.contentSize === 0;\n        this.splitview.setViewVisible(index, visible);\n        // }\n        const areAllChildrenHidden = this.splitview.contentSize === 0;\n        // If all children are hidden then the parent should hide the entire splitview\n        // If the entire splitview is hidden then the parent should show the splitview when a child is shown\n        if ((visible && wereAllChildrenHidden) ||\n            (!visible && areAllChildrenHidden)) {\n            this._onDidVisibilityChange.fire({ visible });\n        }\n    }\n    moveChild(from, to) {\n        if (from === to) {\n            return;\n        }\n        if (from < 0 || from >= this.children.length) {\n            throw new Error('Invalid from index');\n        }\n        if (from < to) {\n            to--;\n        }\n        this.splitview.moveView(from, to);\n        const child = this._removeChild(from);\n        this._addChild(child, to);\n    }\n    getChildSize(index) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        return this.splitview.getViewSize(index);\n    }\n    resizeChild(index, size) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        this.splitview.resizeView(index, size);\n    }\n    layout(size, orthogonalSize) {\n        this._size = orthogonalSize;\n        this._orthogonalSize = size;\n        this.splitview.layout(orthogonalSize, size);\n    }\n    addChild(node, size, index, skipLayout) {\n        if (index < 0 || index > this.children.length) {\n            throw new Error('Invalid index');\n        }\n        this.splitview.addView(node, size, index, skipLayout);\n        this._addChild(node, index);\n    }\n    getChildCachedVisibleSize(index) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        return this.splitview.getViewCachedVisibleSize(index);\n    }\n    removeChild(index, sizing) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        this.splitview.removeView(index, sizing);\n        return this._removeChild(index);\n    }\n    _addChild(node, index) {\n        this.children.splice(index, 0, node);\n        this.setupChildrenEvents();\n    }\n    _removeChild(index) {\n        const [child] = this.children.splice(index, 1);\n        this.setupChildrenEvents();\n        return child;\n    }\n    setupChildrenEvents() {\n        this._childrenDisposable.dispose();\n        this._childrenDisposable = new CompositeDisposable(Event.any(...this.children.map((c) => c.onDidChange))((e) => {\n            /**\n             * indicate a change has occured to allows any re-rendering but don't bubble\n             * event because that was specific to this branch\n             */\n            this._onDidChange.fire({ size: e.orthogonalSize });\n        }), ...this.children.map((c, i) => {\n            if (c instanceof BranchNode) {\n                return c.onDidVisibilityChange(({ visible }) => {\n                    this.setChildVisible(i, visible);\n                });\n            }\n            return Disposable.NONE;\n        }));\n    }\n    dispose() {\n        this._childrenDisposable.dispose();\n        this.splitview.dispose();\n        this.children.forEach((child) => child.dispose());\n        super.dispose();\n    }\n}\n\n/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid\n *--------------------------------------------------------------------------------------------*/\nfunction findLeaf(candiateNode, last) {\n    if (candiateNode instanceof LeafNode) {\n        return candiateNode;\n    }\n    if (candiateNode instanceof BranchNode) {\n        return findLeaf(candiateNode.children[last ? candiateNode.children.length - 1 : 0], last);\n    }\n    throw new Error('invalid node');\n}\nfunction cloneNode(node, size, orthogonalSize) {\n    if (node instanceof BranchNode) {\n        const result = new BranchNode(node.orientation, node.proportionalLayout, node.styles, size, orthogonalSize, node.disabled, node.margin);\n        for (let i = node.children.length - 1; i >= 0; i--) {\n            const child = node.children[i];\n            result.addChild(cloneNode(child, child.size, child.orthogonalSize), child.size, 0, true);\n        }\n        return result;\n    }\n    else {\n        return new LeafNode(node.view, node.orientation, orthogonalSize);\n    }\n}\nfunction flipNode(node, size, orthogonalSize) {\n    if (node instanceof BranchNode) {\n        const result = new BranchNode(orthogonal(node.orientation), node.proportionalLayout, node.styles, size, orthogonalSize, node.disabled, node.margin);\n        let totalSize = 0;\n        for (let i = node.children.length - 1; i >= 0; i--) {\n            const child = node.children[i];\n            const childSize = child instanceof BranchNode ? child.orthogonalSize : child.size;\n            let newSize = node.size === 0\n                ? 0\n                : Math.round((size * childSize) / node.size);\n            totalSize += newSize;\n            // The last view to add should adjust to rounding errors\n            if (i === 0) {\n                newSize += size - totalSize;\n            }\n            result.addChild(flipNode(child, orthogonalSize, newSize), newSize, 0, true);\n        }\n        return result;\n    }\n    else {\n        return new LeafNode(node.view, orthogonal(node.orientation), orthogonalSize);\n    }\n}\nfunction indexInParent(element) {\n    const parentElement = element.parentElement;\n    if (!parentElement) {\n        throw new Error('Invalid grid element');\n    }\n    let el = parentElement.firstElementChild;\n    let index = 0;\n    while (el !== element && el !== parentElement.lastElementChild && el) {\n        el = el.nextElementSibling;\n        index++;\n    }\n    return index;\n}\n/**\n * Find the grid location of a specific DOM element by traversing the parent\n * chain and finding each child index on the way.\n *\n * This will break as soon as DOM structures of the Splitview or Gridview change.\n */\nfunction getGridLocation(element) {\n    const parentElement = element.parentElement;\n    if (!parentElement) {\n        throw new Error('Invalid grid element');\n    }\n    if (/\\bdv-grid-view\\b/.test(parentElement.className)) {\n        return [];\n    }\n    const index = indexInParent(parentElement);\n    const ancestor = parentElement.parentElement.parentElement.parentElement;\n    return [...getGridLocation(ancestor), index];\n}\nfunction getRelativeLocation(rootOrientation, location, direction) {\n    const orientation = getLocationOrientation(rootOrientation, location);\n    const directionOrientation = getDirectionOrientation(direction);\n    if (orientation === directionOrientation) {\n        const [rest, _index] = tail(location);\n        let index = _index;\n        if (direction === 'right' || direction === 'bottom') {\n            index += 1;\n        }\n        return [...rest, index];\n    }\n    else {\n        const index = direction === 'right' || direction === 'bottom' ? 1 : 0;\n        return [...location, index];\n    }\n}\nfunction getDirectionOrientation(direction) {\n    return direction === 'top' || direction === 'bottom'\n        ? Orientation.VERTICAL\n        : Orientation.HORIZONTAL;\n}\nfunction getLocationOrientation(rootOrientation, location) {\n    return location.length % 2 === 0\n        ? orthogonal(rootOrientation)\n        : rootOrientation;\n}\nconst orthogonal = (orientation) => orientation === Orientation.HORIZONTAL\n    ? Orientation.VERTICAL\n    : Orientation.HORIZONTAL;\nfunction isGridBranchNode(node) {\n    return !!node.children;\n}\nconst serializeBranchNode = (node, orientation) => {\n    const size = orientation === Orientation.VERTICAL ? node.box.width : node.box.height;\n    if (!isGridBranchNode(node)) {\n        if (typeof node.cachedVisibleSize === 'number') {\n            return {\n                type: 'leaf',\n                data: node.view.toJSON(),\n                size: node.cachedVisibleSize,\n                visible: false,\n            };\n        }\n        return { type: 'leaf', data: node.view.toJSON(), size };\n    }\n    return {\n        type: 'branch',\n        data: node.children.map((c) => serializeBranchNode(c, orthogonal(orientation))),\n        size,\n    };\n};\nclass Gridview {\n    get length() {\n        return this._root ? this._root.children.length : 0;\n    }\n    get orientation() {\n        return this.root.orientation;\n    }\n    set orientation(orientation) {\n        if (this.root.orientation === orientation) {\n            return;\n        }\n        const { size, orthogonalSize } = this.root;\n        this.root = flipNode(this.root, orthogonalSize, size);\n        this.root.layout(size, orthogonalSize);\n    }\n    get width() {\n        return this.root.width;\n    }\n    get height() {\n        return this.root.height;\n    }\n    get minimumWidth() {\n        return this.root.minimumWidth;\n    }\n    get minimumHeight() {\n        return this.root.minimumHeight;\n    }\n    get maximumWidth() {\n        return this.root.maximumHeight;\n    }\n    get maximumHeight() {\n        return this.root.maximumHeight;\n    }\n    get locked() {\n        return this._locked;\n    }\n    set locked(value) {\n        this._locked = value;\n        const branch = [this.root];\n        /**\n         * simple depth-first-search to cover all nodes\n         *\n         * @see https://en.wikipedia.org/wiki/Depth-first_search\n         */\n        while (branch.length > 0) {\n            const node = branch.pop();\n            if (node instanceof BranchNode) {\n                node.disabled = value;\n                branch.push(...node.children);\n            }\n        }\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(value) {\n        this._margin = value;\n        this.root.margin = value;\n    }\n    maximizedView() {\n        var _a;\n        return (_a = this._maximizedNode) === null || _a === void 0 ? void 0 : _a.leaf.view;\n    }\n    hasMaximizedView() {\n        return this._maximizedNode !== undefined;\n    }\n    maximizeView(view) {\n        var _a;\n        const location = getGridLocation(view.element);\n        const [_, node] = this.getNode(location);\n        if (!(node instanceof LeafNode)) {\n            return;\n        }\n        if (((_a = this._maximizedNode) === null || _a === void 0 ? void 0 : _a.leaf) === node) {\n            return;\n        }\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n        serializeBranchNode(this.getView(), this.orientation);\n        const hiddenOnMaximize = [];\n        function hideAllViewsBut(parent, exclude) {\n            for (let i = 0; i < parent.children.length; i++) {\n                const child = parent.children[i];\n                if (child instanceof LeafNode) {\n                    if (child !== exclude) {\n                        if (parent.isChildVisible(i)) {\n                            parent.setChildVisible(i, false);\n                        }\n                        else {\n                            hiddenOnMaximize.push(child);\n                        }\n                    }\n                }\n                else {\n                    hideAllViewsBut(child, exclude);\n                }\n            }\n        }\n        hideAllViewsBut(this.root, node);\n        this._maximizedNode = { leaf: node, hiddenOnMaximize };\n        this._onDidMaximizedNodeChange.fire({\n            view: node.view,\n            isMaximized: true,\n        });\n    }\n    exitMaximizedView() {\n        if (!this._maximizedNode) {\n            return;\n        }\n        const hiddenOnMaximize = this._maximizedNode.hiddenOnMaximize;\n        function showViewsInReverseOrder(parent) {\n            for (let index = parent.children.length - 1; index >= 0; index--) {\n                const child = parent.children[index];\n                if (child instanceof LeafNode) {\n                    if (!hiddenOnMaximize.includes(child)) {\n                        parent.setChildVisible(index, true);\n                    }\n                }\n                else {\n                    showViewsInReverseOrder(child);\n                }\n            }\n        }\n        showViewsInReverseOrder(this.root);\n        const tmp = this._maximizedNode.leaf;\n        this._maximizedNode = undefined;\n        this._onDidMaximizedNodeChange.fire({\n            view: tmp.view,\n            isMaximized: false,\n        });\n    }\n    serialize() {\n        const maximizedView = this.maximizedView();\n        let maxmizedViewLocation;\n        if (maximizedView) {\n            /**\n             * The minimum information we can get away with in order to serialize a maxmized view is it's location within the grid\n             * which is represented as a branch of indices\n             */\n            maxmizedViewLocation = getGridLocation(maximizedView.element);\n        }\n        if (this.hasMaximizedView()) {\n            /**\n             * the saved layout cannot be in its maxmized state otherwise all of the underlying\n             * view dimensions will be wrong\n             *\n             * To counteract this we temporaily remove the maximized view to compute the serialized output\n             * of the grid before adding back the maxmized view as to not alter the layout from the users\n             * perspective when `.toJSON()` is called\n             */\n            this.exitMaximizedView();\n        }\n        const root = serializeBranchNode(this.getView(), this.orientation);\n        const resullt = {\n            root,\n            width: this.width,\n            height: this.height,\n            orientation: this.orientation,\n        };\n        if (maxmizedViewLocation) {\n            resullt.maximizedNode = {\n                location: maxmizedViewLocation,\n            };\n        }\n        if (maximizedView) {\n            // replace any maximzied view that was removed for serialization purposes\n            this.maximizeView(maximizedView);\n        }\n        return resullt;\n    }\n    dispose() {\n        this.disposable.dispose();\n        this._onDidChange.dispose();\n        this._onDidMaximizedNodeChange.dispose();\n        this._onDidViewVisibilityChange.dispose();\n        this.root.dispose();\n        this._maximizedNode = undefined;\n        this.element.remove();\n    }\n    clear() {\n        const orientation = this.root.orientation;\n        this.root = new BranchNode(orientation, this.proportionalLayout, this.styles, this.root.size, this.root.orthogonalSize, this.locked, this.margin);\n    }\n    deserialize(json, deserializer) {\n        const orientation = json.orientation;\n        const height = orientation === Orientation.VERTICAL ? json.height : json.width;\n        this._deserialize(json.root, orientation, deserializer, height);\n        /**\n         * The deserialied layout must be positioned through this.layout(...)\n         * before any maximizedNode can be positioned\n         */\n        this.layout(json.width, json.height);\n        if (json.maximizedNode) {\n            const location = json.maximizedNode.location;\n            const [_, node] = this.getNode(location);\n            if (!(node instanceof LeafNode)) {\n                return;\n            }\n            this.maximizeView(node.view);\n        }\n    }\n    _deserialize(root, orientation, deserializer, orthogonalSize) {\n        this.root = this._deserializeNode(root, orientation, deserializer, orthogonalSize);\n    }\n    _deserializeNode(node, orientation, deserializer, orthogonalSize) {\n        var _a;\n        let result;\n        if (node.type === 'branch') {\n            const serializedChildren = node.data;\n            const children = serializedChildren.map((serializedChild) => {\n                return {\n                    node: this._deserializeNode(serializedChild, orthogonal(orientation), deserializer, node.size),\n                    visible: serializedChild.visible,\n                };\n            });\n            result = new BranchNode(orientation, this.proportionalLayout, this.styles, node.size, // <- orthogonal size - flips at each depth\n            orthogonalSize, // <- size - flips at each depth,\n            this.locked, this.margin, children);\n        }\n        else {\n            const view = deserializer.fromJSON(node);\n            if (typeof node.visible === 'boolean') {\n                (_a = view.setVisible) === null || _a === void 0 ? void 0 : _a.call(view, node.visible);\n            }\n            result = new LeafNode(view, orientation, orthogonalSize, node.size);\n        }\n        return result;\n    }\n    get root() {\n        return this._root;\n    }\n    set root(root) {\n        const oldRoot = this._root;\n        if (oldRoot) {\n            oldRoot.dispose();\n            this._maximizedNode = undefined;\n            this.element.removeChild(oldRoot.element);\n        }\n        this._root = root;\n        this.element.appendChild(this._root.element);\n        this.disposable.value = this._root.onDidChange((e) => {\n            this._onDidChange.fire(e);\n        });\n    }\n    normalize() {\n        if (!this._root) {\n            return;\n        }\n        if (this._root.children.length !== 1) {\n            return;\n        }\n        const oldRoot = this.root;\n        // can remove one level of redundant branching if there is only a single child\n        const childReference = oldRoot.children[0];\n        if (childReference instanceof LeafNode) {\n            return;\n        }\n        oldRoot.element.remove();\n        const child = oldRoot.removeChild(0); // Remove child to prevent double disposal\n        oldRoot.dispose(); // Dispose old root (won't dispose removed child)\n        child.dispose(); // Dispose the removed child\n        this._root = cloneNode(childReference, childReference.size, childReference.orthogonalSize);\n        this.element.appendChild(this._root.element);\n        this.disposable.value = this._root.onDidChange((e) => {\n            this._onDidChange.fire(e);\n        });\n    }\n    /**\n     * If the root is orientated as a VERTICAL node then nest the existing root within a new HORIZIONTAL root node\n     * If the root is orientated as a HORIZONTAL node then nest the existing root within a new VERITCAL root node\n     */\n    insertOrthogonalSplitviewAtRoot() {\n        if (!this._root) {\n            return;\n        }\n        const oldRoot = this.root;\n        oldRoot.element.remove();\n        this._root = new BranchNode(orthogonal(oldRoot.orientation), this.proportionalLayout, this.styles, this.root.orthogonalSize, this.root.size, this.locked, this.margin);\n        if (oldRoot.children.length === 0) ;\n        else if (oldRoot.children.length === 1) {\n            // can remove one level of redundant branching if there is only a single child\n            const childReference = oldRoot.children[0];\n            const child = oldRoot.removeChild(0); // remove to prevent disposal when disposing of unwanted root\n            child.dispose();\n            oldRoot.dispose();\n            this._root.addChild(\n            /**\n             * the child node will have the same orientation as the new root since\n             * we are removing the inbetween node.\n             * the entire 'tree' must be flipped recursively to ensure that the orientation\n             * flips at each level\n             */\n            flipNode(childReference, childReference.orthogonalSize, childReference.size), Sizing.Distribute, 0);\n        }\n        else {\n            this._root.addChild(oldRoot, Sizing.Distribute, 0);\n        }\n        this.element.appendChild(this._root.element);\n        this.disposable.value = this._root.onDidChange((e) => {\n            this._onDidChange.fire(e);\n        });\n    }\n    next(location) {\n        return this.progmaticSelect(location);\n    }\n    previous(location) {\n        return this.progmaticSelect(location, true);\n    }\n    getView(location) {\n        const node = location ? this.getNode(location)[1] : this.root;\n        return this._getViews(node, this.orientation);\n    }\n    _getViews(node, orientation, cachedVisibleSize) {\n        const box = { height: node.height, width: node.width };\n        if (node instanceof LeafNode) {\n            return { box, view: node.view, cachedVisibleSize };\n        }\n        const children = [];\n        for (let i = 0; i < node.children.length; i++) {\n            const child = node.children[i];\n            const nodeCachedVisibleSize = node.getChildCachedVisibleSize(i);\n            children.push(this._getViews(child, orthogonal(orientation), nodeCachedVisibleSize));\n        }\n        return { box, children };\n    }\n    progmaticSelect(location, reverse = false) {\n        const [path, node] = this.getNode(location);\n        if (!(node instanceof LeafNode)) {\n            throw new Error('invalid location');\n        }\n        for (let i = path.length - 1; i > -1; i--) {\n            const n = path[i];\n            const l = location[i] || 0;\n            const canProgressInCurrentLevel = reverse\n                ? l - 1 > -1\n                : l + 1 < n.children.length;\n            if (canProgressInCurrentLevel) {\n                return findLeaf(n.children[reverse ? l - 1 : l + 1], reverse);\n            }\n        }\n        return findLeaf(this.root, reverse);\n    }\n    constructor(proportionalLayout, styles, orientation, locked, margin) {\n        this.proportionalLayout = proportionalLayout;\n        this.styles = styles;\n        this._locked = false;\n        this._margin = 0;\n        this._maximizedNode = undefined;\n        this.disposable = new MutableDisposable();\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._onDidViewVisibilityChange = new Emitter();\n        this.onDidViewVisibilityChange = this._onDidViewVisibilityChange.event;\n        this._onDidMaximizedNodeChange = new Emitter();\n        this.onDidMaximizedNodeChange = this._onDidMaximizedNodeChange.event;\n        this.element = document.createElement('div');\n        this.element.className = 'dv-grid-view';\n        this._locked = locked !== null && locked !== void 0 ? locked : false;\n        this._margin = margin !== null && margin !== void 0 ? margin : 0;\n        this.root = new BranchNode(orientation, proportionalLayout, styles, 0, 0, this.locked, this.margin);\n    }\n    isViewVisible(location) {\n        const [rest, index] = tail(location);\n        const [, parent] = this.getNode(rest);\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid from location');\n        }\n        return parent.isChildVisible(index);\n    }\n    setViewVisible(location, visible) {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n        const [rest, index] = tail(location);\n        const [, parent] = this.getNode(rest);\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid from location');\n        }\n        this._onDidViewVisibilityChange.fire();\n        parent.setChildVisible(index, visible);\n    }\n    moveView(parentLocation, from, to) {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n        const [, parent] = this.getNode(parentLocation);\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid location');\n        }\n        parent.moveChild(from, to);\n    }\n    addView(view, size, location) {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n        const [rest, index] = tail(location);\n        const [pathToParent, parent] = this.getNode(rest);\n        if (parent instanceof BranchNode) {\n            const node = new LeafNode(view, orthogonal(parent.orientation), parent.orthogonalSize);\n            parent.addChild(node, size, index);\n        }\n        else {\n            const [grandParent, ..._] = [...pathToParent].reverse();\n            const [parentIndex, ...__] = [...rest].reverse();\n            let newSiblingSize = 0;\n            const newSiblingCachedVisibleSize = grandParent.getChildCachedVisibleSize(parentIndex);\n            if (typeof newSiblingCachedVisibleSize === 'number') {\n                newSiblingSize = Sizing.Invisible(newSiblingCachedVisibleSize);\n            }\n            const child = grandParent.removeChild(parentIndex);\n            child.dispose();\n            const newParent = new BranchNode(parent.orientation, this.proportionalLayout, this.styles, parent.size, parent.orthogonalSize, this.locked, this.margin);\n            grandParent.addChild(newParent, parent.size, parentIndex);\n            const newSibling = new LeafNode(parent.view, grandParent.orientation, parent.size);\n            newParent.addChild(newSibling, newSiblingSize, 0);\n            if (typeof size !== 'number' && size.type === 'split') {\n                size = { type: 'split', index: 0 };\n            }\n            const node = new LeafNode(view, grandParent.orientation, parent.size);\n            newParent.addChild(node, size, index);\n        }\n    }\n    remove(view, sizing) {\n        const location = getGridLocation(view.element);\n        return this.removeView(location, sizing);\n    }\n    removeView(location, sizing) {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n        const [rest, index] = tail(location);\n        const [pathToParent, parent] = this.getNode(rest);\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid location');\n        }\n        const nodeToRemove = parent.children[index];\n        if (!(nodeToRemove instanceof LeafNode)) {\n            throw new Error('Invalid location');\n        }\n        parent.removeChild(index, sizing);\n        nodeToRemove.dispose();\n        if (parent.children.length !== 1) {\n            return nodeToRemove.view;\n        }\n        // if the parent has only one child and we know the parent is a BranchNode we can make the tree\n        // more efficiently spaced by replacing the parent BranchNode with the child.\n        // if that child is a LeafNode then we simply replace the BranchNode with the child otherwise if the child\n        // is a BranchNode too we should spread it's children into the grandparent.\n        // refer to the remaining child as the sibling\n        const sibling = parent.children[0];\n        if (pathToParent.length === 0) {\n            // if the parent is root\n            if (sibling instanceof LeafNode) {\n                // if the sibling is a leaf node no action is required\n                return nodeToRemove.view;\n            }\n            // otherwise the sibling is a branch node. since the parent is the root and the root has only one child\n            // which is a branch node we can just set this branch node to be the new root node\n            // for good housekeeping we'll removing the sibling from it's existing tree\n            parent.removeChild(0, sizing);\n            // and set that sibling node to be root\n            this.root = sibling;\n            return nodeToRemove.view;\n        }\n        // otherwise the parent is apart of a large sub-tree\n        const [grandParent, ..._] = [...pathToParent].reverse();\n        const [parentIndex, ...__] = [...rest].reverse();\n        const isSiblingVisible = parent.isChildVisible(0);\n        // either way we need to remove the sibling from it's existing tree\n        parent.removeChild(0, sizing);\n        // note the sizes of all of the grandparents children\n        const sizes = grandParent.children.map((_size, i) => grandParent.getChildSize(i));\n        // remove the parent from the grandparent since we are moving the sibling to take the parents place\n        // this parent is no longer used and can be disposed of\n        grandParent.removeChild(parentIndex, sizing).dispose();\n        if (sibling instanceof BranchNode) {\n            // replace the parent with the siblings children\n            sizes.splice(parentIndex, 1, ...sibling.children.map((c) => c.size));\n            // and add those siblings to the grandparent\n            for (let i = 0; i < sibling.children.length; i++) {\n                const child = sibling.children[i];\n                grandParent.addChild(child, child.size, parentIndex + i);\n            }\n            /**\n             * clean down the branch node since we need to dipose of it and\n             * when .dispose() it called on a branch it will dispose of any\n             * views it is holding onto.\n             */\n            while (sibling.children.length > 0) {\n                sibling.removeChild(0);\n            }\n        }\n        else {\n            // otherwise create a new leaf node and add that to the grandparent\n            const newSibling = new LeafNode(sibling.view, orthogonal(sibling.orientation), sibling.size);\n            const siblingSizing = isSiblingVisible\n                ? sibling.orthogonalSize\n                : Sizing.Invisible(sibling.orthogonalSize);\n            grandParent.addChild(newSibling, siblingSizing, parentIndex);\n        }\n        // the containing node of the sibling is no longer required and can be disposed of\n        sibling.dispose();\n        // resize everything\n        for (let i = 0; i < sizes.length; i++) {\n            grandParent.resizeChild(i, sizes[i]);\n        }\n        return nodeToRemove.view;\n    }\n    layout(width, height) {\n        const [size, orthogonalSize] = this.root.orientation === Orientation.HORIZONTAL\n            ? [height, width]\n            : [width, height];\n        this.root.layout(size, orthogonalSize);\n    }\n    getNode(location, node = this.root, path = []) {\n        if (location.length === 0) {\n            return [path, node];\n        }\n        if (!(node instanceof BranchNode)) {\n            throw new Error('Invalid location');\n        }\n        const [index, ...rest] = location;\n        if (index < 0 || index >= node.children.length) {\n            throw new Error('Invalid location');\n        }\n        const child = node.children[index];\n        path.push(node);\n        return this.getNode(rest, child, path);\n    }\n}\n\nconst PROPERTY_KEYS_GRIDVIEW = (() => {\n    /**\n     * by readong the keys from an empty value object TypeScript will error\n     * when we add or remove new properties to `DockviewOptions`\n     */\n    const properties = {\n        disableAutoResizing: undefined,\n        proportionalLayout: undefined,\n        orientation: undefined,\n        hideBorders: undefined,\n        className: undefined,\n    };\n    return Object.keys(properties);\n})();\n\nclass Resizable extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    get disableResizing() {\n        return this._disableResizing;\n    }\n    set disableResizing(value) {\n        this._disableResizing = value;\n    }\n    constructor(parentElement, disableResizing = false) {\n        super();\n        this._disableResizing = disableResizing;\n        this._element = parentElement;\n        this.addDisposables(watchElementResize(this._element, (entry) => {\n            if (this.isDisposed) {\n                /**\n                 * resize is delayed through requestAnimationFrame so there is a small chance\n                 * the component has already been disposed of\n                 */\n                return;\n            }\n            if (this.disableResizing) {\n                return;\n            }\n            if (!this._element.offsetParent) {\n                /**\n                 * offsetParent === null is equivalent to display: none being set on the element or one\n                 * of it's parents. In the display: none case the size will become (0, 0) which we do\n                 * not want to propagate.\n                 *\n                 * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\n                 *\n                 * You could use checkVisibility() but at the time of writing it's not supported across\n                 * all Browsers\n                 *\n                 * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/checkVisibility\n                 */\n                return;\n            }\n            if (!isInDocument(this._element)) {\n                /**\n                 * since the event is dispatched through requestAnimationFrame there is a small chance\n                 * the component is no longer attached to the DOM, if that is the case the dimensions\n                 * are mostly likely all zero and meaningless. we should skip this case.\n                 */\n                return;\n            }\n            const { width, height } = entry.contentRect;\n            this.layout(width, height);\n        }));\n    }\n}\n\nconst nextLayoutId$1 = sequentialNumberGenerator();\nfunction toTarget(direction) {\n    switch (direction) {\n        case 'left':\n            return 'left';\n        case 'right':\n            return 'right';\n        case 'above':\n            return 'top';\n        case 'below':\n            return 'bottom';\n        case 'within':\n        default:\n            return 'center';\n    }\n}\nclass BaseGrid extends Resizable {\n    get id() {\n        return this._id;\n    }\n    get size() {\n        return this._groups.size;\n    }\n    get groups() {\n        return Array.from(this._groups.values()).map((_) => _.value);\n    }\n    get width() {\n        return this.gridview.width;\n    }\n    get height() {\n        return this.gridview.height;\n    }\n    get minimumHeight() {\n        return this.gridview.minimumHeight;\n    }\n    get maximumHeight() {\n        return this.gridview.maximumHeight;\n    }\n    get minimumWidth() {\n        return this.gridview.minimumWidth;\n    }\n    get maximumWidth() {\n        return this.gridview.maximumWidth;\n    }\n    get activeGroup() {\n        return this._activeGroup;\n    }\n    get locked() {\n        return this.gridview.locked;\n    }\n    set locked(value) {\n        this.gridview.locked = value;\n    }\n    constructor(container, options) {\n        var _a;\n        super(document.createElement('div'), options.disableAutoResizing);\n        this._id = nextLayoutId$1.next();\n        this._groups = new Map();\n        this._onDidRemove = new Emitter();\n        this.onDidRemove = this._onDidRemove.event;\n        this._onDidAdd = new Emitter();\n        this.onDidAdd = this._onDidAdd.event;\n        this._onDidMaximizedChange = new Emitter();\n        this.onDidMaximizedChange = this._onDidMaximizedChange.event;\n        this._onDidActiveChange = new Emitter();\n        this.onDidActiveChange = this._onDidActiveChange.event;\n        this._bufferOnDidLayoutChange = new AsapEvent();\n        this.onDidLayoutChange = this._bufferOnDidLayoutChange.onEvent;\n        this._onDidViewVisibilityChangeMicroTaskQueue = new AsapEvent();\n        this.onDidViewVisibilityChangeMicroTaskQueue = this._onDidViewVisibilityChangeMicroTaskQueue.onEvent;\n        this.element.style.height = '100%';\n        this.element.style.width = '100%';\n        this._classNames = new Classnames(this.element);\n        this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');\n        // the container is owned by the third-party, do not modify/delete it\n        container.appendChild(this.element);\n        this.gridview = new Gridview(!!options.proportionalLayout, options.styles, options.orientation, options.locked, options.margin);\n        this.gridview.locked = !!options.locked;\n        this.element.appendChild(this.gridview.element);\n        this.layout(0, 0, true); // set some elements height/widths\n        this.addDisposables(this.gridview.onDidMaximizedNodeChange((event) => {\n            this._onDidMaximizedChange.fire({\n                panel: event.view,\n                isMaximized: event.isMaximized,\n            });\n        }), this.gridview.onDidViewVisibilityChange(() => this._onDidViewVisibilityChangeMicroTaskQueue.fire()), this.onDidViewVisibilityChangeMicroTaskQueue(() => {\n            this.layout(this.width, this.height, true);\n        }), Disposable.from(() => {\n            var _a;\n            (_a = this.element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.element);\n        }), this.gridview.onDidChange(() => {\n            this._bufferOnDidLayoutChange.fire();\n        }), Event.any(this.onDidAdd, this.onDidRemove, this.onDidActiveChange)(() => {\n            this._bufferOnDidLayoutChange.fire();\n        }), this._onDidMaximizedChange, this._onDidViewVisibilityChangeMicroTaskQueue, this._bufferOnDidLayoutChange);\n    }\n    setVisible(panel, visible) {\n        this.gridview.setViewVisible(getGridLocation(panel.element), visible);\n        this._bufferOnDidLayoutChange.fire();\n    }\n    isVisible(panel) {\n        return this.gridview.isViewVisible(getGridLocation(panel.element));\n    }\n    updateOptions(options) {\n        var _a, _b, _c, _d;\n        if (typeof options.proportionalLayout === 'boolean') ;\n        if (options.orientation) {\n            this.gridview.orientation = options.orientation;\n        }\n        if ('disableResizing' in options) {\n            this.disableResizing = (_a = options.disableAutoResizing) !== null && _a !== void 0 ? _a : false;\n        }\n        if ('locked' in options) {\n            this.locked = (_b = options.locked) !== null && _b !== void 0 ? _b : false;\n        }\n        if ('margin' in options) {\n            this.gridview.margin = (_c = options.margin) !== null && _c !== void 0 ? _c : 0;\n        }\n        if ('className' in options) {\n            this._classNames.setClassNames((_d = options.className) !== null && _d !== void 0 ? _d : '');\n        }\n    }\n    maximizeGroup(panel) {\n        this.gridview.maximizeView(panel);\n        this.doSetGroupActive(panel);\n    }\n    isMaximizedGroup(panel) {\n        return this.gridview.maximizedView() === panel;\n    }\n    exitMaximizedGroup() {\n        this.gridview.exitMaximizedView();\n    }\n    hasMaximizedGroup() {\n        return this.gridview.hasMaximizedView();\n    }\n    doAddGroup(group, location = [0], size) {\n        this.gridview.addView(group, size !== null && size !== void 0 ? size : Sizing.Distribute, location);\n        this._onDidAdd.fire(group);\n    }\n    doRemoveGroup(group, options) {\n        if (!this._groups.has(group.id)) {\n            throw new Error('invalid operation');\n        }\n        const item = this._groups.get(group.id);\n        const view = this.gridview.remove(group, Sizing.Distribute);\n        if (item && !(options === null || options === void 0 ? void 0 : options.skipDispose)) {\n            item.disposable.dispose();\n            item.value.dispose();\n            this._groups.delete(group.id);\n            this._onDidRemove.fire(group);\n        }\n        if (!(options === null || options === void 0 ? void 0 : options.skipActive) && this._activeGroup === group) {\n            const groups = Array.from(this._groups.values());\n            this.doSetGroupActive(groups.length > 0 ? groups[0].value : undefined);\n        }\n        return view;\n    }\n    getPanel(id) {\n        var _a;\n        return (_a = this._groups.get(id)) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    doSetGroupActive(group) {\n        if (this._activeGroup === group) {\n            return;\n        }\n        if (this._activeGroup) {\n            this._activeGroup.setActive(false);\n        }\n        if (group) {\n            group.setActive(true);\n        }\n        this._activeGroup = group;\n        this._onDidActiveChange.fire(group);\n    }\n    removeGroup(group) {\n        this.doRemoveGroup(group);\n    }\n    moveToNext(options) {\n        var _a;\n        if (!options) {\n            options = {};\n        }\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n        const location = getGridLocation(options.group.element);\n        const next = (_a = this.gridview.next(location)) === null || _a === void 0 ? void 0 : _a.view;\n        this.doSetGroupActive(next);\n    }\n    moveToPrevious(options) {\n        var _a;\n        if (!options) {\n            options = {};\n        }\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n        const location = getGridLocation(options.group.element);\n        const next = (_a = this.gridview.previous(location)) === null || _a === void 0 ? void 0 : _a.view;\n        this.doSetGroupActive(next);\n    }\n    layout(width, height, forceResize) {\n        const different = forceResize || width !== this.width || height !== this.height;\n        if (!different) {\n            return;\n        }\n        this.gridview.element.style.height = `${height}px`;\n        this.gridview.element.style.width = `${width}px`;\n        this.gridview.layout(width, height);\n    }\n    dispose() {\n        this._onDidActiveChange.dispose();\n        this._onDidAdd.dispose();\n        this._onDidRemove.dispose();\n        for (const group of this.groups) {\n            group.dispose();\n        }\n        this.gridview.dispose();\n        super.dispose();\n    }\n}\n\nclass SplitviewApi {\n    /**\n     * The minimum size  the component can reach where size is measured in the direction of orientation provided.\n     */\n    get minimumSize() {\n        return this.component.minimumSize;\n    }\n    /**\n     * The maximum size the component can reach where size is measured in the direction of orientation provided.\n     */\n    get maximumSize() {\n        return this.component.maximumSize;\n    }\n    /**\n     * Width of the component.\n     */\n    get width() {\n        return this.component.width;\n    }\n    /**\n     * Height of the component.\n     */\n    get height() {\n        return this.component.height;\n    }\n    /**\n     * The current number of panels.\n     */\n    get length() {\n        return this.component.length;\n    }\n    /**\n     * The current orientation of the component.\n     */\n    get orientation() {\n        return this.component.orientation;\n    }\n    /**\n     * The list of current panels.\n     */\n    get panels() {\n        return this.component.panels;\n    }\n    /**\n     * Invoked after a layout is loaded through the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON() {\n        return this.component.onDidLayoutFromJSON;\n    }\n    /**\n     * Invoked whenever any aspect of the layout changes.\n     * If listening to this event it may be worth debouncing ouputs.\n     */\n    get onDidLayoutChange() {\n        return this.component.onDidLayoutChange;\n    }\n    /**\n     * Invoked when a view is added.\n     */\n    get onDidAddView() {\n        return this.component.onDidAddView;\n    }\n    /**\n     * Invoked when a view is removed.\n     */\n    get onDidRemoveView() {\n        return this.component.onDidRemoveView;\n    }\n    constructor(component) {\n        this.component = component;\n    }\n    /**\n     * Removes an existing panel and optionally provide a `Sizing` method\n     * for the subsequent resize.\n     */\n    removePanel(panel, sizing) {\n        this.component.removePanel(panel, sizing);\n    }\n    /**\n     * Focus the component.\n     */\n    focus() {\n        this.component.focus();\n    }\n    /**\n     * Get the reference to a panel given it's `string` id.\n     */\n    getPanel(id) {\n        return this.component.getPanel(id);\n    }\n    /**\n     * Layout the panel with a width and height.\n     */\n    layout(width, height) {\n        return this.component.layout(width, height);\n    }\n    /**\n     * Add a new panel and return the created instance.\n     */\n    addPanel(options) {\n        return this.component.addPanel(options);\n    }\n    /**\n     * Move a panel given it's current and desired index.\n     */\n    movePanel(from, to) {\n        this.component.movePanel(from, to);\n    }\n    /**\n     * Deserialize a layout to built a splitivew.\n     */\n    fromJSON(data) {\n        this.component.fromJSON(data);\n    }\n    /** Serialize a layout */\n    toJSON() {\n        return this.component.toJSON();\n    }\n    /**\n     * Remove all panels and clear the component.\n     */\n    clear() {\n        this.component.clear();\n    }\n    /**\n     * Update configuratable options.\n     */\n    updateOptions(options) {\n        this.component.updateOptions(options);\n    }\n    /**\n     * Release resources and teardown component. Do not call when using framework versions of dockview.\n     */\n    dispose() {\n        this.component.dispose();\n    }\n}\nclass PaneviewApi {\n    /**\n     * The minimum size  the component can reach where size is measured in the direction of orientation provided.\n     */\n    get minimumSize() {\n        return this.component.minimumSize;\n    }\n    /**\n     * The maximum size the component can reach where size is measured in the direction of orientation provided.\n     */\n    get maximumSize() {\n        return this.component.maximumSize;\n    }\n    /**\n     * Width of the component.\n     */\n    get width() {\n        return this.component.width;\n    }\n    /**\n     * Height of the component.\n     */\n    get height() {\n        return this.component.height;\n    }\n    /**\n     * All panel objects.\n     */\n    get panels() {\n        return this.component.panels;\n    }\n    /**\n     * Invoked when any layout change occures, an aggregation of many events.\n     */\n    get onDidLayoutChange() {\n        return this.component.onDidLayoutChange;\n    }\n    /**\n     * Invoked after a layout is deserialzied using the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON() {\n        return this.component.onDidLayoutFromJSON;\n    }\n    /**\n     * Invoked when a panel is added. May be called multiple times when moving panels.\n     */\n    get onDidAddView() {\n        return this.component.onDidAddView;\n    }\n    /**\n     * Invoked when a panel is removed. May be called multiple times when moving panels.\n     */\n    get onDidRemoveView() {\n        return this.component.onDidRemoveView;\n    }\n    /**\n     * Invoked when a Drag'n'Drop event occurs that the component was unable to handle. Exposed for custom Drag'n'Drop functionality.\n     */\n    get onDidDrop() {\n        return this.component.onDidDrop;\n    }\n    get onUnhandledDragOverEvent() {\n        return this.component.onUnhandledDragOverEvent;\n    }\n    constructor(component) {\n        this.component = component;\n    }\n    /**\n     * Remove a panel given the panel object.\n     */\n    removePanel(panel) {\n        this.component.removePanel(panel);\n    }\n    /**\n     * Get a panel object given a `string` id. May return `undefined`.\n     */\n    getPanel(id) {\n        return this.component.getPanel(id);\n    }\n    /**\n     * Move a panel given it's current and desired index.\n     */\n    movePanel(from, to) {\n        this.component.movePanel(from, to);\n    }\n    /**\n     *  Focus the component. Will try to focus an active panel if one exists.\n     */\n    focus() {\n        this.component.focus();\n    }\n    /**\n     * Force resize the component to an exact width and height. Read about auto-resizing before using.\n     */\n    layout(width, height) {\n        this.component.layout(width, height);\n    }\n    /**\n     * Add a panel and return the created object.\n     */\n    addPanel(options) {\n        return this.component.addPanel(options);\n    }\n    /**\n     * Create a component from a serialized object.\n     */\n    fromJSON(data) {\n        this.component.fromJSON(data);\n    }\n    /**\n     * Create a serialized object of the current component.\n     */\n    toJSON() {\n        return this.component.toJSON();\n    }\n    /**\n     * Reset the component back to an empty and default state.\n     */\n    clear() {\n        this.component.clear();\n    }\n    /**\n     * Update configuratable options.\n     */\n    updateOptions(options) {\n        this.component.updateOptions(options);\n    }\n    /**\n     * Release resources and teardown component. Do not call when using framework versions of dockview.\n     */\n    dispose() {\n        this.component.dispose();\n    }\n}\nclass GridviewApi {\n    /**\n     * Width of the component.\n     */\n    get width() {\n        return this.component.width;\n    }\n    /**\n     * Height of the component.\n     */\n    get height() {\n        return this.component.height;\n    }\n    /**\n     * Minimum height of the component.\n     */\n    get minimumHeight() {\n        return this.component.minimumHeight;\n    }\n    /**\n     * Maximum height of the component.\n     */\n    get maximumHeight() {\n        return this.component.maximumHeight;\n    }\n    /**\n     * Minimum width of the component.\n     */\n    get minimumWidth() {\n        return this.component.minimumWidth;\n    }\n    /**\n     * Maximum width of the component.\n     */\n    get maximumWidth() {\n        return this.component.maximumWidth;\n    }\n    /**\n     * Invoked when any layout change occures, an aggregation of many events.\n     */\n    get onDidLayoutChange() {\n        return this.component.onDidLayoutChange;\n    }\n    /**\n     * Invoked when a panel is added. May be called multiple times when moving panels.\n     */\n    get onDidAddPanel() {\n        return this.component.onDidAddGroup;\n    }\n    /**\n     * Invoked when a panel is removed. May be called multiple times when moving panels.\n     */\n    get onDidRemovePanel() {\n        return this.component.onDidRemoveGroup;\n    }\n    /**\n     * Invoked when the active panel changes. May be undefined if no panel is active.\n     */\n    get onDidActivePanelChange() {\n        return this.component.onDidActiveGroupChange;\n    }\n    /**\n     * Invoked after a layout is deserialzied using the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON() {\n        return this.component.onDidLayoutFromJSON;\n    }\n    /**\n     * All panel objects.\n     */\n    get panels() {\n        return this.component.groups;\n    }\n    /**\n     * Current orientation. Can be changed after initialization.\n     */\n    get orientation() {\n        return this.component.orientation;\n    }\n    set orientation(value) {\n        this.component.updateOptions({ orientation: value });\n    }\n    constructor(component) {\n        this.component = component;\n    }\n    /**\n     *  Focus the component. Will try to focus an active panel if one exists.\n     */\n    focus() {\n        this.component.focus();\n    }\n    /**\n     * Force resize the component to an exact width and height. Read about auto-resizing before using.\n     */\n    layout(width, height, force = false) {\n        this.component.layout(width, height, force);\n    }\n    /**\n     * Add a panel and return the created object.\n     */\n    addPanel(options) {\n        return this.component.addPanel(options);\n    }\n    /**\n     * Remove a panel given the panel object.\n     */\n    removePanel(panel, sizing) {\n        this.component.removePanel(panel, sizing);\n    }\n    /**\n     * Move a panel in a particular direction relative to another panel.\n     */\n    movePanel(panel, options) {\n        this.component.movePanel(panel, options);\n    }\n    /**\n     * Get a panel object given a `string` id. May return `undefined`.\n     */\n    getPanel(id) {\n        return this.component.getPanel(id);\n    }\n    /**\n     * Create a component from a serialized object.\n     */\n    fromJSON(data) {\n        return this.component.fromJSON(data);\n    }\n    /**\n     * Create a serialized object of the current component.\n     */\n    toJSON() {\n        return this.component.toJSON();\n    }\n    /**\n     * Reset the component back to an empty and default state.\n     */\n    clear() {\n        this.component.clear();\n    }\n    updateOptions(options) {\n        this.component.updateOptions(options);\n    }\n    /**\n     * Release resources and teardown component. Do not call when using framework versions of dockview.\n     */\n    dispose() {\n        this.component.dispose();\n    }\n}\nclass DockviewApi {\n    /**\n     * The unique identifier for this instance. Used to manage scope of Drag'n'Drop events.\n     */\n    get id() {\n        return this.component.id;\n    }\n    /**\n     * Width of the component.\n     */\n    get width() {\n        return this.component.width;\n    }\n    /**\n     * Height of the component.\n     */\n    get height() {\n        return this.component.height;\n    }\n    /**\n     * Minimum height of the component.\n     */\n    get minimumHeight() {\n        return this.component.minimumHeight;\n    }\n    /**\n     * Maximum height of the component.\n     */\n    get maximumHeight() {\n        return this.component.maximumHeight;\n    }\n    /**\n     * Minimum width of the component.\n     */\n    get minimumWidth() {\n        return this.component.minimumWidth;\n    }\n    /**\n     * Maximum width of the component.\n     */\n    get maximumWidth() {\n        return this.component.maximumWidth;\n    }\n    /**\n     * Total number of groups.\n     */\n    get size() {\n        return this.component.size;\n    }\n    /**\n     * Total number of panels.\n     */\n    get totalPanels() {\n        return this.component.totalPanels;\n    }\n    /**\n     * Invoked when the active group changes. May be undefined if no group is active.\n     */\n    get onDidActiveGroupChange() {\n        return this.component.onDidActiveGroupChange;\n    }\n    /**\n     * Invoked when a group is added. May be called multiple times when moving groups.\n     */\n    get onDidAddGroup() {\n        return this.component.onDidAddGroup;\n    }\n    /**\n     * Invoked when a group is removed. May be called multiple times when moving groups.\n     */\n    get onDidRemoveGroup() {\n        return this.component.onDidRemoveGroup;\n    }\n    /**\n     * Invoked when the active panel changes. May be undefined if no panel is active.\n     */\n    get onDidActivePanelChange() {\n        return this.component.onDidActivePanelChange;\n    }\n    /**\n     * Invoked when a panel is added. May be called multiple times when moving panels.\n     */\n    get onDidAddPanel() {\n        return this.component.onDidAddPanel;\n    }\n    /**\n     * Invoked when a panel is removed. May be called multiple times when moving panels.\n     */\n    get onDidRemovePanel() {\n        return this.component.onDidRemovePanel;\n    }\n    get onDidMovePanel() {\n        return this.component.onDidMovePanel;\n    }\n    /**\n     * Invoked after a layout is deserialzied using the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON() {\n        return this.component.onDidLayoutFromJSON;\n    }\n    /**\n     * Invoked when any layout change occures, an aggregation of many events.\n     */\n    get onDidLayoutChange() {\n        return this.component.onDidLayoutChange;\n    }\n    /**\n     * Invoked when a Drag'n'Drop event occurs that the component was unable to handle. Exposed for custom Drag'n'Drop functionality.\n     */\n    get onDidDrop() {\n        return this.component.onDidDrop;\n    }\n    /**\n     * Invoked when a Drag'n'Drop event occurs but before dockview handles it giving the user an opportunity to intecept and\n     * prevent the event from occuring using the standard `preventDefault()` syntax.\n     *\n     * Preventing certain events may causes unexpected behaviours, use carefully.\n     */\n    get onWillDrop() {\n        return this.component.onWillDrop;\n    }\n    /**\n     * Invoked before an overlay is shown indicating a drop target.\n     *\n     * Calling `event.preventDefault()` will prevent the overlay being shown and prevent\n     * the any subsequent drop event.\n     */\n    get onWillShowOverlay() {\n        return this.component.onWillShowOverlay;\n    }\n    /**\n     * Invoked before a group is dragged.\n     *\n     * Calling `event.nativeEvent.preventDefault()` will prevent the group drag starting.\n     *\n     */\n    get onWillDragGroup() {\n        return this.component.onWillDragGroup;\n    }\n    /**\n     * Invoked before a panel is dragged.\n     *\n     * Calling `event.nativeEvent.preventDefault()` will prevent the panel drag starting.\n     */\n    get onWillDragPanel() {\n        return this.component.onWillDragPanel;\n    }\n    get onUnhandledDragOverEvent() {\n        return this.component.onUnhandledDragOverEvent;\n    }\n    get onDidPopoutGroupSizeChange() {\n        return this.component.onDidPopoutGroupSizeChange;\n    }\n    get onDidPopoutGroupPositionChange() {\n        return this.component.onDidPopoutGroupPositionChange;\n    }\n    get onDidOpenPopoutWindowFail() {\n        return this.component.onDidOpenPopoutWindowFail;\n    }\n    /**\n     * All panel objects.\n     */\n    get panels() {\n        return this.component.panels;\n    }\n    /**\n     * All group objects.\n     */\n    get groups() {\n        return this.component.groups;\n    }\n    /**\n     *  Active panel object.\n     */\n    get activePanel() {\n        return this.component.activePanel;\n    }\n    /**\n     * Active group object.\n     */\n    get activeGroup() {\n        return this.component.activeGroup;\n    }\n    constructor(component) {\n        this.component = component;\n    }\n    /**\n     *  Focus the component. Will try to focus an active panel if one exists.\n     */\n    focus() {\n        this.component.focus();\n    }\n    /**\n     * Get a panel object given a `string` id. May return `undefined`.\n     */\n    getPanel(id) {\n        return this.component.getGroupPanel(id);\n    }\n    /**\n     * Force resize the component to an exact width and height. Read about auto-resizing before using.\n     */\n    layout(width, height, force = false) {\n        this.component.layout(width, height, force);\n    }\n    /**\n     * Add a panel and return the created object.\n     */\n    addPanel(options) {\n        return this.component.addPanel(options);\n    }\n    /**\n     * Remove a panel given the panel object.\n     */\n    removePanel(panel) {\n        this.component.removePanel(panel);\n    }\n    /**\n     * Add a group and return the created object.\n     */\n    addGroup(options) {\n        return this.component.addGroup(options);\n    }\n    /**\n     * Close all groups and panels.\n     */\n    closeAllGroups() {\n        return this.component.closeAllGroups();\n    }\n    /**\n     * Remove a group and any panels within the group.\n     */\n    removeGroup(group) {\n        this.component.removeGroup(group);\n    }\n    /**\n     * Get a group object given a `string` id. May return undefined.\n     */\n    getGroup(id) {\n        return this.component.getPanel(id);\n    }\n    /**\n     * Add a floating group\n     */\n    addFloatingGroup(item, options) {\n        return this.component.addFloatingGroup(item, options);\n    }\n    /**\n     * Create a component from a serialized object.\n     */\n    fromJSON(data, options) {\n        this.component.fromJSON(data, options);\n    }\n    /**\n     * Create a serialized object of the current component.\n     */\n    toJSON() {\n        return this.component.toJSON();\n    }\n    /**\n     * Reset the component back to an empty and default state.\n     */\n    clear() {\n        this.component.clear();\n    }\n    /**\n     * Move the focus progmatically to the next panel or group.\n     */\n    moveToNext(options) {\n        this.component.moveToNext(options);\n    }\n    /**\n     * Move the focus progmatically to the previous panel or group.\n     */\n    moveToPrevious(options) {\n        this.component.moveToPrevious(options);\n    }\n    maximizeGroup(panel) {\n        this.component.maximizeGroup(panel.group);\n    }\n    hasMaximizedGroup() {\n        return this.component.hasMaximizedGroup();\n    }\n    exitMaximizedGroup() {\n        this.component.exitMaximizedGroup();\n    }\n    get onDidMaximizedGroupChange() {\n        return this.component.onDidMaximizedGroupChange;\n    }\n    /**\n     * Add a popout group in a new Window\n     */\n    addPopoutGroup(item, options) {\n        return this.component.addPopoutGroup(item, options);\n    }\n    updateOptions(options) {\n        this.component.updateOptions(options);\n    }\n    /**\n     * Release resources and teardown component. Do not call when using framework versions of dockview.\n     */\n    dispose() {\n        this.component.dispose();\n    }\n}\n\nclass DragHandler extends CompositeDisposable {\n    constructor(el, disabled) {\n        super();\n        this.el = el;\n        this.disabled = disabled;\n        this.dataDisposable = new MutableDisposable();\n        this.pointerEventsDisposable = new MutableDisposable();\n        this._onDragStart = new Emitter();\n        this.onDragStart = this._onDragStart.event;\n        this.addDisposables(this._onDragStart, this.dataDisposable, this.pointerEventsDisposable);\n        this.configure();\n    }\n    setDisabled(disabled) {\n        this.disabled = disabled;\n    }\n    isCancelled(_event) {\n        return false;\n    }\n    configure() {\n        this.addDisposables(this._onDragStart, addDisposableListener(this.el, 'dragstart', (event) => {\n            if (event.defaultPrevented ||\n                this.isCancelled(event) ||\n                this.disabled) {\n                event.preventDefault();\n                return;\n            }\n            const iframes = disableIframePointEvents();\n            this.pointerEventsDisposable.value = {\n                dispose: () => {\n                    iframes.release();\n                },\n            };\n            this.el.classList.add('dv-dragged');\n            setTimeout(() => this.el.classList.remove('dv-dragged'), 0);\n            this.dataDisposable.value = this.getData(event);\n            this._onDragStart.fire(event);\n            if (event.dataTransfer) {\n                event.dataTransfer.effectAllowed = 'move';\n                const hasData = event.dataTransfer.items.length > 0;\n                if (!hasData) {\n                    /**\n                     * Although this is not used by dockview many third party dnd libraries will check\n                     * dataTransfer.types to determine valid drag events.\n                     *\n                     * For example: in react-dnd if dataTransfer.types is not set then the dragStart event will be cancelled\n                     * through .preventDefault(). Since this is applied globally to all drag events this would break dockviews\n                     * dnd logic. You can see the code at\n                 P    * https://github.com/react-dnd/react-dnd/blob/main/packages/backend-html5/src/HTML5BackendImpl.ts#L542\n                     */\n                    event.dataTransfer.setData('text/plain', '');\n                }\n            }\n        }), addDisposableListener(this.el, 'dragend', () => {\n            this.pointerEventsDisposable.dispose();\n            setTimeout(() => {\n                this.dataDisposable.dispose(); // allow the data to be read by other handlers before disposing\n            }, 0);\n        }));\n    }\n}\n\nclass DragAndDropObserver extends CompositeDisposable {\n    constructor(element, callbacks) {\n        super();\n        this.element = element;\n        this.callbacks = callbacks;\n        this.target = null;\n        this.registerListeners();\n    }\n    onDragEnter(e) {\n        this.target = e.target;\n        this.callbacks.onDragEnter(e);\n    }\n    onDragOver(e) {\n        e.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n        if (this.callbacks.onDragOver) {\n            this.callbacks.onDragOver(e);\n        }\n    }\n    onDragLeave(e) {\n        if (this.target === e.target) {\n            this.target = null;\n            this.callbacks.onDragLeave(e);\n        }\n    }\n    onDragEnd(e) {\n        this.target = null;\n        this.callbacks.onDragEnd(e);\n    }\n    onDrop(e) {\n        this.callbacks.onDrop(e);\n    }\n    registerListeners() {\n        this.addDisposables(addDisposableListener(this.element, 'dragenter', (e) => {\n            this.onDragEnter(e);\n        }, true));\n        this.addDisposables(addDisposableListener(this.element, 'dragover', (e) => {\n            this.onDragOver(e);\n        }, true));\n        this.addDisposables(addDisposableListener(this.element, 'dragleave', (e) => {\n            this.onDragLeave(e);\n        }));\n        this.addDisposables(addDisposableListener(this.element, 'dragend', (e) => {\n            this.onDragEnd(e);\n        }));\n        this.addDisposables(addDisposableListener(this.element, 'drop', (e) => {\n            this.onDrop(e);\n        }));\n    }\n}\n\nfunction setGPUOptimizedBounds(element, bounds) {\n    const { top, left, width, height } = bounds;\n    const topPx = `${Math.round(top)}px`;\n    const leftPx = `${Math.round(left)}px`;\n    const widthPx = `${Math.round(width)}px`;\n    const heightPx = `${Math.round(height)}px`;\n    // Use traditional positioning but maintain GPU layer\n    element.style.top = topPx;\n    element.style.left = leftPx;\n    element.style.width = widthPx;\n    element.style.height = heightPx;\n    element.style.visibility = 'visible';\n    // Ensure GPU layer is maintained\n    if (!element.style.transform || element.style.transform === '') {\n        element.style.transform = 'translate3d(0, 0, 0)';\n    }\n}\nfunction setGPUOptimizedBoundsFromStrings(element, bounds) {\n    const { top, left, width, height } = bounds;\n    // Use traditional positioning but maintain GPU layer\n    element.style.top = top;\n    element.style.left = left;\n    element.style.width = width;\n    element.style.height = height;\n    element.style.visibility = 'visible';\n    // Ensure GPU layer is maintained\n    if (!element.style.transform || element.style.transform === '') {\n        element.style.transform = 'translate3d(0, 0, 0)';\n    }\n}\nfunction checkBoundsChanged(element, bounds) {\n    const { top, left, width, height } = bounds;\n    const topPx = `${Math.round(top)}px`;\n    const leftPx = `${Math.round(left)}px`;\n    const widthPx = `${Math.round(width)}px`;\n    const heightPx = `${Math.round(height)}px`;\n    // Check if position or size changed (back to traditional method)\n    return (element.style.top !== topPx ||\n        element.style.left !== leftPx ||\n        element.style.width !== widthPx ||\n        element.style.height !== heightPx);\n}\nclass WillShowOverlayEvent extends DockviewEvent {\n    get nativeEvent() {\n        return this.options.nativeEvent;\n    }\n    get position() {\n        return this.options.position;\n    }\n    constructor(options) {\n        super();\n        this.options = options;\n    }\n}\nfunction directionToPosition(direction) {\n    switch (direction) {\n        case 'above':\n            return 'top';\n        case 'below':\n            return 'bottom';\n        case 'left':\n            return 'left';\n        case 'right':\n            return 'right';\n        case 'within':\n            return 'center';\n        default:\n            throw new Error(`invalid direction '${direction}'`);\n    }\n}\nfunction positionToDirection(position) {\n    switch (position) {\n        case 'top':\n            return 'above';\n        case 'bottom':\n            return 'below';\n        case 'left':\n            return 'left';\n        case 'right':\n            return 'right';\n        case 'center':\n            return 'within';\n        default:\n            throw new Error(`invalid position '${position}'`);\n    }\n}\nconst DEFAULT_ACTIVATION_SIZE = {\n    value: 20,\n    type: 'percentage',\n};\nconst DEFAULT_SIZE = {\n    value: 50,\n    type: 'percentage',\n};\nconst SMALL_WIDTH_BOUNDARY = 100;\nconst SMALL_HEIGHT_BOUNDARY = 100;\nclass Droptarget extends CompositeDisposable {\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        this._disabled = value;\n    }\n    get state() {\n        return this._state;\n    }\n    constructor(element, options) {\n        super();\n        this.element = element;\n        this.options = options;\n        this._onDrop = new Emitter();\n        this.onDrop = this._onDrop.event;\n        this._onWillShowOverlay = new Emitter();\n        this.onWillShowOverlay = this._onWillShowOverlay.event;\n        this._disabled = false;\n        // use a set to take advantage of #<set>.has\n        this._acceptedTargetZonesSet = new Set(this.options.acceptedTargetZones);\n        this.dnd = new DragAndDropObserver(this.element, {\n            onDragEnter: () => {\n                var _a, _b, _c;\n                (_c = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a)) === null || _c === void 0 ? void 0 : _c.getElements();\n            },\n            onDragOver: (e) => {\n                var _a, _b, _c, _d, _e, _f, _g;\n                Droptarget.ACTUAL_TARGET = this;\n                const overrideTarget = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);\n                if (this._acceptedTargetZonesSet.size === 0) {\n                    if (overrideTarget) {\n                        return;\n                    }\n                    this.removeDropTarget();\n                    return;\n                }\n                const target = (_e = (_d = (_c = this.options).getOverlayOutline) === null || _d === void 0 ? void 0 : _d.call(_c)) !== null && _e !== void 0 ? _e : this.element;\n                const width = target.offsetWidth;\n                const height = target.offsetHeight;\n                if (width === 0 || height === 0) {\n                    return; // avoid div!0\n                }\n                const rect = e.currentTarget.getBoundingClientRect();\n                const x = ((_f = e.clientX) !== null && _f !== void 0 ? _f : 0) - rect.left;\n                const y = ((_g = e.clientY) !== null && _g !== void 0 ? _g : 0) - rect.top;\n                const quadrant = this.calculateQuadrant(this._acceptedTargetZonesSet, x, y, width, height);\n                /**\n                 * If the event has already been used by another DropTarget instance\n                 * then don't show a second drop target, only one target should be\n                 * active at any one time\n                 */\n                if (this.isAlreadyUsed(e) || quadrant === null) {\n                    // no drop target should be displayed\n                    this.removeDropTarget();\n                    return;\n                }\n                if (!this.options.canDisplayOverlay(e, quadrant)) {\n                    if (overrideTarget) {\n                        return;\n                    }\n                    this.removeDropTarget();\n                    return;\n                }\n                const willShowOverlayEvent = new WillShowOverlayEvent({\n                    nativeEvent: e,\n                    position: quadrant,\n                });\n                /**\n                 * Provide an opportunity to prevent the overlay appearing and in turn\n                 * any dnd behaviours\n                 */\n                this._onWillShowOverlay.fire(willShowOverlayEvent);\n                if (willShowOverlayEvent.defaultPrevented) {\n                    this.removeDropTarget();\n                    return;\n                }\n                this.markAsUsed(e);\n                if (overrideTarget) ;\n                else if (!this.targetElement) {\n                    this.targetElement = document.createElement('div');\n                    this.targetElement.className = 'dv-drop-target-dropzone';\n                    this.overlayElement = document.createElement('div');\n                    this.overlayElement.className = 'dv-drop-target-selection';\n                    this._state = 'center';\n                    this.targetElement.appendChild(this.overlayElement);\n                    target.classList.add('dv-drop-target');\n                    target.append(this.targetElement);\n                    // this.overlayElement.style.opacity = '0';\n                    // requestAnimationFrame(() => {\n                    //     if (this.overlayElement) {\n                    //         this.overlayElement.style.opacity = '';\n                    //     }\n                    // });\n                }\n                this.toggleClasses(quadrant, width, height);\n                this._state = quadrant;\n            },\n            onDragLeave: () => {\n                var _a, _b;\n                const target = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);\n                if (target) {\n                    return;\n                }\n                this.removeDropTarget();\n            },\n            onDragEnd: (e) => {\n                var _a, _b;\n                const target = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);\n                if (target && Droptarget.ACTUAL_TARGET === this) {\n                    if (this._state) {\n                        // only stop the propagation of the event if we are dealing with it\n                        // which is only when the target has state\n                        e.stopPropagation();\n                        this._onDrop.fire({\n                            position: this._state,\n                            nativeEvent: e,\n                        });\n                    }\n                }\n                this.removeDropTarget();\n                target === null || target === void 0 ? void 0 : target.clear();\n            },\n            onDrop: (e) => {\n                var _a, _b, _c;\n                e.preventDefault();\n                const state = this._state;\n                this.removeDropTarget();\n                (_c = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a)) === null || _c === void 0 ? void 0 : _c.clear();\n                if (state) {\n                    // only stop the propagation of the event if we are dealing with it\n                    // which is only when the target has state\n                    e.stopPropagation();\n                    this._onDrop.fire({ position: state, nativeEvent: e });\n                }\n            },\n        });\n        this.addDisposables(this._onDrop, this._onWillShowOverlay, this.dnd);\n    }\n    setTargetZones(acceptedTargetZones) {\n        this._acceptedTargetZonesSet = new Set(acceptedTargetZones);\n    }\n    setOverlayModel(model) {\n        this.options.overlayModel = model;\n    }\n    dispose() {\n        this.removeDropTarget();\n        super.dispose();\n    }\n    /**\n     * Add a property to the event object for other potential listeners to check\n     */\n    markAsUsed(event) {\n        event[Droptarget.USED_EVENT_ID] = true;\n    }\n    /**\n     * Check is the event has already been used by another instance of DropTarget\n     */\n    isAlreadyUsed(event) {\n        const value = event[Droptarget.USED_EVENT_ID];\n        return typeof value === 'boolean' && value;\n    }\n    toggleClasses(quadrant, width, height) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const target = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);\n        if (!target && !this.overlayElement) {\n            return;\n        }\n        const isSmallX = width < SMALL_WIDTH_BOUNDARY;\n        const isSmallY = height < SMALL_HEIGHT_BOUNDARY;\n        const isLeft = quadrant === 'left';\n        const isRight = quadrant === 'right';\n        const isTop = quadrant === 'top';\n        const isBottom = quadrant === 'bottom';\n        const rightClass = !isSmallX && isRight;\n        const leftClass = !isSmallX && isLeft;\n        const topClass = !isSmallY && isTop;\n        const bottomClass = !isSmallY && isBottom;\n        let size = 1;\n        const sizeOptions = (_d = (_c = this.options.overlayModel) === null || _c === void 0 ? void 0 : _c.size) !== null && _d !== void 0 ? _d : DEFAULT_SIZE;\n        if (sizeOptions.type === 'percentage') {\n            size = clamp(sizeOptions.value, 0, 100) / 100;\n        }\n        else {\n            if (rightClass || leftClass) {\n                size = clamp(0, sizeOptions.value, width) / width;\n            }\n            if (topClass || bottomClass) {\n                size = clamp(0, sizeOptions.value, height) / height;\n            }\n        }\n        if (target) {\n            const outlineEl = (_g = (_f = (_e = this.options).getOverlayOutline) === null || _f === void 0 ? void 0 : _f.call(_e)) !== null && _g !== void 0 ? _g : this.element;\n            const elBox = outlineEl.getBoundingClientRect();\n            const ta = target.getElements(undefined, outlineEl);\n            const el = ta.root;\n            const overlay = ta.overlay;\n            const bigbox = el.getBoundingClientRect();\n            const rootTop = elBox.top - bigbox.top;\n            const rootLeft = elBox.left - bigbox.left;\n            const box = {\n                top: rootTop,\n                left: rootLeft,\n                width: width,\n                height: height,\n            };\n            if (rightClass) {\n                box.left = rootLeft + width * (1 - size);\n                box.width = width * size;\n            }\n            else if (leftClass) {\n                box.width = width * size;\n            }\n            else if (topClass) {\n                box.height = height * size;\n            }\n            else if (bottomClass) {\n                box.top = rootTop + height * (1 - size);\n                box.height = height * size;\n            }\n            if (isSmallX && isLeft) {\n                box.width = 4;\n            }\n            if (isSmallX && isRight) {\n                box.left = rootLeft + width - 4;\n                box.width = 4;\n            }\n            // Use GPU-optimized bounds checking and setting\n            if (!checkBoundsChanged(overlay, box)) {\n                return;\n            }\n            setGPUOptimizedBounds(overlay, box);\n            overlay.className = `dv-drop-target-anchor${this.options.className ? ` ${this.options.className}` : ''}`;\n            toggleClass(overlay, 'dv-drop-target-left', isLeft);\n            toggleClass(overlay, 'dv-drop-target-right', isRight);\n            toggleClass(overlay, 'dv-drop-target-top', isTop);\n            toggleClass(overlay, 'dv-drop-target-bottom', isBottom);\n            toggleClass(overlay, 'dv-drop-target-center', quadrant === 'center');\n            if (ta.changed) {\n                toggleClass(overlay, 'dv-drop-target-anchor-container-changed', true);\n                setTimeout(() => {\n                    toggleClass(overlay, 'dv-drop-target-anchor-container-changed', false);\n                }, 10);\n            }\n            return;\n        }\n        if (!this.overlayElement) {\n            return;\n        }\n        const box = { top: '0px', left: '0px', width: '100%', height: '100%' };\n        /**\n         * You can also achieve the overlay placement using the transform CSS property\n         * to translate and scale the element however this has the undesired effect of\n         * 'skewing' the element. Comment left here for anybody that ever revisits this.\n         *\n         * @see https://developer.mozilla.org/en-US/docs/Web/CSS/transform\n         *\n         * right\n         * translateX(${100 * (1 - size) / 2}%) scaleX(${scale})\n         *\n         * left\n         * translateX(-${100 * (1 - size) / 2}%) scaleX(${scale})\n         *\n         * top\n         * translateY(-${100 * (1 - size) / 2}%) scaleY(${scale})\n         *\n         * bottom\n         * translateY(${100 * (1 - size) / 2}%) scaleY(${scale})\n         */\n        if (rightClass) {\n            box.left = `${100 * (1 - size)}%`;\n            box.width = `${100 * size}%`;\n        }\n        else if (leftClass) {\n            box.width = `${100 * size}%`;\n        }\n        else if (topClass) {\n            box.height = `${100 * size}%`;\n        }\n        else if (bottomClass) {\n            box.top = `${100 * (1 - size)}%`;\n            box.height = `${100 * size}%`;\n        }\n        setGPUOptimizedBoundsFromStrings(this.overlayElement, box);\n        toggleClass(this.overlayElement, 'dv-drop-target-small-vertical', isSmallY);\n        toggleClass(this.overlayElement, 'dv-drop-target-small-horizontal', isSmallX);\n        toggleClass(this.overlayElement, 'dv-drop-target-left', isLeft);\n        toggleClass(this.overlayElement, 'dv-drop-target-right', isRight);\n        toggleClass(this.overlayElement, 'dv-drop-target-top', isTop);\n        toggleClass(this.overlayElement, 'dv-drop-target-bottom', isBottom);\n        toggleClass(this.overlayElement, 'dv-drop-target-center', quadrant === 'center');\n    }\n    calculateQuadrant(overlayType, x, y, width, height) {\n        var _a, _b;\n        const activationSizeOptions = (_b = (_a = this.options.overlayModel) === null || _a === void 0 ? void 0 : _a.activationSize) !== null && _b !== void 0 ? _b : DEFAULT_ACTIVATION_SIZE;\n        const isPercentage = activationSizeOptions.type === 'percentage';\n        if (isPercentage) {\n            return calculateQuadrantAsPercentage(overlayType, x, y, width, height, activationSizeOptions.value);\n        }\n        return calculateQuadrantAsPixels(overlayType, x, y, width, height, activationSizeOptions.value);\n    }\n    removeDropTarget() {\n        var _a;\n        if (this.targetElement) {\n            this._state = undefined;\n            (_a = this.targetElement.parentElement) === null || _a === void 0 ? void 0 : _a.classList.remove('dv-drop-target');\n            this.targetElement.remove();\n            this.targetElement = undefined;\n            this.overlayElement = undefined;\n        }\n    }\n}\nDroptarget.USED_EVENT_ID = '__dockview_droptarget_event_is_used__';\nfunction calculateQuadrantAsPercentage(overlayType, x, y, width, height, threshold) {\n    const xp = (100 * x) / width;\n    const yp = (100 * y) / height;\n    if (overlayType.has('left') && xp < threshold) {\n        return 'left';\n    }\n    if (overlayType.has('right') && xp > 100 - threshold) {\n        return 'right';\n    }\n    if (overlayType.has('top') && yp < threshold) {\n        return 'top';\n    }\n    if (overlayType.has('bottom') && yp > 100 - threshold) {\n        return 'bottom';\n    }\n    if (!overlayType.has('center')) {\n        return null;\n    }\n    return 'center';\n}\nfunction calculateQuadrantAsPixels(overlayType, x, y, width, height, threshold) {\n    if (overlayType.has('left') && x < threshold) {\n        return 'left';\n    }\n    if (overlayType.has('right') && x > width - threshold) {\n        return 'right';\n    }\n    if (overlayType.has('top') && y < threshold) {\n        return 'top';\n    }\n    if (overlayType.has('bottom') && y > height - threshold) {\n        return 'bottom';\n    }\n    if (!overlayType.has('center')) {\n        return null;\n    }\n    return 'center';\n}\n\nconst PROPERTY_KEYS_PANEVIEW = (() => {\n    /**\n     * by readong the keys from an empty value object TypeScript will error\n     * when we add or remove new properties to `DockviewOptions`\n     */\n    const properties = {\n        disableAutoResizing: undefined,\n        disableDnd: undefined,\n        className: undefined,\n    };\n    return Object.keys(properties);\n})();\nclass PaneviewUnhandledDragOverEvent extends AcceptableEvent {\n    constructor(nativeEvent, position, getData, panel) {\n        super();\n        this.nativeEvent = nativeEvent;\n        this.position = position;\n        this.getData = getData;\n        this.panel = panel;\n    }\n}\n\nclass WillFocusEvent extends DockviewEvent {\n    constructor() {\n        super();\n    }\n}\n/**\n * A core api implementation that should be used across all panel-like objects\n */\nclass PanelApiImpl extends CompositeDisposable {\n    get isFocused() {\n        return this._isFocused;\n    }\n    get isActive() {\n        return this._isActive;\n    }\n    get isVisible() {\n        return this._isVisible;\n    }\n    get width() {\n        return this._width;\n    }\n    get height() {\n        return this._height;\n    }\n    constructor(id, component) {\n        super();\n        this.id = id;\n        this.component = component;\n        this._isFocused = false;\n        this._isActive = false;\n        this._isVisible = true;\n        this._width = 0;\n        this._height = 0;\n        this._parameters = {};\n        this.panelUpdatesDisposable = new MutableDisposable();\n        this._onDidDimensionChange = new Emitter();\n        this.onDidDimensionsChange = this._onDidDimensionChange.event;\n        this._onDidChangeFocus = new Emitter();\n        this.onDidFocusChange = this._onDidChangeFocus.event;\n        //\n        this._onWillFocus = new Emitter();\n        this.onWillFocus = this._onWillFocus.event;\n        //\n        this._onDidVisibilityChange = new Emitter();\n        this.onDidVisibilityChange = this._onDidVisibilityChange.event;\n        this._onWillVisibilityChange = new Emitter();\n        this.onWillVisibilityChange = this._onWillVisibilityChange.event;\n        this._onDidActiveChange = new Emitter();\n        this.onDidActiveChange = this._onDidActiveChange.event;\n        this._onActiveChange = new Emitter();\n        this.onActiveChange = this._onActiveChange.event;\n        this._onDidParametersChange = new Emitter();\n        this.onDidParametersChange = this._onDidParametersChange.event;\n        this.addDisposables(this.onDidFocusChange((event) => {\n            this._isFocused = event.isFocused;\n        }), this.onDidActiveChange((event) => {\n            this._isActive = event.isActive;\n        }), this.onDidVisibilityChange((event) => {\n            this._isVisible = event.isVisible;\n        }), this.onDidDimensionsChange((event) => {\n            this._width = event.width;\n            this._height = event.height;\n        }), this.panelUpdatesDisposable, this._onDidDimensionChange, this._onDidChangeFocus, this._onDidVisibilityChange, this._onDidActiveChange, this._onWillFocus, this._onActiveChange, this._onWillFocus, this._onWillVisibilityChange, this._onDidParametersChange);\n    }\n    getParameters() {\n        return this._parameters;\n    }\n    initialize(panel) {\n        this.panelUpdatesDisposable.value = this._onDidParametersChange.event((parameters) => {\n            this._parameters = parameters;\n            panel.update({\n                params: parameters,\n            });\n        });\n    }\n    setVisible(isVisible) {\n        this._onWillVisibilityChange.fire({ isVisible });\n    }\n    setActive() {\n        this._onActiveChange.fire();\n    }\n    updateParameters(parameters) {\n        this._onDidParametersChange.fire(parameters);\n    }\n}\n\nclass SplitviewPanelApiImpl extends PanelApiImpl {\n    //\n    constructor(id, component) {\n        super(id, component);\n        this._onDidConstraintsChangeInternal = new Emitter();\n        this.onDidConstraintsChangeInternal = this._onDidConstraintsChangeInternal.event;\n        //\n        this._onDidConstraintsChange = new Emitter({\n            replay: true,\n        });\n        this.onDidConstraintsChange = this._onDidConstraintsChange.event;\n        //\n        this._onDidSizeChange = new Emitter();\n        this.onDidSizeChange = this._onDidSizeChange.event;\n        this.addDisposables(this._onDidConstraintsChangeInternal, this._onDidConstraintsChange, this._onDidSizeChange);\n    }\n    setConstraints(value) {\n        this._onDidConstraintsChangeInternal.fire(value);\n    }\n    setSize(event) {\n        this._onDidSizeChange.fire(event);\n    }\n}\n\nclass PaneviewPanelApiImpl extends SplitviewPanelApiImpl {\n    set pane(pane) {\n        this._pane = pane;\n    }\n    constructor(id, component) {\n        super(id, component);\n        this._onDidExpansionChange = new Emitter({\n            replay: true,\n        });\n        this.onDidExpansionChange = this._onDidExpansionChange.event;\n        this._onMouseEnter = new Emitter({});\n        this.onMouseEnter = this._onMouseEnter.event;\n        this._onMouseLeave = new Emitter({});\n        this.onMouseLeave = this._onMouseLeave.event;\n        this.addDisposables(this._onDidExpansionChange, this._onMouseEnter, this._onMouseLeave);\n    }\n    setExpanded(isExpanded) {\n        var _a;\n        (_a = this._pane) === null || _a === void 0 ? void 0 : _a.setExpanded(isExpanded);\n    }\n    get isExpanded() {\n        var _a;\n        return !!((_a = this._pane) === null || _a === void 0 ? void 0 : _a.isExpanded());\n    }\n}\n\nclass BasePanelView extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    get width() {\n        return this._width;\n    }\n    get height() {\n        return this._height;\n    }\n    get params() {\n        var _a;\n        return (_a = this._params) === null || _a === void 0 ? void 0 : _a.params;\n    }\n    constructor(id, component, api) {\n        super();\n        this.id = id;\n        this.component = component;\n        this.api = api;\n        this._height = 0;\n        this._width = 0;\n        this._element = document.createElement('div');\n        this._element.tabIndex = -1;\n        this._element.style.outline = 'none';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n        this._element.style.overflow = 'hidden';\n        const focusTracker = trackFocus(this._element);\n        this.addDisposables(this.api, focusTracker.onDidFocus(() => {\n            this.api._onDidChangeFocus.fire({ isFocused: true });\n        }), focusTracker.onDidBlur(() => {\n            this.api._onDidChangeFocus.fire({ isFocused: false });\n        }), focusTracker);\n    }\n    focus() {\n        const event = new WillFocusEvent();\n        this.api._onWillFocus.fire(event);\n        if (event.defaultPrevented) {\n            return;\n        }\n        this._element.focus();\n    }\n    layout(width, height) {\n        this._width = width;\n        this._height = height;\n        this.api._onDidDimensionChange.fire({ width, height });\n        if (this.part) {\n            if (this._params) {\n                this.part.update(this._params.params);\n            }\n        }\n    }\n    init(parameters) {\n        this._params = parameters;\n        this.part = this.getComponent();\n    }\n    update(event) {\n        var _a, _b;\n        // merge the new parameters with the existing parameters\n        this._params = Object.assign(Object.assign({}, this._params), { params: Object.assign(Object.assign({}, (_a = this._params) === null || _a === void 0 ? void 0 : _a.params), event.params) });\n        /**\n         * delete new keys that have a value of undefined,\n         * allow values of null\n         */\n        for (const key of Object.keys(event.params)) {\n            if (event.params[key] === undefined) {\n                delete this._params.params[key];\n            }\n        }\n        // update the view with the updated props\n        (_b = this.part) === null || _b === void 0 ? void 0 : _b.update({ params: this._params.params });\n    }\n    toJSON() {\n        var _a, _b;\n        const params = (_b = (_a = this._params) === null || _a === void 0 ? void 0 : _a.params) !== null && _b !== void 0 ? _b : {};\n        return {\n            id: this.id,\n            component: this.component,\n            params: Object.keys(params).length > 0 ? params : undefined,\n        };\n    }\n    dispose() {\n        var _a;\n        this.api.dispose();\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();\n        super.dispose();\n    }\n}\n\nclass PaneviewPanel extends BasePanelView {\n    set orientation(value) {\n        this._orientation = value;\n    }\n    get orientation() {\n        return this._orientation;\n    }\n    get minimumSize() {\n        const headerSize = this.headerSize;\n        const expanded = this.isExpanded();\n        const minimumBodySize = expanded ? this._minimumBodySize : 0;\n        return headerSize + minimumBodySize;\n    }\n    get maximumSize() {\n        const headerSize = this.headerSize;\n        const expanded = this.isExpanded();\n        const maximumBodySize = expanded ? this._maximumBodySize : 0;\n        return headerSize + maximumBodySize;\n    }\n    get size() {\n        return this._size;\n    }\n    get orthogonalSize() {\n        return this._orthogonalSize;\n    }\n    set orthogonalSize(size) {\n        this._orthogonalSize = size;\n    }\n    get minimumBodySize() {\n        return this._minimumBodySize;\n    }\n    set minimumBodySize(value) {\n        this._minimumBodySize = typeof value === 'number' ? value : 0;\n    }\n    get maximumBodySize() {\n        return this._maximumBodySize;\n    }\n    set maximumBodySize(value) {\n        this._maximumBodySize =\n            typeof value === 'number' ? value : Number.POSITIVE_INFINITY;\n    }\n    get headerVisible() {\n        return this._headerVisible;\n    }\n    set headerVisible(value) {\n        this._headerVisible = value;\n        this.header.style.display = value ? '' : 'none';\n    }\n    constructor(options) {\n        super(options.id, options.component, new PaneviewPanelApiImpl(options.id, options.component));\n        this._onDidChangeExpansionState = new Emitter({ replay: true });\n        this.onDidChangeExpansionState = this._onDidChangeExpansionState.event;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._orthogonalSize = 0;\n        this._size = 0;\n        this._isExpanded = false;\n        this.api.pane = this; // TODO cannot use 'this' before 'super'\n        this.api.initialize(this);\n        this.headerSize = options.headerSize;\n        this.headerComponent = options.headerComponent;\n        this._minimumBodySize = options.minimumBodySize;\n        this._maximumBodySize = options.maximumBodySize;\n        this._isExpanded = options.isExpanded;\n        this._headerVisible = options.isHeaderVisible;\n        this._onDidChangeExpansionState.fire(this.isExpanded()); // initialize value\n        this._orientation = options.orientation;\n        this.element.classList.add('dv-pane');\n        this.addDisposables(this.api.onWillVisibilityChange((event) => {\n            const { isVisible } = event;\n            const { accessor } = this._params;\n            accessor.setVisible(this, isVisible);\n        }), this.api.onDidSizeChange((event) => {\n            this._onDidChange.fire({ size: event.size });\n        }), addDisposableListener(this.element, 'mouseenter', (ev) => {\n            this.api._onMouseEnter.fire(ev);\n        }), addDisposableListener(this.element, 'mouseleave', (ev) => {\n            this.api._onMouseLeave.fire(ev);\n        }));\n        this.addDisposables(this._onDidChangeExpansionState, this.onDidChangeExpansionState((isPanelExpanded) => {\n            this.api._onDidExpansionChange.fire({\n                isExpanded: isPanelExpanded,\n            });\n        }), this.api.onDidFocusChange((e) => {\n            if (!this.header) {\n                return;\n            }\n            if (e.isFocused) {\n                addClasses(this.header, 'focused');\n            }\n            else {\n                removeClasses(this.header, 'focused');\n            }\n        }));\n        this.renderOnce();\n    }\n    setVisible(isVisible) {\n        this.api._onDidVisibilityChange.fire({ isVisible });\n    }\n    setActive(isActive) {\n        this.api._onDidActiveChange.fire({ isActive });\n    }\n    isExpanded() {\n        return this._isExpanded;\n    }\n    setExpanded(expanded) {\n        if (this._isExpanded === expanded) {\n            return;\n        }\n        this._isExpanded = expanded;\n        if (expanded) {\n            if (this.animationTimer) {\n                clearTimeout(this.animationTimer);\n            }\n            if (this.body) {\n                this.element.appendChild(this.body);\n            }\n        }\n        else {\n            this.animationTimer = setTimeout(() => {\n                var _a;\n                (_a = this.body) === null || _a === void 0 ? void 0 : _a.remove();\n            }, 200);\n        }\n        this._onDidChange.fire(expanded ? { size: this.width } : {});\n        this._onDidChangeExpansionState.fire(expanded);\n    }\n    layout(size, orthogonalSize) {\n        this._size = size;\n        this._orthogonalSize = orthogonalSize;\n        const [width, height] = this.orientation === Orientation.HORIZONTAL\n            ? [size, orthogonalSize]\n            : [orthogonalSize, size];\n        super.layout(width, height);\n    }\n    init(parameters) {\n        var _a, _b;\n        super.init(parameters);\n        if (typeof parameters.minimumBodySize === 'number') {\n            this.minimumBodySize = parameters.minimumBodySize;\n        }\n        if (typeof parameters.maximumBodySize === 'number') {\n            this.maximumBodySize = parameters.maximumBodySize;\n        }\n        this.bodyPart = this.getBodyComponent();\n        this.headerPart = this.getHeaderComponent();\n        this.bodyPart.init(Object.assign(Object.assign({}, parameters), { api: this.api }));\n        this.headerPart.init(Object.assign(Object.assign({}, parameters), { api: this.api }));\n        (_a = this.body) === null || _a === void 0 ? void 0 : _a.append(this.bodyPart.element);\n        (_b = this.header) === null || _b === void 0 ? void 0 : _b.append(this.headerPart.element);\n        if (typeof parameters.isExpanded === 'boolean') {\n            this.setExpanded(parameters.isExpanded);\n        }\n    }\n    toJSON() {\n        const params = this._params;\n        return Object.assign(Object.assign({}, super.toJSON()), { headerComponent: this.headerComponent, title: params.title });\n    }\n    renderOnce() {\n        this.header = document.createElement('div');\n        this.header.tabIndex = 0;\n        this.header.className = 'dv-pane-header';\n        this.header.style.height = `${this.headerSize}px`;\n        this.header.style.lineHeight = `${this.headerSize}px`;\n        this.header.style.minHeight = `${this.headerSize}px`;\n        this.header.style.maxHeight = `${this.headerSize}px`;\n        this.element.appendChild(this.header);\n        this.body = document.createElement('div');\n        this.body.className = 'dv-pane-body';\n        this.element.appendChild(this.body);\n    }\n    // TODO slightly hacky by-pass of the component to create a body and header component\n    getComponent() {\n        return {\n            update: (params) => {\n                var _a, _b;\n                (_a = this.bodyPart) === null || _a === void 0 ? void 0 : _a.update({ params });\n                (_b = this.headerPart) === null || _b === void 0 ? void 0 : _b.update({ params });\n            },\n            dispose: () => {\n                var _a, _b;\n                (_a = this.bodyPart) === null || _a === void 0 ? void 0 : _a.dispose();\n                (_b = this.headerPart) === null || _b === void 0 ? void 0 : _b.dispose();\n            },\n        };\n    }\n}\n\nclass DraggablePaneviewPanel extends PaneviewPanel {\n    constructor(options) {\n        super({\n            id: options.id,\n            component: options.component,\n            headerComponent: options.headerComponent,\n            orientation: options.orientation,\n            isExpanded: options.isExpanded,\n            isHeaderVisible: true,\n            headerSize: options.headerSize,\n            minimumBodySize: options.minimumBodySize,\n            maximumBodySize: options.maximumBodySize,\n        });\n        this._onDidDrop = new Emitter();\n        this.onDidDrop = this._onDidDrop.event;\n        this._onUnhandledDragOverEvent = new Emitter();\n        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;\n        this.accessor = options.accessor;\n        this.addDisposables(this._onDidDrop, this._onUnhandledDragOverEvent);\n        if (!options.disableDnd) {\n            this.initDragFeatures();\n        }\n    }\n    initDragFeatures() {\n        if (!this.header) {\n            return;\n        }\n        const id = this.id;\n        const accessorId = this.accessor.id;\n        this.header.draggable = true;\n        this.handler = new (class PaneDragHandler extends DragHandler {\n            getData() {\n                LocalSelectionTransfer.getInstance().setData([new PaneTransfer(accessorId, id)], PaneTransfer.prototype);\n                return {\n                    dispose: () => {\n                        LocalSelectionTransfer.getInstance().clearData(PaneTransfer.prototype);\n                    },\n                };\n            }\n        })(this.header);\n        this.target = new Droptarget(this.element, {\n            acceptedTargetZones: ['top', 'bottom'],\n            overlayModel: {\n                activationSize: { type: 'percentage', value: 50 },\n            },\n            canDisplayOverlay: (event, position) => {\n                const data = getPaneData();\n                if (data) {\n                    if (data.paneId !== this.id &&\n                        data.viewId === this.accessor.id) {\n                        return true;\n                    }\n                }\n                const firedEvent = new PaneviewUnhandledDragOverEvent(event, position, getPaneData, this);\n                this._onUnhandledDragOverEvent.fire(firedEvent);\n                return firedEvent.isAccepted;\n            },\n        });\n        this.addDisposables(this._onDidDrop, this.handler, this.target, this.target.onDrop((event) => {\n            this.onDrop(event);\n        }));\n    }\n    onDrop(event) {\n        const data = getPaneData();\n        if (!data || data.viewId !== this.accessor.id) {\n            // if there is no local drag event for this panel\n            // or if the drag event was creating by another Paneview instance\n            this._onDidDrop.fire(Object.assign(Object.assign({}, event), { panel: this, api: new PaneviewApi(this.accessor), getData: getPaneData }));\n            return;\n        }\n        const containerApi = this._params\n            .containerApi;\n        const panelId = data.paneId;\n        const existingPanel = containerApi.getPanel(panelId);\n        if (!existingPanel) {\n            // if the panel doesn't exist\n            this._onDidDrop.fire(Object.assign(Object.assign({}, event), { panel: this, getData: getPaneData, api: new PaneviewApi(this.accessor) }));\n            return;\n        }\n        const allPanels = containerApi.panels;\n        const fromIndex = allPanels.indexOf(existingPanel);\n        let toIndex = containerApi.panels.indexOf(this);\n        if (event.position === 'left' || event.position === 'top') {\n            toIndex = Math.max(0, toIndex - 1);\n        }\n        if (event.position === 'right' || event.position === 'bottom') {\n            if (fromIndex > toIndex) {\n                toIndex++;\n            }\n            toIndex = Math.min(allPanels.length - 1, toIndex);\n        }\n        containerApi.movePanel(fromIndex, toIndex);\n    }\n}\n\nclass ContentContainer extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor(accessor, group) {\n        super();\n        this.accessor = accessor;\n        this.group = group;\n        this.disposable = new MutableDisposable();\n        this._onDidFocus = new Emitter();\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = new Emitter();\n        this.onDidBlur = this._onDidBlur.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-content-container';\n        this._element.tabIndex = -1;\n        this.addDisposables(this._onDidFocus, this._onDidBlur);\n        const target = group.dropTargetContainer;\n        this.dropTarget = new Droptarget(this.element, {\n            getOverlayOutline: () => {\n                var _a;\n                return ((_a = accessor.options.theme) === null || _a === void 0 ? void 0 : _a.dndPanelOverlay) === 'group'\n                    ? this.element.parentElement\n                    : null;\n            },\n            className: 'dv-drop-target-content',\n            acceptedTargetZones: ['top', 'bottom', 'left', 'right', 'center'],\n            canDisplayOverlay: (event, position) => {\n                if (this.group.locked === 'no-drop-target' ||\n                    (this.group.locked && position === 'center')) {\n                    return false;\n                }\n                const data = getPanelData();\n                if (!data &&\n                    event.shiftKey &&\n                    this.group.location.type !== 'floating') {\n                    return false;\n                }\n                if (data && data.viewId === this.accessor.id) {\n                    return true;\n                }\n                return this.group.canDisplayOverlay(event, position, 'content');\n            },\n            getOverrideTarget: target ? () => target.model : undefined,\n        });\n        this.addDisposables(this.dropTarget);\n    }\n    show() {\n        this.element.style.display = '';\n    }\n    hide() {\n        this.element.style.display = 'none';\n    }\n    renderPanel(panel, options = { asActive: true }) {\n        const doRender = options.asActive ||\n            (this.panel && this.group.isPanelActive(this.panel));\n        if (this.panel &&\n            this.panel.view.content.element.parentElement === this._element) {\n            /**\n             * If the currently attached panel is mounted directly to the content then remove it\n             */\n            this._element.removeChild(this.panel.view.content.element);\n        }\n        this.panel = panel;\n        let container;\n        switch (panel.api.renderer) {\n            case 'onlyWhenVisible':\n                this.group.renderContainer.detatch(panel);\n                if (this.panel) {\n                    if (doRender) {\n                        this._element.appendChild(this.panel.view.content.element);\n                    }\n                }\n                container = this._element;\n                break;\n            case 'always':\n                if (panel.view.content.element.parentElement === this._element) {\n                    this._element.removeChild(panel.view.content.element);\n                }\n                container = this.group.renderContainer.attach({\n                    panel,\n                    referenceContainer: this,\n                });\n                break;\n            default:\n                throw new Error(`dockview: invalid renderer type '${panel.api.renderer}'`);\n        }\n        if (doRender) {\n            const focusTracker = trackFocus(container);\n            this.focusTracker = focusTracker;\n            const disposable = new CompositeDisposable();\n            disposable.addDisposables(focusTracker, focusTracker.onDidFocus(() => this._onDidFocus.fire()), focusTracker.onDidBlur(() => this._onDidBlur.fire()));\n            this.disposable.value = disposable;\n        }\n    }\n    openPanel(panel) {\n        if (this.panel === panel) {\n            return;\n        }\n        this.renderPanel(panel);\n    }\n    layout(_width, _height) {\n        // noop\n    }\n    closePanel() {\n        var _a;\n        if (this.panel) {\n            if (this.panel.api.renderer === 'onlyWhenVisible') {\n                (_a = this.panel.view.content.element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.panel.view.content.element);\n            }\n        }\n        this.panel = undefined;\n    }\n    dispose() {\n        this.disposable.dispose();\n        super.dispose();\n    }\n    /**\n     * Refresh the focus tracker state to handle cases where focus state\n     * gets out of sync due to programmatic panel activation\n     */\n    refreshFocusState() {\n        var _a;\n        if ((_a = this.focusTracker) === null || _a === void 0 ? void 0 : _a.refreshState) {\n            this.focusTracker.refreshState();\n        }\n    }\n}\n\nfunction addGhostImage(dataTransfer, ghostElement, options) {\n    var _a, _b;\n    // class dockview provides to force ghost image to be drawn on a different layer and prevent weird rendering issues\n    addClasses(ghostElement, 'dv-dragged');\n    // move the element off-screen initially otherwise it may in some cases be rendered at (0,0) momentarily\n    ghostElement.style.top = '-9999px';\n    document.body.appendChild(ghostElement);\n    dataTransfer.setDragImage(ghostElement, (_a = options === null || options === void 0 ? void 0 : options.x) !== null && _a !== void 0 ? _a : 0, (_b = options === null || options === void 0 ? void 0 : options.y) !== null && _b !== void 0 ? _b : 0);\n    setTimeout(() => {\n        removeClasses(ghostElement, 'dv-dragged');\n        ghostElement.remove();\n    }, 0);\n}\n\nclass TabDragHandler extends DragHandler {\n    constructor(element, accessor, group, panel, disabled) {\n        super(element, disabled);\n        this.accessor = accessor;\n        this.group = group;\n        this.panel = panel;\n        this.panelTransfer = LocalSelectionTransfer.getInstance();\n    }\n    getData(event) {\n        this.panelTransfer.setData([new PanelTransfer(this.accessor.id, this.group.id, this.panel.id)], PanelTransfer.prototype);\n        return {\n            dispose: () => {\n                this.panelTransfer.clearData(PanelTransfer.prototype);\n            },\n        };\n    }\n}\nclass Tab extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor(panel, accessor, group) {\n        super();\n        this.panel = panel;\n        this.accessor = accessor;\n        this.group = group;\n        this.content = undefined;\n        this._onPointDown = new Emitter();\n        this.onPointerDown = this._onPointDown.event;\n        this._onDropped = new Emitter();\n        this.onDrop = this._onDropped.event;\n        this._onDragStart = new Emitter();\n        this.onDragStart = this._onDragStart.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-tab';\n        this._element.tabIndex = 0;\n        this._element.draggable = !this.accessor.options.disableDnd;\n        toggleClass(this.element, 'dv-inactive-tab', true);\n        this.dragHandler = new TabDragHandler(this._element, this.accessor, this.group, this.panel, !!this.accessor.options.disableDnd);\n        this.dropTarget = new Droptarget(this._element, {\n            acceptedTargetZones: ['left', 'right'],\n            overlayModel: { activationSize: { value: 50, type: 'percentage' } },\n            canDisplayOverlay: (event, position) => {\n                if (this.group.locked) {\n                    return false;\n                }\n                const data = getPanelData();\n                if (data && this.accessor.id === data.viewId) {\n                    return true;\n                }\n                return this.group.model.canDisplayOverlay(event, position, 'tab');\n            },\n            getOverrideTarget: () => { var _a; return (_a = group.model.dropTargetContainer) === null || _a === void 0 ? void 0 : _a.model; },\n        });\n        this.onWillShowOverlay = this.dropTarget.onWillShowOverlay;\n        this.addDisposables(this._onPointDown, this._onDropped, this._onDragStart, this.dragHandler.onDragStart((event) => {\n            if (event.dataTransfer) {\n                const style = getComputedStyle(this.element);\n                const newNode = this.element.cloneNode(true);\n                Array.from(style).forEach((key) => newNode.style.setProperty(key, style.getPropertyValue(key), style.getPropertyPriority(key)));\n                newNode.style.position = 'absolute';\n                addGhostImage(event.dataTransfer, newNode, {\n                    y: -10,\n                    x: 30,\n                });\n            }\n            this._onDragStart.fire(event);\n        }), this.dragHandler, addDisposableListener(this._element, 'pointerdown', (event) => {\n            this._onPointDown.fire(event);\n        }), this.dropTarget.onDrop((event) => {\n            this._onDropped.fire(event);\n        }), this.dropTarget);\n    }\n    setActive(isActive) {\n        toggleClass(this.element, 'dv-active-tab', isActive);\n        toggleClass(this.element, 'dv-inactive-tab', !isActive);\n    }\n    setContent(part) {\n        if (this.content) {\n            this._element.removeChild(this.content.element);\n        }\n        this.content = part;\n        this._element.appendChild(this.content.element);\n    }\n    updateDragAndDropState() {\n        this._element.draggable = !this.accessor.options.disableDnd;\n        this.dragHandler.setDisabled(!!this.accessor.options.disableDnd);\n    }\n    dispose() {\n        super.dispose();\n    }\n}\n\nclass DockviewWillShowOverlayLocationEvent {\n    get kind() {\n        return this.options.kind;\n    }\n    get nativeEvent() {\n        return this.event.nativeEvent;\n    }\n    get position() {\n        return this.event.position;\n    }\n    get defaultPrevented() {\n        return this.event.defaultPrevented;\n    }\n    get panel() {\n        return this.options.panel;\n    }\n    get api() {\n        return this.options.api;\n    }\n    get group() {\n        return this.options.group;\n    }\n    preventDefault() {\n        this.event.preventDefault();\n    }\n    getData() {\n        return this.options.getData();\n    }\n    constructor(event, options) {\n        this.event = event;\n        this.options = options;\n    }\n}\n\nclass GroupDragHandler extends DragHandler {\n    constructor(element, accessor, group, disabled) {\n        super(element, disabled);\n        this.accessor = accessor;\n        this.group = group;\n        this.panelTransfer = LocalSelectionTransfer.getInstance();\n        this.addDisposables(addDisposableListener(element, 'pointerdown', (e) => {\n            if (e.shiftKey) {\n                /**\n                 * You cannot call e.preventDefault() because that will prevent drag events from firing\n                 * but we also need to stop any group overlay drag events from occuring\n                 * Use a custom event marker that can be checked by the overlay drag events\n                 */\n                quasiPreventDefault(e);\n            }\n        }, true));\n    }\n    isCancelled(_event) {\n        if (this.group.api.location.type === 'floating' && !_event.shiftKey) {\n            return true;\n        }\n        return false;\n    }\n    getData(dragEvent) {\n        const dataTransfer = dragEvent.dataTransfer;\n        this.panelTransfer.setData([new PanelTransfer(this.accessor.id, this.group.id, null)], PanelTransfer.prototype);\n        const style = window.getComputedStyle(this.el);\n        const bgColor = style.getPropertyValue('--dv-activegroup-visiblepanel-tab-background-color');\n        const color = style.getPropertyValue('--dv-activegroup-visiblepanel-tab-color');\n        if (dataTransfer) {\n            const ghostElement = document.createElement('div');\n            ghostElement.style.backgroundColor = bgColor;\n            ghostElement.style.color = color;\n            ghostElement.style.padding = '2px 8px';\n            ghostElement.style.height = '24px';\n            ghostElement.style.fontSize = '11px';\n            ghostElement.style.lineHeight = '20px';\n            ghostElement.style.borderRadius = '12px';\n            ghostElement.style.position = 'absolute';\n            ghostElement.style.pointerEvents = 'none';\n            ghostElement.style.top = '-9999px';\n            ghostElement.textContent = `Multiple Panels (${this.group.size})`;\n            addGhostImage(dataTransfer, ghostElement, { y: -10, x: 30 });\n        }\n        return {\n            dispose: () => {\n                this.panelTransfer.clearData(PanelTransfer.prototype);\n            },\n        };\n    }\n}\n\nclass VoidContainer extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor(accessor, group) {\n        super();\n        this.accessor = accessor;\n        this.group = group;\n        this._onDrop = new Emitter();\n        this.onDrop = this._onDrop.event;\n        this._onDragStart = new Emitter();\n        this.onDragStart = this._onDragStart.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-void-container';\n        this._element.draggable = !this.accessor.options.disableDnd;\n        toggleClass(this._element, 'dv-draggable', !this.accessor.options.disableDnd);\n        this.addDisposables(this._onDrop, this._onDragStart, addDisposableListener(this._element, 'pointerdown', () => {\n            this.accessor.doSetGroupActive(this.group);\n        }));\n        this.handler = new GroupDragHandler(this._element, accessor, group, !!this.accessor.options.disableDnd);\n        this.dropTarget = new Droptarget(this._element, {\n            acceptedTargetZones: ['center'],\n            canDisplayOverlay: (event, position) => {\n                const data = getPanelData();\n                if (data && this.accessor.id === data.viewId) {\n                    return true;\n                }\n                return group.model.canDisplayOverlay(event, position, 'header_space');\n            },\n            getOverrideTarget: () => { var _a; return (_a = group.model.dropTargetContainer) === null || _a === void 0 ? void 0 : _a.model; },\n        });\n        this.onWillShowOverlay = this.dropTarget.onWillShowOverlay;\n        this.addDisposables(this.handler, this.handler.onDragStart((event) => {\n            this._onDragStart.fire(event);\n        }), this.dropTarget.onDrop((event) => {\n            this._onDrop.fire(event);\n        }), this.dropTarget);\n    }\n    updateDragAndDropState() {\n        this._element.draggable = !this.accessor.options.disableDnd;\n        toggleClass(this._element, 'dv-draggable', !this.accessor.options.disableDnd);\n        this.handler.setDisabled(!!this.accessor.options.disableDnd);\n    }\n}\n\nclass Scrollbar extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    get orientation() {\n        return this._orientation;\n    }\n    set orientation(value) {\n        if (this._orientation === value) {\n            return;\n        }\n        this._scrollOffset = 0;\n        this._orientation = value;\n        removeClasses(this._scrollbar, 'dv-scrollbar-vertical', 'dv-scrollbar-horizontal');\n        if (value === 'vertical') {\n            addClasses(this._scrollbar, 'dv-scrollbar-vertical');\n        }\n        else {\n            addClasses(this._scrollbar, 'dv-scrollbar-horizontal');\n        }\n    }\n    constructor(scrollableElement) {\n        super();\n        this.scrollableElement = scrollableElement;\n        this._scrollOffset = 0;\n        this._orientation = 'horizontal';\n        this._element = document.createElement('div');\n        this._element.className = 'dv-scrollable';\n        this._scrollbar = document.createElement('div');\n        this._scrollbar.className = 'dv-scrollbar dv-scrollbar-horizontal';\n        this.element.appendChild(scrollableElement);\n        this.element.appendChild(this._scrollbar);\n        this.addDisposables(addDisposableListener(this.element, 'wheel', (event) => {\n            this._scrollOffset += event.deltaY * Scrollbar.MouseWheelSpeed;\n            this.calculateScrollbarStyles();\n        }), addDisposableListener(this._scrollbar, 'pointerdown', (event) => {\n            event.preventDefault();\n            toggleClass(this.element, 'dv-scrollable-scrolling', true);\n            const originalClient = this._orientation === 'horizontal'\n                ? event.clientX\n                : event.clientY;\n            const originalScrollOffset = this._scrollOffset;\n            const onPointerMove = (event) => {\n                const delta = this._orientation === 'horizontal'\n                    ? event.clientX - originalClient\n                    : event.clientY - originalClient;\n                const clientSize = this._orientation === 'horizontal'\n                    ? this.element.clientWidth\n                    : this.element.clientHeight;\n                const scrollSize = this._orientation === 'horizontal'\n                    ? this.scrollableElement.scrollWidth\n                    : this.scrollableElement.scrollHeight;\n                const p = clientSize / scrollSize;\n                this._scrollOffset = originalScrollOffset + delta / p;\n                this.calculateScrollbarStyles();\n            };\n            const onEnd = () => {\n                toggleClass(this.element, 'dv-scrollable-scrolling', false);\n                document.removeEventListener('pointermove', onPointerMove);\n                document.removeEventListener('pointerup', onEnd);\n                document.removeEventListener('pointercancel', onEnd);\n            };\n            document.addEventListener('pointermove', onPointerMove);\n            document.addEventListener('pointerup', onEnd);\n            document.addEventListener('pointercancel', onEnd);\n        }), addDisposableListener(this.element, 'scroll', () => {\n            this.calculateScrollbarStyles();\n        }), addDisposableListener(this.scrollableElement, 'scroll', () => {\n            this._scrollOffset =\n                this._orientation === 'horizontal'\n                    ? this.scrollableElement.scrollLeft\n                    : this.scrollableElement.scrollTop;\n            this.calculateScrollbarStyles();\n        }), watchElementResize(this.element, () => {\n            toggleClass(this.element, 'dv-scrollable-resizing', true);\n            if (this._animationTimer) {\n                clearTimeout(this._animationTimer);\n            }\n            this._animationTimer = setTimeout(() => {\n                clearTimeout(this._animationTimer);\n                toggleClass(this.element, 'dv-scrollable-resizing', false);\n            }, 500);\n            this.calculateScrollbarStyles();\n        }));\n    }\n    calculateScrollbarStyles() {\n        const clientSize = this._orientation === 'horizontal'\n            ? this.element.clientWidth\n            : this.element.clientHeight;\n        const scrollSize = this._orientation === 'horizontal'\n            ? this.scrollableElement.scrollWidth\n            : this.scrollableElement.scrollHeight;\n        const hasScrollbar = scrollSize > clientSize;\n        if (hasScrollbar) {\n            const px = clientSize * (clientSize / scrollSize);\n            if (this._orientation === 'horizontal') {\n                this._scrollbar.style.width = `${px}px`;\n                this._scrollbar.style.height = '';\n            }\n            else {\n                this._scrollbar.style.height = `${px}px`;\n                this._scrollbar.style.width = '';\n            }\n            this._scrollOffset = clamp(this._scrollOffset, 0, scrollSize - clientSize);\n            if (this._orientation === 'horizontal') {\n                this.scrollableElement.scrollLeft = this._scrollOffset;\n            }\n            else {\n                this.scrollableElement.scrollTop = this._scrollOffset;\n            }\n            const percentageComplete = this._scrollOffset / (scrollSize - clientSize);\n            if (this._orientation === 'horizontal') {\n                this._scrollbar.style.left = `${(clientSize - px) * percentageComplete}px`;\n                this._scrollbar.style.top = '';\n            }\n            else {\n                this._scrollbar.style.top = `${(clientSize - px) * percentageComplete}px`;\n                this._scrollbar.style.left = '';\n            }\n        }\n        else {\n            if (this._orientation === 'horizontal') {\n                this._scrollbar.style.width = '0px';\n                this._scrollbar.style.left = '0px';\n            }\n            else {\n                this._scrollbar.style.height = '0px';\n                this._scrollbar.style.top = '0px';\n            }\n            this._scrollOffset = 0;\n        }\n    }\n}\nScrollbar.MouseWheelSpeed = 1;\n\nclass Tabs extends CompositeDisposable {\n    get showTabsOverflowControl() {\n        return this._showTabsOverflowControl;\n    }\n    set showTabsOverflowControl(value) {\n        if (this._showTabsOverflowControl == value) {\n            return;\n        }\n        this._showTabsOverflowControl = value;\n        if (value) {\n            const observer = new OverflowObserver(this._tabsList);\n            this._observerDisposable.value = new CompositeDisposable(observer, observer.onDidChange((event) => {\n                const hasOverflow = event.hasScrollX || event.hasScrollY;\n                this.toggleDropdown({ reset: !hasOverflow });\n            }), addDisposableListener(this._tabsList, 'scroll', () => {\n                this.toggleDropdown({ reset: false });\n            }));\n        }\n    }\n    get element() {\n        return this._element;\n    }\n    get panels() {\n        return this._tabs.map((_) => _.value.panel.id);\n    }\n    get size() {\n        return this._tabs.length;\n    }\n    get tabs() {\n        return this._tabs.map((_) => _.value);\n    }\n    get direction() {\n        return this._direction;\n    }\n    set direction(value) {\n        if (this._direction === value) {\n            return;\n        }\n        this._direction = value;\n        if (this._scrollbar) {\n            this._scrollbar.orientation = value;\n        }\n        removeClasses(this._tabsList, 'dv-horizontal', 'dv-vertical');\n        if (value === 'vertical') {\n            addClasses(this._tabsList, 'dv-tabs-container-vertical', 'dv-vertical');\n        }\n        else {\n            removeClasses(this._tabsList, 'dv-tabs-container-vertical');\n            addClasses(this._tabsList, 'dv-horizontal');\n        }\n    }\n    constructor(group, accessor, options) {\n        super();\n        this.group = group;\n        this.accessor = accessor;\n        this._observerDisposable = new MutableDisposable();\n        this._scrollbar = null;\n        this._tabs = [];\n        this.selectedIndex = -1;\n        this._showTabsOverflowControl = false;\n        this._direction = 'horizontal';\n        this._onTabDragStart = new Emitter();\n        this.onTabDragStart = this._onTabDragStart.event;\n        this._onDrop = new Emitter();\n        this.onDrop = this._onDrop.event;\n        this._onWillShowOverlay = new Emitter();\n        this.onWillShowOverlay = this._onWillShowOverlay.event;\n        this._onOverflowTabsChange = new Emitter();\n        this.onOverflowTabsChange = this._onOverflowTabsChange.event;\n        this._tabsList = document.createElement('div');\n        this._tabsList.className = 'dv-tabs-container';\n        this.showTabsOverflowControl = options.showTabsOverflowControl;\n        if (accessor.options.scrollbars === 'native') {\n            this._element = this._tabsList;\n        }\n        else {\n            this._scrollbar = new Scrollbar(this._tabsList);\n            this._scrollbar.orientation = this.direction;\n            this._element = this._scrollbar.element;\n            this.addDisposables(this._scrollbar);\n        }\n        this.addDisposables(this._onOverflowTabsChange, this._observerDisposable, this._onWillShowOverlay, this._onDrop, this._onTabDragStart, addDisposableListener(this.element, 'pointerdown', (event) => {\n            if (event.defaultPrevented) {\n                return;\n            }\n            const isLeftClick = event.button === 0;\n            if (isLeftClick) {\n                this.accessor.doSetGroupActive(this.group);\n            }\n        }), Disposable.from(() => {\n            for (const { value, disposable } of this._tabs) {\n                disposable.dispose();\n                value.dispose();\n            }\n            this._tabs = [];\n        }));\n    }\n    indexOf(id) {\n        return this._tabs.findIndex((tab) => tab.value.panel.id === id);\n    }\n    isActive(tab) {\n        return (this.selectedIndex > -1 &&\n            this._tabs[this.selectedIndex].value === tab);\n    }\n    setActivePanel(panel) {\n        let runningWidth = 0;\n        for (const tab of this._tabs) {\n            const isActivePanel = panel.id === tab.value.panel.id;\n            tab.value.setActive(isActivePanel);\n            if (isActivePanel) {\n                const element = tab.value.element;\n                const parentElement = element.parentElement;\n                if (runningWidth < parentElement.scrollLeft ||\n                    runningWidth + element.clientWidth >\n                        parentElement.scrollLeft + parentElement.clientWidth) {\n                    parentElement.scrollLeft = runningWidth;\n                }\n            }\n            runningWidth += tab.value.element.clientWidth;\n        }\n    }\n    openPanel(panel, index = this._tabs.length) {\n        if (this._tabs.find((tab) => tab.value.panel.id === panel.id)) {\n            return;\n        }\n        const tab = new Tab(panel, this.accessor, this.group);\n        tab.setContent(panel.view.tab);\n        const disposable = new CompositeDisposable(tab.onDragStart((event) => {\n            this._onTabDragStart.fire({ nativeEvent: event, panel });\n        }), tab.onPointerDown((event) => {\n            if (event.defaultPrevented) {\n                return;\n            }\n            const isFloatingGroupsEnabled = !this.accessor.options.disableFloatingGroups;\n            const isFloatingWithOnePanel = this.group.api.location.type === 'floating' &&\n                this.size === 1;\n            if (isFloatingGroupsEnabled &&\n                !isFloatingWithOnePanel &&\n                event.shiftKey) {\n                event.preventDefault();\n                const panel = this.accessor.getGroupPanel(tab.panel.id);\n                const { top, left } = tab.element.getBoundingClientRect();\n                const { top: rootTop, left: rootLeft } = this.accessor.element.getBoundingClientRect();\n                this.accessor.addFloatingGroup(panel, {\n                    x: left - rootLeft,\n                    y: top - rootTop,\n                    inDragMode: true,\n                });\n                return;\n            }\n            switch (event.button) {\n                case 0: // left click or touch\n                    if (this.group.activePanel !== panel) {\n                        this.group.model.openPanel(panel);\n                    }\n                    break;\n            }\n        }), tab.onDrop((event) => {\n            this._onDrop.fire({\n                event: event.nativeEvent,\n                index: this._tabs.findIndex((x) => x.value === tab),\n            });\n        }), tab.onWillShowOverlay((event) => {\n            this._onWillShowOverlay.fire(new DockviewWillShowOverlayLocationEvent(event, {\n                kind: 'tab',\n                panel: this.group.activePanel,\n                api: this.accessor.api,\n                group: this.group,\n                getData: getPanelData,\n            }));\n        }));\n        const value = { value: tab, disposable };\n        this.addTab(value, index);\n    }\n    delete(id) {\n        const index = this.indexOf(id);\n        const tabToRemove = this._tabs.splice(index, 1)[0];\n        const { value, disposable } = tabToRemove;\n        disposable.dispose();\n        value.dispose();\n        value.element.remove();\n    }\n    addTab(tab, index = this._tabs.length) {\n        if (index < 0 || index > this._tabs.length) {\n            throw new Error('invalid location');\n        }\n        this._tabsList.insertBefore(tab.value.element, this._tabsList.children[index]);\n        this._tabs = [\n            ...this._tabs.slice(0, index),\n            tab,\n            ...this._tabs.slice(index),\n        ];\n        if (this.selectedIndex < 0) {\n            this.selectedIndex = index;\n        }\n    }\n    toggleDropdown(options) {\n        const tabs = options.reset\n            ? []\n            : this._tabs\n                .filter((tab) => !isChildEntirelyVisibleWithinParent(tab.value.element, this._tabsList))\n                .map((x) => x.value.panel.id);\n        this._onOverflowTabsChange.fire({ tabs, reset: options.reset });\n    }\n    updateDragAndDropState() {\n        for (const tab of this._tabs) {\n            tab.value.updateDragAndDropState();\n        }\n    }\n}\n\nconst createSvgElementFromPath = (params) => {\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.setAttributeNS(null, 'height', params.height);\n    svg.setAttributeNS(null, 'width', params.width);\n    svg.setAttributeNS(null, 'viewBox', params.viewbox);\n    svg.setAttributeNS(null, 'aria-hidden', 'false');\n    svg.setAttributeNS(null, 'focusable', 'false');\n    svg.classList.add('dv-svg');\n    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    path.setAttributeNS(null, 'd', params.path);\n    svg.appendChild(path);\n    return svg;\n};\nconst createCloseButton = () => createSvgElementFromPath({\n    width: '11',\n    height: '11',\n    viewbox: '0 0 28 28',\n    path: 'M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z',\n});\nconst createExpandMoreButton = () => createSvgElementFromPath({\n    width: '11',\n    height: '11',\n    viewbox: '0 0 24 15',\n    path: 'M12 14.15L0 2.15L2.15 0L12 9.9L21.85 0.0499992L24 2.2L12 14.15Z',\n});\nconst createChevronRightButton = () => createSvgElementFromPath({\n    width: '11',\n    height: '11',\n    viewbox: '0 0 15 25',\n    path: 'M2.15 24.1L0 21.95L9.9 12.05L0 2.15L2.15 0L14.2 12.05L2.15 24.1Z',\n});\n\nfunction createDropdownElementHandle() {\n    const el = document.createElement('div');\n    el.className = 'dv-tabs-overflow-dropdown-default';\n    const text = document.createElement('span');\n    text.textContent = ``;\n    const icon = createChevronRightButton();\n    el.appendChild(icon);\n    el.appendChild(text);\n    return {\n        element: el,\n        update: (params) => {\n            text.textContent = `${params.tabs}`;\n        },\n    };\n}\n\nclass TabsContainer extends CompositeDisposable {\n    get onTabDragStart() {\n        return this.tabs.onTabDragStart;\n    }\n    get panels() {\n        return this.tabs.panels;\n    }\n    get size() {\n        return this.tabs.size;\n    }\n    get hidden() {\n        return this._hidden;\n    }\n    set hidden(value) {\n        this._hidden = value;\n        this.element.style.display = value ? 'none' : '';\n    }\n    get direction() {\n        return this._direction;\n    }\n    set direction(value) {\n        this._direction = value;\n        if (value === 'vertical') {\n            addClasses(this._element, 'dv-groupview-header-vertical');\n            addClasses(this.rightActionsContainer, 'dv-right-actions-container-vertical');\n            this.tabs.direction = value;\n        }\n        else {\n            removeClasses(this._element, 'dv-groupview-header-vertical');\n            removeClasses(this.rightActionsContainer, 'dv-right-actions-container-vertical');\n            this.tabs.direction = value;\n        }\n    }\n    get element() {\n        return this._element;\n    }\n    constructor(accessor, group) {\n        super();\n        this.accessor = accessor;\n        this.group = group;\n        this._hidden = false;\n        this._direction = 'horizontal';\n        this.dropdownPart = null;\n        this._overflowTabs = [];\n        this._dropdownDisposable = new MutableDisposable();\n        this._onDrop = new Emitter();\n        this.onDrop = this._onDrop.event;\n        this._onGroupDragStart = new Emitter();\n        this.onGroupDragStart = this._onGroupDragStart.event;\n        this._onWillShowOverlay = new Emitter();\n        this.onWillShowOverlay = this._onWillShowOverlay.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-tabs-and-actions-container';\n        toggleClass(this._element, 'dv-full-width-single-tab', this.accessor.options.singleTabMode === 'fullwidth');\n        this.rightActionsContainer = document.createElement('div');\n        this.rightActionsContainer.className = 'dv-right-actions-container';\n        this.leftActionsContainer = document.createElement('div');\n        this.leftActionsContainer.className = 'dv-left-actions-container';\n        this.preActionsContainer = document.createElement('div');\n        this.preActionsContainer.className = 'dv-pre-actions-container';\n        this.tabs = new Tabs(group, accessor, {\n            showTabsOverflowControl: !accessor.options.disableTabsOverflowList,\n        });\n        this.voidContainer = new VoidContainer(this.accessor, this.group);\n        this._element.appendChild(this.preActionsContainer);\n        this._element.appendChild(this.tabs.element);\n        this._element.appendChild(this.leftActionsContainer);\n        this._element.appendChild(this.voidContainer.element);\n        this._element.appendChild(this.rightActionsContainer);\n        this.addDisposables(this.tabs.onDrop((e) => this._onDrop.fire(e)), this.tabs.onWillShowOverlay((e) => this._onWillShowOverlay.fire(e)), accessor.onDidOptionsChange(() => {\n            this.tabs.showTabsOverflowControl =\n                !accessor.options.disableTabsOverflowList;\n        }), this.tabs.onOverflowTabsChange((event) => {\n            this.toggleDropdown(event);\n        }), this.tabs, this._onWillShowOverlay, this._onDrop, this._onGroupDragStart, this.voidContainer, this.voidContainer.onDragStart((event) => {\n            this._onGroupDragStart.fire({\n                nativeEvent: event,\n                group: this.group,\n            });\n        }), this.voidContainer.onDrop((event) => {\n            this._onDrop.fire({\n                event: event.nativeEvent,\n                index: this.tabs.size,\n            });\n        }), this.voidContainer.onWillShowOverlay((event) => {\n            this._onWillShowOverlay.fire(new DockviewWillShowOverlayLocationEvent(event, {\n                kind: 'header_space',\n                panel: this.group.activePanel,\n                api: this.accessor.api,\n                group: this.group,\n                getData: getPanelData,\n            }));\n        }), addDisposableListener(this.voidContainer.element, 'pointerdown', (event) => {\n            if (event.defaultPrevented) {\n                return;\n            }\n            const isFloatingGroupsEnabled = !this.accessor.options.disableFloatingGroups;\n            if (isFloatingGroupsEnabled &&\n                event.shiftKey &&\n                this.group.api.location.type !== 'floating') {\n                event.preventDefault();\n                const { top, left } = this.element.getBoundingClientRect();\n                const { top: rootTop, left: rootLeft } = this.accessor.element.getBoundingClientRect();\n                this.accessor.addFloatingGroup(this.group, {\n                    x: left - rootLeft + 20,\n                    y: top - rootTop + 20,\n                    inDragMode: true,\n                });\n            }\n        }));\n    }\n    show() {\n        if (!this.hidden) {\n            this.element.style.display = '';\n        }\n    }\n    hide() {\n        this._element.style.display = 'none';\n    }\n    setRightActionsElement(element) {\n        if (this.rightActions === element) {\n            return;\n        }\n        if (this.rightActions) {\n            this.rightActions.remove();\n            this.rightActions = undefined;\n        }\n        if (element) {\n            this.rightActionsContainer.appendChild(element);\n            this.rightActions = element;\n        }\n    }\n    setLeftActionsElement(element) {\n        if (this.leftActions === element) {\n            return;\n        }\n        if (this.leftActions) {\n            this.leftActions.remove();\n            this.leftActions = undefined;\n        }\n        if (element) {\n            this.leftActionsContainer.appendChild(element);\n            this.leftActions = element;\n        }\n    }\n    setPrefixActionsElement(element) {\n        if (this.preActions === element) {\n            return;\n        }\n        if (this.preActions) {\n            this.preActions.remove();\n            this.preActions = undefined;\n        }\n        if (element) {\n            this.preActionsContainer.appendChild(element);\n            this.preActions = element;\n        }\n    }\n    isActive(tab) {\n        return this.tabs.isActive(tab);\n    }\n    indexOf(id) {\n        return this.tabs.indexOf(id);\n    }\n    setActive(_isGroupActive) {\n        // noop\n    }\n    delete(id) {\n        this.tabs.delete(id);\n        this.updateClassnames();\n    }\n    setActivePanel(panel) {\n        this.tabs.setActivePanel(panel);\n    }\n    openPanel(panel, index = this.tabs.size) {\n        this.tabs.openPanel(panel, index);\n        this.updateClassnames();\n    }\n    closePanel(panel) {\n        this.delete(panel.id);\n    }\n    updateClassnames() {\n        toggleClass(this._element, 'dv-single-tab', this.size === 1);\n    }\n    toggleDropdown(options) {\n        const tabs = options.reset ? [] : options.tabs;\n        this._overflowTabs = tabs;\n        if (this._overflowTabs.length > 0 && this.dropdownPart) {\n            this.dropdownPart.update({ tabs: tabs.length });\n            return;\n        }\n        if (this._overflowTabs.length === 0) {\n            this._dropdownDisposable.dispose();\n            return;\n        }\n        const root = document.createElement('div');\n        root.className = 'dv-tabs-overflow-dropdown-root';\n        const part = createDropdownElementHandle();\n        part.update({ tabs: tabs.length });\n        this.dropdownPart = part;\n        root.appendChild(part.element);\n        this.rightActionsContainer.prepend(root);\n        this._dropdownDisposable.value = new CompositeDisposable(Disposable.from(() => {\n            var _a, _b;\n            root.remove();\n            (_b = (_a = this.dropdownPart) === null || _a === void 0 ? void 0 : _a.dispose) === null || _b === void 0 ? void 0 : _b.call(_a);\n            this.dropdownPart = null;\n        }), addDisposableListener(root, 'pointerdown', (event) => {\n            event.preventDefault();\n        }, { capture: true }), addDisposableListener(root, 'click', (event) => {\n            const el = document.createElement('div');\n            el.style.overflow = 'auto';\n            el.className = 'dv-tabs-overflow-container';\n            for (const tab of this.tabs.tabs.filter((tab) => this._overflowTabs.includes(tab.panel.id))) {\n                const panelObject = this.group.panels.find((panel) => panel === tab.panel);\n                const tabComponent = panelObject.view.createTabRenderer('headerOverflow');\n                const child = tabComponent.element;\n                const wrapper = document.createElement('div');\n                toggleClass(wrapper, 'dv-tab', true);\n                toggleClass(wrapper, 'dv-active-tab', panelObject.api.isActive);\n                toggleClass(wrapper, 'dv-inactive-tab', !panelObject.api.isActive);\n                wrapper.addEventListener('click', (event) => {\n                    this.accessor.popupService.close();\n                    if (event.defaultPrevented) {\n                        return;\n                    }\n                    tab.element.scrollIntoView();\n                    tab.panel.api.setActive();\n                });\n                wrapper.appendChild(child);\n                el.appendChild(wrapper);\n            }\n            const relativeParent = findRelativeZIndexParent(root);\n            this.accessor.popupService.openPopover(el, {\n                x: event.clientX,\n                y: event.clientY,\n                zIndex: (relativeParent === null || relativeParent === void 0 ? void 0 : relativeParent.style.zIndex)\n                    ? `calc(${relativeParent.style.zIndex} * 2)`\n                    : undefined,\n            });\n        }));\n    }\n    updateDragAndDropState() {\n        this.tabs.updateDragAndDropState();\n        this.voidContainer.updateDragAndDropState();\n    }\n}\n\nclass DockviewUnhandledDragOverEvent extends AcceptableEvent {\n    constructor(nativeEvent, target, position, getData, group) {\n        super();\n        this.nativeEvent = nativeEvent;\n        this.target = target;\n        this.position = position;\n        this.getData = getData;\n        this.group = group;\n    }\n}\nconst PROPERTY_KEYS_DOCKVIEW = (() => {\n    /**\n     * by readong the keys from an empty value object TypeScript will error\n     * when we add or remove new properties to `DockviewOptions`\n     */\n    const properties = {\n        disableAutoResizing: undefined,\n        hideBorders: undefined,\n        singleTabMode: undefined,\n        disableFloatingGroups: undefined,\n        floatingGroupBounds: undefined,\n        popoutUrl: undefined,\n        defaultRenderer: undefined,\n        defaultHeaderPosition: undefined,\n        debug: undefined,\n        rootOverlayModel: undefined,\n        locked: undefined,\n        disableDnd: undefined,\n        className: undefined,\n        noPanelsOverlay: undefined,\n        dndEdges: undefined,\n        theme: undefined,\n        disableTabsOverflowList: undefined,\n        scrollbars: undefined,\n    };\n    return Object.keys(properties);\n})();\nfunction isPanelOptionsWithPanel(data) {\n    if (data.referencePanel) {\n        return true;\n    }\n    return false;\n}\nfunction isPanelOptionsWithGroup(data) {\n    if (data.referenceGroup) {\n        return true;\n    }\n    return false;\n}\nfunction isGroupOptionsWithPanel(data) {\n    if (data.referencePanel) {\n        return true;\n    }\n    return false;\n}\nfunction isGroupOptionsWithGroup(data) {\n    if (data.referenceGroup) {\n        return true;\n    }\n    return false;\n}\n\nclass DockviewDidDropEvent extends DockviewEvent {\n    get nativeEvent() {\n        return this.options.nativeEvent;\n    }\n    get position() {\n        return this.options.position;\n    }\n    get panel() {\n        return this.options.panel;\n    }\n    get group() {\n        return this.options.group;\n    }\n    get api() {\n        return this.options.api;\n    }\n    constructor(options) {\n        super();\n        this.options = options;\n    }\n    getData() {\n        return this.options.getData();\n    }\n}\nclass DockviewWillDropEvent extends DockviewDidDropEvent {\n    get kind() {\n        return this._kind;\n    }\n    constructor(options) {\n        super(options);\n        this._kind = options.kind;\n    }\n}\nclass DockviewGroupPanelModel extends CompositeDisposable {\n    get element() {\n        throw new Error('dockview: not supported');\n    }\n    get activePanel() {\n        return this._activePanel;\n    }\n    get locked() {\n        return this._locked;\n    }\n    set locked(value) {\n        this._locked = value;\n        toggleClass(this.container, 'dv-locked-groupview', value === 'no-drop-target' || value);\n    }\n    get isActive() {\n        return this._isGroupActive;\n    }\n    get panels() {\n        return this._panels;\n    }\n    get size() {\n        return this._panels.length;\n    }\n    get isEmpty() {\n        return this._panels.length === 0;\n    }\n    get hasWatermark() {\n        return !!(this.watermark && this.container.contains(this.watermark.element));\n    }\n    get header() {\n        return this.tabsContainer;\n    }\n    get isContentFocused() {\n        if (!document.activeElement) {\n            return false;\n        }\n        return isAncestor(document.activeElement, this.contentContainer.element);\n    }\n    get headerPosition() {\n        var _a;\n        return (_a = this._headerPosition) !== null && _a !== void 0 ? _a : 'top';\n    }\n    set headerPosition(value) {\n        var _a;\n        this._headerPosition = value;\n        removeClasses(this.container, 'dv-groupview-header-top', 'dv-groupview-header-bottom', 'dv-groupview-header-left', 'dv-groupview-header-right');\n        addClasses(this.container, `dv-groupview-header-${value}`);\n        const direction = value === 'top' || value === 'bottom' ? 'horizontal' : 'vertical';\n        this.tabsContainer.direction = direction;\n        this.header.direction = direction;\n        // resize the active panel to fit the new header direction\n        // if not, the panel will overflow the tabs container\n        if ((_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.layout) {\n            this._activePanel.layout(this._width, this._height);\n        }\n        if (this._leftHeaderActions ||\n            this._rightHeaderActions ||\n            this._prefixHeaderActions) {\n            this.updateHeaderActions();\n        }\n    }\n    get location() {\n        return this._location;\n    }\n    set location(value) {\n        this._location = value;\n        toggleClass(this.container, 'dv-groupview-floating', false);\n        toggleClass(this.container, 'dv-groupview-popout', false);\n        switch (value.type) {\n            case 'grid':\n                this.contentContainer.dropTarget.setTargetZones([\n                    'top',\n                    'bottom',\n                    'left',\n                    'right',\n                    'center',\n                ]);\n                break;\n            case 'floating':\n                this.contentContainer.dropTarget.setTargetZones(['center']);\n                this.contentContainer.dropTarget.setTargetZones(value\n                    ? ['center']\n                    : ['top', 'bottom', 'left', 'right', 'center']);\n                toggleClass(this.container, 'dv-groupview-floating', true);\n                break;\n            case 'popout':\n                this.contentContainer.dropTarget.setTargetZones(['center']);\n                toggleClass(this.container, 'dv-groupview-popout', true);\n                break;\n        }\n        this.groupPanel.api._onDidLocationChange.fire({\n            location: this.location,\n        });\n    }\n    constructor(container, accessor, id, options, groupPanel) {\n        var _a, _b;\n        super();\n        this.container = container;\n        this.accessor = accessor;\n        this.id = id;\n        this.options = options;\n        this.groupPanel = groupPanel;\n        this._isGroupActive = false;\n        this._locked = false;\n        this._rightHeaderActionsDisposable = new MutableDisposable();\n        this._leftHeaderActionsDisposable = new MutableDisposable();\n        this._prefixHeaderActionsDisposable = new MutableDisposable();\n        this._location = { type: 'grid' };\n        this.mostRecentlyUsed = [];\n        this._overwriteRenderContainer = null;\n        this._overwriteDropTargetContainer = null;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._width = 0;\n        this._height = 0;\n        this._panels = [];\n        this._panelDisposables = new Map();\n        this._onMove = new Emitter();\n        this.onMove = this._onMove.event;\n        this._onDidDrop = new Emitter();\n        this.onDidDrop = this._onDidDrop.event;\n        this._onWillDrop = new Emitter();\n        this.onWillDrop = this._onWillDrop.event;\n        this._onWillShowOverlay = new Emitter();\n        this.onWillShowOverlay = this._onWillShowOverlay.event;\n        this._onTabDragStart = new Emitter();\n        this.onTabDragStart = this._onTabDragStart.event;\n        this._onGroupDragStart = new Emitter();\n        this.onGroupDragStart = this._onGroupDragStart.event;\n        this._onDidAddPanel = new Emitter();\n        this.onDidAddPanel = this._onDidAddPanel.event;\n        this._onDidPanelTitleChange = new Emitter();\n        this.onDidPanelTitleChange = this._onDidPanelTitleChange.event;\n        this._onDidPanelParametersChange = new Emitter();\n        this.onDidPanelParametersChange = this._onDidPanelParametersChange.event;\n        this._onDidRemovePanel = new Emitter();\n        this.onDidRemovePanel = this._onDidRemovePanel.event;\n        this._onDidActivePanelChange = new Emitter();\n        this.onDidActivePanelChange = this._onDidActivePanelChange.event;\n        this._onUnhandledDragOverEvent = new Emitter();\n        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;\n        toggleClass(this.container, 'dv-groupview', true);\n        this._api = new DockviewApi(this.accessor);\n        this.tabsContainer = new TabsContainer(this.accessor, this.groupPanel);\n        this.contentContainer = new ContentContainer(this.accessor, this);\n        container.append(this.tabsContainer.element, this.contentContainer.element);\n        this.header.hidden = !!options.hideHeader;\n        this.locked = (_a = options.locked) !== null && _a !== void 0 ? _a : false;\n        this.headerPosition =\n            (_b = options.headerPosition) !== null && _b !== void 0 ? _b : accessor.defaultHeaderPosition;\n        this.addDisposables(this._onTabDragStart, this._onGroupDragStart, this._onWillShowOverlay, this._rightHeaderActionsDisposable, this._leftHeaderActionsDisposable, this._prefixHeaderActionsDisposable, this.tabsContainer.onTabDragStart((event) => {\n            this._onTabDragStart.fire(event);\n        }), this.tabsContainer.onGroupDragStart((event) => {\n            this._onGroupDragStart.fire(event);\n        }), this.tabsContainer.onDrop((event) => {\n            this.handleDropEvent('header', event.event, 'center', event.index);\n        }), this.contentContainer.onDidFocus(() => {\n            this.accessor.doSetGroupActive(this.groupPanel);\n        }), this.contentContainer.onDidBlur(() => {\n            // noop\n        }), this.contentContainer.dropTarget.onDrop((event) => {\n            this.handleDropEvent('content', event.nativeEvent, event.position);\n        }), this.tabsContainer.onWillShowOverlay((event) => {\n            this._onWillShowOverlay.fire(event);\n        }), this.contentContainer.dropTarget.onWillShowOverlay((event) => {\n            this._onWillShowOverlay.fire(new DockviewWillShowOverlayLocationEvent(event, {\n                kind: 'content',\n                panel: this.activePanel,\n                api: this._api,\n                group: this.groupPanel,\n                getData: getPanelData,\n            }));\n        }), this._onMove, this._onDidChange, this._onDidDrop, this._onWillDrop, this._onDidAddPanel, this._onDidRemovePanel, this._onDidActivePanelChange, this._onUnhandledDragOverEvent, this._onDidPanelTitleChange, this._onDidPanelParametersChange);\n    }\n    focusContent() {\n        this.contentContainer.element.focus();\n    }\n    set renderContainer(value) {\n        this.panels.forEach((panel) => {\n            this.renderContainer.detatch(panel);\n        });\n        this._overwriteRenderContainer = value;\n        this.panels.forEach((panel) => {\n            this.rerender(panel);\n        });\n    }\n    get renderContainer() {\n        var _a;\n        return ((_a = this._overwriteRenderContainer) !== null && _a !== void 0 ? _a : this.accessor.overlayRenderContainer);\n    }\n    set dropTargetContainer(value) {\n        this._overwriteDropTargetContainer = value;\n    }\n    get dropTargetContainer() {\n        var _a;\n        return ((_a = this._overwriteDropTargetContainer) !== null && _a !== void 0 ? _a : this.accessor.rootDropTargetContainer);\n    }\n    initialize() {\n        if (this.options.panels) {\n            this.options.panels.forEach((panel) => {\n                this.doAddPanel(panel);\n            });\n        }\n        if (this.options.activePanel) {\n            this.openPanel(this.options.activePanel);\n        }\n        // must be run after the constructor otherwise this.parent may not be\n        // correctly initialized\n        this.setActive(this.isActive, true);\n        this.updateContainer();\n        this.updateHeaderActions();\n    }\n    updateHeaderActions() {\n        if (this.accessor.options.createRightHeaderActionComponent) {\n            this._rightHeaderActions =\n                this.accessor.options.createRightHeaderActionComponent(this.groupPanel);\n            this._rightHeaderActionsDisposable.value = this._rightHeaderActions;\n            this._rightHeaderActions.init({\n                containerApi: this._api,\n                api: this.groupPanel.api,\n                group: this.groupPanel,\n            });\n            this.tabsContainer.setRightActionsElement(this._rightHeaderActions.element);\n        }\n        else {\n            this._rightHeaderActions = undefined;\n            this._rightHeaderActionsDisposable.dispose();\n            this.tabsContainer.setRightActionsElement(undefined);\n        }\n        if (this.accessor.options.createLeftHeaderActionComponent) {\n            this._leftHeaderActions =\n                this.accessor.options.createLeftHeaderActionComponent(this.groupPanel);\n            this._leftHeaderActionsDisposable.value = this._leftHeaderActions;\n            this._leftHeaderActions.init({\n                containerApi: this._api,\n                api: this.groupPanel.api,\n                group: this.groupPanel,\n            });\n            this.tabsContainer.setLeftActionsElement(this._leftHeaderActions.element);\n        }\n        else {\n            this._leftHeaderActions = undefined;\n            this._leftHeaderActionsDisposable.dispose();\n            this.tabsContainer.setLeftActionsElement(undefined);\n        }\n        if (this.accessor.options.createPrefixHeaderActionComponent) {\n            this._prefixHeaderActions =\n                this.accessor.options.createPrefixHeaderActionComponent(this.groupPanel);\n            this._prefixHeaderActionsDisposable.value =\n                this._prefixHeaderActions;\n            this._prefixHeaderActions.init({\n                containerApi: this._api,\n                api: this.groupPanel.api,\n                group: this.groupPanel,\n            });\n            this.tabsContainer.setPrefixActionsElement(this._prefixHeaderActions.element);\n        }\n        else {\n            this._prefixHeaderActions = undefined;\n            this._prefixHeaderActionsDisposable.dispose();\n            this.tabsContainer.setPrefixActionsElement(undefined);\n        }\n    }\n    rerender(panel) {\n        this.contentContainer.renderPanel(panel, { asActive: false });\n    }\n    indexOf(panel) {\n        return this.tabsContainer.indexOf(panel.id);\n    }\n    toJSON() {\n        var _a;\n        const result = {\n            views: this.tabsContainer.panels,\n            activeView: (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.id,\n            id: this.id,\n        };\n        if (this.locked !== false) {\n            result.locked = this.locked;\n        }\n        if (this.header.hidden) {\n            result.hideHeader = true;\n        }\n        if (this.headerPosition !== 'top') {\n            result.headerPosition = this.headerPosition;\n        }\n        return result;\n    }\n    moveToNext(options) {\n        if (!options) {\n            options = {};\n        }\n        if (!options.panel) {\n            options.panel = this.activePanel;\n        }\n        const index = options.panel ? this.panels.indexOf(options.panel) : -1;\n        let normalizedIndex;\n        if (index < this.panels.length - 1) {\n            normalizedIndex = index + 1;\n        }\n        else if (!options.suppressRoll) {\n            normalizedIndex = 0;\n        }\n        else {\n            return;\n        }\n        this.openPanel(this.panels[normalizedIndex]);\n    }\n    moveToPrevious(options) {\n        if (!options) {\n            options = {};\n        }\n        if (!options.panel) {\n            options.panel = this.activePanel;\n        }\n        if (!options.panel) {\n            return;\n        }\n        const index = this.panels.indexOf(options.panel);\n        let normalizedIndex;\n        if (index > 0) {\n            normalizedIndex = index - 1;\n        }\n        else if (!options.suppressRoll) {\n            normalizedIndex = this.panels.length - 1;\n        }\n        else {\n            return;\n        }\n        this.openPanel(this.panels[normalizedIndex]);\n    }\n    containsPanel(panel) {\n        return this.panels.includes(panel);\n    }\n    init(_params) {\n        //noop\n    }\n    update(_params) {\n        //noop\n    }\n    focus() {\n        var _a;\n        (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    openPanel(panel, options = {}) {\n        /**\n         * set the panel group\n         * add the panel\n         * check if group active\n         * check if panel active\n         */\n        if (typeof options.index !== 'number' ||\n            options.index > this.panels.length) {\n            options.index = this.panels.length;\n        }\n        const skipSetActive = !!options.skipSetActive;\n        // ensure the group is updated before we fire any events\n        panel.updateParentGroup(this.groupPanel, {\n            skipSetActive: options.skipSetActive,\n        });\n        this.doAddPanel(panel, options.index, {\n            skipSetActive: skipSetActive,\n        });\n        if (this._activePanel === panel) {\n            this.contentContainer.renderPanel(panel, { asActive: true });\n            return;\n        }\n        if (!skipSetActive) {\n            this.doSetActivePanel(panel);\n        }\n        if (!options.skipSetGroupActive) {\n            this.accessor.doSetGroupActive(this.groupPanel);\n        }\n        if (!options.skipSetActive) {\n            this.updateContainer();\n        }\n    }\n    removePanel(groupItemOrId, options = {\n        skipSetActive: false,\n    }) {\n        const id = typeof groupItemOrId === 'string'\n            ? groupItemOrId\n            : groupItemOrId.id;\n        const panelToRemove = this._panels.find((panel) => panel.id === id);\n        if (!panelToRemove) {\n            throw new Error('invalid operation');\n        }\n        return this._removePanel(panelToRemove, options);\n    }\n    closeAllPanels() {\n        if (this.panels.length > 0) {\n            // take a copy since we will be edting the array as we iterate through\n            const arrPanelCpy = [...this.panels];\n            for (const panel of arrPanelCpy) {\n                this.doClose(panel);\n            }\n        }\n        else {\n            this.accessor.removeGroup(this.groupPanel);\n        }\n    }\n    closePanel(panel) {\n        this.doClose(panel);\n    }\n    doClose(panel) {\n        const isLast = this.panels.length === 1 && this.accessor.groups.length === 1;\n        this.accessor.removePanel(panel, isLast && this.accessor.options.noPanelsOverlay === 'emptyGroup'\n            ? { removeEmptyGroup: false }\n            : undefined);\n    }\n    isPanelActive(panel) {\n        return this._activePanel === panel;\n    }\n    updateActions(element) {\n        this.tabsContainer.setRightActionsElement(element);\n    }\n    setActive(isGroupActive, force = false) {\n        if (!force && this.isActive === isGroupActive) {\n            return;\n        }\n        this._isGroupActive = isGroupActive;\n        toggleClass(this.container, 'dv-active-group', isGroupActive);\n        toggleClass(this.container, 'dv-inactive-group', !isGroupActive);\n        this.tabsContainer.setActive(this.isActive);\n        if (!this._activePanel && this.panels.length > 0) {\n            this.doSetActivePanel(this.panels[0]);\n        }\n        this.updateContainer();\n    }\n    layout(width, height) {\n        var _a;\n        this._width = width;\n        this._height = height;\n        this.contentContainer.layout(this._width, this._height);\n        if ((_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.layout) {\n            this._activePanel.layout(this._width, this._height);\n        }\n    }\n    _removePanel(panel, options) {\n        const isActivePanel = this._activePanel === panel;\n        this.doRemovePanel(panel);\n        if (isActivePanel && this.panels.length > 0) {\n            const nextPanel = this.mostRecentlyUsed[0];\n            this.openPanel(nextPanel, {\n                skipSetActive: options.skipSetActive,\n                skipSetGroupActive: options.skipSetActiveGroup,\n            });\n        }\n        if (this._activePanel && this.panels.length === 0) {\n            this.doSetActivePanel(undefined);\n        }\n        if (!options.skipSetActive) {\n            this.updateContainer();\n        }\n        return panel;\n    }\n    doRemovePanel(panel) {\n        const index = this.panels.indexOf(panel);\n        if (this._activePanel === panel) {\n            this.contentContainer.closePanel();\n        }\n        this.tabsContainer.delete(panel.id);\n        this._panels.splice(index, 1);\n        if (this.mostRecentlyUsed.includes(panel)) {\n            const index = this.mostRecentlyUsed.indexOf(panel);\n            this.mostRecentlyUsed.splice(index, 1);\n        }\n        const disposable = this._panelDisposables.get(panel.id);\n        if (disposable) {\n            disposable.dispose();\n            this._panelDisposables.delete(panel.id);\n        }\n        this._onDidRemovePanel.fire({ panel });\n    }\n    doAddPanel(panel, index = this.panels.length, options = { skipSetActive: false }) {\n        const existingPanel = this._panels.indexOf(panel);\n        const hasExistingPanel = existingPanel > -1;\n        this.tabsContainer.show();\n        this.contentContainer.show();\n        this.tabsContainer.openPanel(panel, index);\n        if (!options.skipSetActive) {\n            this.contentContainer.openPanel(panel);\n        }\n        else if (panel.api.renderer === 'always') {\n            this.contentContainer.renderPanel(panel, { asActive: false });\n        }\n        if (hasExistingPanel) {\n            // TODO - need to ensure ordering hasn't changed and if it has need to re-order this.panels\n            return;\n        }\n        this.updateMru(panel);\n        this.panels.splice(index, 0, panel);\n        this._panelDisposables.set(panel.id, new CompositeDisposable(panel.api.onDidTitleChange((event) => this._onDidPanelTitleChange.fire(event)), panel.api.onDidParametersChange((event) => this._onDidPanelParametersChange.fire(event))));\n        this._onDidAddPanel.fire({ panel });\n    }\n    doSetActivePanel(panel) {\n        if (this._activePanel === panel) {\n            return;\n        }\n        this._activePanel = panel;\n        if (panel) {\n            this.tabsContainer.setActivePanel(panel);\n            this.contentContainer.openPanel(panel);\n            panel.layout(this._width, this._height);\n            this.updateMru(panel);\n            // Refresh focus state to handle programmatic activation without DOM focus change\n            this.contentContainer.refreshFocusState();\n            this._onDidActivePanelChange.fire({\n                panel,\n            });\n        }\n    }\n    updateMru(panel) {\n        if (this.mostRecentlyUsed.includes(panel)) {\n            this.mostRecentlyUsed.splice(this.mostRecentlyUsed.indexOf(panel), 1);\n        }\n        this.mostRecentlyUsed = [panel, ...this.mostRecentlyUsed];\n    }\n    updateContainer() {\n        var _a, _b;\n        this.panels.forEach((panel) => panel.runEvents());\n        if (this.isEmpty && !this.watermark) {\n            const watermark = this.accessor.createWatermarkComponent();\n            watermark.init({\n                containerApi: this._api,\n                group: this.groupPanel,\n            });\n            this.watermark = watermark;\n            addDisposableListener(this.watermark.element, 'pointerdown', () => {\n                if (!this.isActive) {\n                    this.accessor.doSetGroupActive(this.groupPanel);\n                }\n            });\n            this.contentContainer.element.appendChild(this.watermark.element);\n        }\n        if (!this.isEmpty && this.watermark) {\n            this.watermark.element.remove();\n            (_b = (_a = this.watermark).dispose) === null || _b === void 0 ? void 0 : _b.call(_a);\n            this.watermark = undefined;\n        }\n    }\n    canDisplayOverlay(event, position, target) {\n        const firedEvent = new DockviewUnhandledDragOverEvent(event, target, position, getPanelData, this.accessor.getPanel(this.id));\n        this._onUnhandledDragOverEvent.fire(firedEvent);\n        return firedEvent.isAccepted;\n    }\n    handleDropEvent(type, event, position, index) {\n        if (this.locked === 'no-drop-target') {\n            return;\n        }\n        function getKind() {\n            switch (type) {\n                case 'header':\n                    return typeof index === 'number' ? 'tab' : 'header_space';\n                case 'content':\n                    return 'content';\n            }\n        }\n        const panel = typeof index === 'number' ? this.panels[index] : undefined;\n        const willDropEvent = new DockviewWillDropEvent({\n            nativeEvent: event,\n            position,\n            panel,\n            getData: () => getPanelData(),\n            kind: getKind(),\n            group: this.groupPanel,\n            api: this._api,\n        });\n        this._onWillDrop.fire(willDropEvent);\n        if (willDropEvent.defaultPrevented) {\n            return;\n        }\n        const data = getPanelData();\n        if (data && data.viewId === this.accessor.id) {\n            if (type === 'content') {\n                if (data.groupId === this.id) {\n                    // don't allow to drop on self for center position\n                    if (position === 'center') {\n                        return;\n                    }\n                    if (data.panelId === null) {\n                        // don't allow group move to drop anywhere on self\n                        return;\n                    }\n                }\n            }\n            if (type === 'header') {\n                if (data.groupId === this.id) {\n                    if (data.panelId === null) {\n                        return;\n                    }\n                }\n            }\n            if (data.panelId === null) {\n                // this is a group move dnd event\n                const { groupId } = data;\n                this._onMove.fire({\n                    target: position,\n                    groupId: groupId,\n                    index,\n                });\n                return;\n            }\n            const fromSameGroup = this.tabsContainer.indexOf(data.panelId) !== -1;\n            if (fromSameGroup && this.tabsContainer.size === 1) {\n                return;\n            }\n            const { groupId, panelId } = data;\n            const isSameGroup = this.id === groupId;\n            if (isSameGroup && !position) {\n                const oldIndex = this.tabsContainer.indexOf(panelId);\n                if (oldIndex === index) {\n                    return;\n                }\n            }\n            this._onMove.fire({\n                target: position,\n                groupId: data.groupId,\n                itemId: data.panelId,\n                index,\n            });\n        }\n        else {\n            this._onDidDrop.fire(new DockviewDidDropEvent({\n                nativeEvent: event,\n                position,\n                panel,\n                getData: () => getPanelData(),\n                group: this.groupPanel,\n                api: this._api,\n            }));\n        }\n    }\n    updateDragAndDropState() {\n        this.tabsContainer.updateDragAndDropState();\n    }\n    dispose() {\n        var _a, _b, _c;\n        super.dispose();\n        (_a = this.watermark) === null || _a === void 0 ? void 0 : _a.element.remove();\n        (_c = (_b = this.watermark) === null || _b === void 0 ? void 0 : _b.dispose) === null || _c === void 0 ? void 0 : _c.call(_b);\n        this.watermark = undefined;\n        for (const panel of this.panels) {\n            panel.dispose();\n        }\n        this.tabsContainer.dispose();\n        this.contentContainer.dispose();\n    }\n}\n\nclass GridviewPanelApiImpl extends PanelApiImpl {\n    constructor(id, component, panel) {\n        super(id, component);\n        this._onDidConstraintsChangeInternal = new Emitter();\n        this.onDidConstraintsChangeInternal = this._onDidConstraintsChangeInternal.event;\n        this._onDidConstraintsChange = new Emitter();\n        this.onDidConstraintsChange = this._onDidConstraintsChange.event;\n        this._onDidSizeChange = new Emitter();\n        this.onDidSizeChange = this._onDidSizeChange.event;\n        this.addDisposables(this._onDidConstraintsChangeInternal, this._onDidConstraintsChange, this._onDidSizeChange);\n        if (panel) {\n            this.initialize(panel);\n        }\n    }\n    setConstraints(value) {\n        this._onDidConstraintsChangeInternal.fire(value);\n    }\n    setSize(event) {\n        this._onDidSizeChange.fire(event);\n    }\n}\n\nclass GridviewPanel extends BasePanelView {\n    get priority() {\n        return this._priority;\n    }\n    get snap() {\n        return this._snap;\n    }\n    get minimumWidth() {\n        /**\n         * defer to protected function to allow subclasses to override easily.\n         * see https://github.com/microsoft/TypeScript/issues/338\n         */\n        return this.__minimumWidth();\n    }\n    get minimumHeight() {\n        /**\n         * defer to protected function to allow subclasses to override easily.\n         * see https://github.com/microsoft/TypeScript/issues/338\n         */\n        return this.__minimumHeight();\n    }\n    get maximumHeight() {\n        /**\n         * defer to protected function to allow subclasses to override easily.\n         * see https://github.com/microsoft/TypeScript/issues/338\n         */\n        return this.__maximumHeight();\n    }\n    get maximumWidth() {\n        /**\n         * defer to protected function to allow subclasses to override easily.\n         * see https://github.com/microsoft/TypeScript/issues/338\n         */\n        return this.__maximumWidth();\n    }\n    __minimumWidth() {\n        const width = typeof this._minimumWidth === 'function'\n            ? this._minimumWidth()\n            : this._minimumWidth;\n        if (width !== this._evaluatedMinimumWidth) {\n            this._evaluatedMinimumWidth = width;\n            this.updateConstraints();\n        }\n        return width;\n    }\n    __maximumWidth() {\n        const width = typeof this._maximumWidth === 'function'\n            ? this._maximumWidth()\n            : this._maximumWidth;\n        if (width !== this._evaluatedMaximumWidth) {\n            this._evaluatedMaximumWidth = width;\n            this.updateConstraints();\n        }\n        return width;\n    }\n    __minimumHeight() {\n        const height = typeof this._minimumHeight === 'function'\n            ? this._minimumHeight()\n            : this._minimumHeight;\n        if (height !== this._evaluatedMinimumHeight) {\n            this._evaluatedMinimumHeight = height;\n            this.updateConstraints();\n        }\n        return height;\n    }\n    __maximumHeight() {\n        const height = typeof this._maximumHeight === 'function'\n            ? this._maximumHeight()\n            : this._maximumHeight;\n        if (height !== this._evaluatedMaximumHeight) {\n            this._evaluatedMaximumHeight = height;\n            this.updateConstraints();\n        }\n        return height;\n    }\n    get isActive() {\n        return this.api.isActive;\n    }\n    get isVisible() {\n        return this.api.isVisible;\n    }\n    constructor(id, component, options, api) {\n        super(id, component, api !== null && api !== void 0 ? api : new GridviewPanelApiImpl(id, component));\n        this._evaluatedMinimumWidth = 0;\n        this._evaluatedMaximumWidth = Number.MAX_SAFE_INTEGER;\n        this._evaluatedMinimumHeight = 0;\n        this._evaluatedMaximumHeight = Number.MAX_SAFE_INTEGER;\n        this._minimumWidth = 0;\n        this._minimumHeight = 0;\n        this._maximumWidth = Number.MAX_SAFE_INTEGER;\n        this._maximumHeight = Number.MAX_SAFE_INTEGER;\n        this._snap = false;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        if (typeof (options === null || options === void 0 ? void 0 : options.minimumWidth) === 'number') {\n            this._minimumWidth = options.minimumWidth;\n        }\n        if (typeof (options === null || options === void 0 ? void 0 : options.maximumWidth) === 'number') {\n            this._maximumWidth = options.maximumWidth;\n        }\n        if (typeof (options === null || options === void 0 ? void 0 : options.minimumHeight) === 'number') {\n            this._minimumHeight = options.minimumHeight;\n        }\n        if (typeof (options === null || options === void 0 ? void 0 : options.maximumHeight) === 'number') {\n            this._maximumHeight = options.maximumHeight;\n        }\n        this.api.initialize(this); // TODO: required to by-pass 'super before this' requirement\n        this.addDisposables(this.api.onWillVisibilityChange((event) => {\n            const { isVisible } = event;\n            const { accessor } = this._params;\n            accessor.setVisible(this, isVisible);\n        }), this.api.onActiveChange(() => {\n            const { accessor } = this._params;\n            accessor.doSetGroupActive(this);\n        }), this.api.onDidConstraintsChangeInternal((event) => {\n            if (typeof event.minimumWidth === 'number' ||\n                typeof event.minimumWidth === 'function') {\n                this._minimumWidth = event.minimumWidth;\n            }\n            if (typeof event.minimumHeight === 'number' ||\n                typeof event.minimumHeight === 'function') {\n                this._minimumHeight = event.minimumHeight;\n            }\n            if (typeof event.maximumWidth === 'number' ||\n                typeof event.maximumWidth === 'function') {\n                this._maximumWidth = event.maximumWidth;\n            }\n            if (typeof event.maximumHeight === 'number' ||\n                typeof event.maximumHeight === 'function') {\n                this._maximumHeight = event.maximumHeight;\n            }\n        }), this.api.onDidSizeChange((event) => {\n            this._onDidChange.fire({\n                height: event.height,\n                width: event.width,\n            });\n        }), this._onDidChange);\n    }\n    setVisible(isVisible) {\n        this.api._onDidVisibilityChange.fire({ isVisible });\n    }\n    setActive(isActive) {\n        this.api._onDidActiveChange.fire({ isActive });\n    }\n    init(parameters) {\n        if (parameters.maximumHeight) {\n            this._maximumHeight = parameters.maximumHeight;\n        }\n        if (parameters.minimumHeight) {\n            this._minimumHeight = parameters.minimumHeight;\n        }\n        if (parameters.maximumWidth) {\n            this._maximumWidth = parameters.maximumWidth;\n        }\n        if (parameters.minimumWidth) {\n            this._minimumWidth = parameters.minimumWidth;\n        }\n        this._priority = parameters.priority;\n        this._snap = !!parameters.snap;\n        super.init(parameters);\n        if (typeof parameters.isVisible === 'boolean') {\n            this.setVisible(parameters.isVisible);\n        }\n    }\n    updateConstraints() {\n        this.api._onDidConstraintsChange.fire({\n            minimumWidth: this._evaluatedMinimumWidth,\n            maximumWidth: this._evaluatedMaximumWidth,\n            minimumHeight: this._evaluatedMinimumHeight,\n            maximumHeight: this._evaluatedMaximumHeight,\n        });\n    }\n    toJSON() {\n        const state = super.toJSON();\n        const maximum = (value) => value === Number.MAX_SAFE_INTEGER ? undefined : value;\n        const minimum = (value) => (value <= 0 ? undefined : value);\n        return Object.assign(Object.assign({}, state), { minimumHeight: minimum(this.minimumHeight), maximumHeight: maximum(this.maximumHeight), minimumWidth: minimum(this.minimumWidth), maximumWidth: maximum(this.maximumWidth), snap: this.snap, priority: this.priority });\n    }\n}\n\nconst NOT_INITIALIZED_MESSAGE = 'dockview: DockviewGroupPanelApiImpl not initialized';\nclass DockviewGroupPanelApiImpl extends GridviewPanelApiImpl {\n    get location() {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        return this._group.model.location;\n    }\n    constructor(id, accessor) {\n        super(id, '__dockviewgroup__');\n        this.accessor = accessor;\n        this._onDidLocationChange = new Emitter();\n        this.onDidLocationChange = this._onDidLocationChange.event;\n        this._onDidActivePanelChange = new Emitter();\n        this.onDidActivePanelChange = this._onDidActivePanelChange.event;\n        this.addDisposables(this._onDidLocationChange, this._onDidActivePanelChange, this._onDidVisibilityChange.event((event) => {\n            // When becoming visible, apply any pending size change\n            if (event.isVisible && this._pendingSize) {\n                super.setSize(this._pendingSize);\n                this._pendingSize = undefined;\n            }\n        }));\n    }\n    setSize(event) {\n        // Always store the requested size\n        this._pendingSize = Object.assign({}, event);\n        // Apply the size change immediately\n        super.setSize(event);\n    }\n    close() {\n        if (!this._group) {\n            return;\n        }\n        return this.accessor.removeGroup(this._group);\n    }\n    getWindow() {\n        return this.location.type === 'popout'\n            ? this.location.getWindow()\n            : window;\n    }\n    setHeaderPosition(position) {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        this._group.model.headerPosition = position;\n    }\n    getHeaderPosition() {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        return this._group.model.headerPosition;\n    }\n    moveTo(options) {\n        var _a, _b, _c, _d;\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        const group = (_a = options.group) !== null && _a !== void 0 ? _a : this.accessor.addGroup({\n            direction: positionToDirection((_b = options.position) !== null && _b !== void 0 ? _b : 'right'),\n            skipSetActive: (_c = options.skipSetActive) !== null && _c !== void 0 ? _c : false,\n        });\n        this.accessor.moveGroupOrPanel({\n            from: { groupId: this._group.id },\n            to: {\n                group,\n                position: options.group\n                    ? ((_d = options.position) !== null && _d !== void 0 ? _d : 'center')\n                    : 'center',\n                index: options.index,\n            },\n            skipSetActive: options.skipSetActive,\n        });\n    }\n    maximize() {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        if (this.location.type !== 'grid') {\n            // only grid groups can be maximized\n            return;\n        }\n        this.accessor.maximizeGroup(this._group);\n    }\n    isMaximized() {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        return this.accessor.isMaximizedGroup(this._group);\n    }\n    exitMaximized() {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        if (this.isMaximized()) {\n            this.accessor.exitMaximizedGroup();\n        }\n    }\n    initialize(group) {\n        this._group = group;\n    }\n}\n\nconst MINIMUM_DOCKVIEW_GROUP_PANEL_WIDTH = 100;\nconst MINIMUM_DOCKVIEW_GROUP_PANEL_HEIGHT = 100;\nclass DockviewGroupPanel extends GridviewPanel {\n    get minimumWidth() {\n        var _a;\n        // Check for explicitly set group constraint first\n        if (typeof this._explicitConstraints.minimumWidth === 'number') {\n            return this._explicitConstraints.minimumWidth;\n        }\n        const activePanelMinimumWidth = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.minimumWidth;\n        if (typeof activePanelMinimumWidth === 'number') {\n            return activePanelMinimumWidth;\n        }\n        return super.__minimumWidth();\n    }\n    get minimumHeight() {\n        var _a;\n        // Check for explicitly set group constraint first\n        if (typeof this._explicitConstraints.minimumHeight === 'number') {\n            return this._explicitConstraints.minimumHeight;\n        }\n        const activePanelMinimumHeight = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.minimumHeight;\n        if (typeof activePanelMinimumHeight === 'number') {\n            return activePanelMinimumHeight;\n        }\n        return super.__minimumHeight();\n    }\n    get maximumWidth() {\n        var _a;\n        // Check for explicitly set group constraint first\n        if (typeof this._explicitConstraints.maximumWidth === 'number') {\n            return this._explicitConstraints.maximumWidth;\n        }\n        const activePanelMaximumWidth = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.maximumWidth;\n        if (typeof activePanelMaximumWidth === 'number') {\n            return activePanelMaximumWidth;\n        }\n        return super.__maximumWidth();\n    }\n    get maximumHeight() {\n        var _a;\n        // Check for explicitly set group constraint first\n        if (typeof this._explicitConstraints.maximumHeight === 'number') {\n            return this._explicitConstraints.maximumHeight;\n        }\n        const activePanelMaximumHeight = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.maximumHeight;\n        if (typeof activePanelMaximumHeight === 'number') {\n            return activePanelMaximumHeight;\n        }\n        return super.__maximumHeight();\n    }\n    get panels() {\n        return this._model.panels;\n    }\n    get activePanel() {\n        return this._model.activePanel;\n    }\n    get size() {\n        return this._model.size;\n    }\n    get model() {\n        return this._model;\n    }\n    get locked() {\n        return this._model.locked;\n    }\n    set locked(value) {\n        this._model.locked = value;\n    }\n    get header() {\n        return this._model.header;\n    }\n    constructor(accessor, id, options) {\n        var _a, _b, _c, _d, _e, _f;\n        super(id, 'groupview_default', {\n            minimumHeight: (_b = (_a = options.constraints) === null || _a === void 0 ? void 0 : _a.minimumHeight) !== null && _b !== void 0 ? _b : MINIMUM_DOCKVIEW_GROUP_PANEL_HEIGHT,\n            minimumWidth: (_d = (_c = options.constraints) === null || _c === void 0 ? void 0 : _c.minimumWidth) !== null && _d !== void 0 ? _d : MINIMUM_DOCKVIEW_GROUP_PANEL_WIDTH,\n            maximumHeight: (_e = options.constraints) === null || _e === void 0 ? void 0 : _e.maximumHeight,\n            maximumWidth: (_f = options.constraints) === null || _f === void 0 ? void 0 : _f.maximumWidth,\n        }, new DockviewGroupPanelApiImpl(id, accessor));\n        // Track explicitly set constraints to override panel constraints\n        this._explicitConstraints = {};\n        this.api.initialize(this); // cannot use 'this' after after 'super' call\n        this._model = new DockviewGroupPanelModel(this.element, accessor, id, options, this);\n        this.addDisposables(this.model.onDidActivePanelChange((event) => {\n            this.api._onDidActivePanelChange.fire(event);\n        }), this.api.onDidConstraintsChangeInternal((event) => {\n            // Track explicitly set constraints to override panel constraints\n            // Extract numeric values from functions or values\n            if (event.minimumWidth !== undefined) {\n                this._explicitConstraints.minimumWidth =\n                    typeof event.minimumWidth === 'function'\n                        ? event.minimumWidth()\n                        : event.minimumWidth;\n            }\n            if (event.minimumHeight !== undefined) {\n                this._explicitConstraints.minimumHeight =\n                    typeof event.minimumHeight === 'function'\n                        ? event.minimumHeight()\n                        : event.minimumHeight;\n            }\n            if (event.maximumWidth !== undefined) {\n                this._explicitConstraints.maximumWidth =\n                    typeof event.maximumWidth === 'function'\n                        ? event.maximumWidth()\n                        : event.maximumWidth;\n            }\n            if (event.maximumHeight !== undefined) {\n                this._explicitConstraints.maximumHeight =\n                    typeof event.maximumHeight === 'function'\n                        ? event.maximumHeight()\n                        : event.maximumHeight;\n            }\n        }));\n    }\n    focus() {\n        if (!this.api.isActive) {\n            this.api.setActive();\n        }\n        super.focus();\n    }\n    initialize() {\n        this._model.initialize();\n    }\n    setActive(isActive) {\n        super.setActive(isActive);\n        this.model.setActive(isActive);\n    }\n    layout(width, height) {\n        super.layout(width, height);\n        this.model.layout(width, height);\n    }\n    getComponent() {\n        return this._model;\n    }\n    toJSON() {\n        return this.model.toJSON();\n    }\n}\n\nconst themeDark = {\n    name: 'dark',\n    className: 'dockview-theme-dark',\n};\nconst themeLight = {\n    name: 'light',\n    className: 'dockview-theme-light',\n};\nconst themeVisualStudio = {\n    name: 'visualStudio',\n    className: 'dockview-theme-vs',\n};\nconst themeAbyss = {\n    name: 'abyss',\n    className: 'dockview-theme-abyss',\n};\nconst themeDracula = {\n    name: 'dracula',\n    className: 'dockview-theme-dracula',\n};\nconst themeReplit = {\n    name: 'replit',\n    className: 'dockview-theme-replit',\n    gap: 10,\n};\nconst themeAbyssSpaced = {\n    name: 'abyssSpaced',\n    className: 'dockview-theme-abyss-spaced',\n    gap: 10,\n    dndOverlayMounting: 'absolute',\n    dndPanelOverlay: 'group',\n};\nconst themeLightSpaced = {\n    name: 'lightSpaced',\n    className: 'dockview-theme-light-spaced',\n    gap: 10,\n    dndOverlayMounting: 'absolute',\n    dndPanelOverlay: 'group',\n};\n\nclass DockviewPanelApiImpl extends GridviewPanelApiImpl {\n    get location() {\n        return this.group.api.location;\n    }\n    get title() {\n        return this.panel.title;\n    }\n    get isGroupActive() {\n        return this.group.isActive;\n    }\n    get renderer() {\n        return this.panel.renderer;\n    }\n    set group(value) {\n        const oldGroup = this._group;\n        if (this._group !== value) {\n            this._group = value;\n            this._onDidGroupChange.fire({});\n            this.setupGroupEventListeners(oldGroup);\n            this._onDidLocationChange.fire({\n                location: this.group.api.location,\n            });\n        }\n    }\n    get group() {\n        return this._group;\n    }\n    get tabComponent() {\n        return this._tabComponent;\n    }\n    constructor(panel, group, accessor, component, tabComponent) {\n        super(panel.id, component);\n        this.panel = panel;\n        this.accessor = accessor;\n        this._onDidTitleChange = new Emitter();\n        this.onDidTitleChange = this._onDidTitleChange.event;\n        this._onDidActiveGroupChange = new Emitter();\n        this.onDidActiveGroupChange = this._onDidActiveGroupChange.event;\n        this._onDidGroupChange = new Emitter();\n        this.onDidGroupChange = this._onDidGroupChange.event;\n        this._onDidRendererChange = new Emitter();\n        this.onDidRendererChange = this._onDidRendererChange.event;\n        this._onDidLocationChange = new Emitter();\n        this.onDidLocationChange = this._onDidLocationChange.event;\n        this.groupEventsDisposable = new MutableDisposable();\n        this._tabComponent = tabComponent;\n        this.initialize(panel);\n        this._group = group;\n        this.setupGroupEventListeners();\n        this.addDisposables(this.groupEventsDisposable, this._onDidRendererChange, this._onDidTitleChange, this._onDidGroupChange, this._onDidActiveGroupChange, this._onDidLocationChange);\n    }\n    getWindow() {\n        return this.group.api.getWindow();\n    }\n    moveTo(options) {\n        var _a, _b;\n        this.accessor.moveGroupOrPanel({\n            from: { groupId: this._group.id, panelId: this.panel.id },\n            to: {\n                group: (_a = options.group) !== null && _a !== void 0 ? _a : this._group,\n                position: options.group\n                    ? ((_b = options.position) !== null && _b !== void 0 ? _b : 'center')\n                    : 'center',\n                index: options.index,\n            },\n            skipSetActive: options.skipSetActive,\n        });\n    }\n    setTitle(title) {\n        this.panel.setTitle(title);\n    }\n    setRenderer(renderer) {\n        this.panel.setRenderer(renderer);\n    }\n    close() {\n        this.group.model.closePanel(this.panel);\n    }\n    maximize() {\n        this.group.api.maximize();\n    }\n    isMaximized() {\n        return this.group.api.isMaximized();\n    }\n    exitMaximized() {\n        this.group.api.exitMaximized();\n    }\n    setupGroupEventListeners(previousGroup) {\n        var _a;\n        let _trackGroupActive = (_a = previousGroup === null || previousGroup === void 0 ? void 0 : previousGroup.isActive) !== null && _a !== void 0 ? _a : false; // prevent duplicate events with same state\n        this.groupEventsDisposable.value = new CompositeDisposable(this.group.api.onDidVisibilityChange((event) => {\n            const hasBecomeHidden = !event.isVisible && this.isVisible;\n            const hasBecomeVisible = event.isVisible && !this.isVisible;\n            const isActivePanel = this.group.model.isPanelActive(this.panel);\n            if (hasBecomeHidden || (hasBecomeVisible && isActivePanel)) {\n                this._onDidVisibilityChange.fire(event);\n            }\n        }), this.group.api.onDidLocationChange((event) => {\n            if (this.group !== this.panel.group) {\n                return;\n            }\n            this._onDidLocationChange.fire(event);\n        }), this.group.api.onDidActiveChange(() => {\n            if (this.group !== this.panel.group) {\n                return;\n            }\n            if (_trackGroupActive !== this.isGroupActive) {\n                _trackGroupActive = this.isGroupActive;\n                this._onDidActiveGroupChange.fire({\n                    isActive: this.isGroupActive,\n                });\n            }\n        }));\n    }\n}\n\nclass DockviewPanel extends CompositeDisposable {\n    get params() {\n        return this._params;\n    }\n    get title() {\n        return this._title;\n    }\n    get group() {\n        return this._group;\n    }\n    get renderer() {\n        var _a;\n        return (_a = this._renderer) !== null && _a !== void 0 ? _a : this.accessor.renderer;\n    }\n    get minimumWidth() {\n        return this._minimumWidth;\n    }\n    get minimumHeight() {\n        return this._minimumHeight;\n    }\n    get maximumWidth() {\n        return this._maximumWidth;\n    }\n    get maximumHeight() {\n        return this._maximumHeight;\n    }\n    constructor(id, component, tabComponent, accessor, containerApi, group, view, options) {\n        super();\n        this.id = id;\n        this.accessor = accessor;\n        this.containerApi = containerApi;\n        this.view = view;\n        this._renderer = options.renderer;\n        this._group = group;\n        this._minimumWidth = options.minimumWidth;\n        this._minimumHeight = options.minimumHeight;\n        this._maximumWidth = options.maximumWidth;\n        this._maximumHeight = options.maximumHeight;\n        this.api = new DockviewPanelApiImpl(this, this._group, accessor, component, tabComponent);\n        this.addDisposables(this.api.onActiveChange(() => {\n            accessor.setActivePanel(this);\n        }), this.api.onDidSizeChange((event) => {\n            // forward the resize event to the group since if you want to resize a panel\n            // you are actually just resizing the panels parent which is the group\n            this.group.api.setSize(event);\n        }), this.api.onDidRendererChange(() => {\n            this.group.model.rerender(this);\n        }));\n    }\n    init(params) {\n        this._params = params.params;\n        this.view.init(Object.assign(Object.assign({}, params), { api: this.api, containerApi: this.containerApi }));\n        this.setTitle(params.title);\n    }\n    focus() {\n        const event = new WillFocusEvent();\n        this.api._onWillFocus.fire(event);\n        if (event.defaultPrevented) {\n            return;\n        }\n        if (!this.api.isActive) {\n            this.api.setActive();\n        }\n    }\n    toJSON() {\n        return {\n            id: this.id,\n            contentComponent: this.view.contentComponent,\n            tabComponent: this.view.tabComponent,\n            params: Object.keys(this._params || {}).length > 0\n                ? this._params\n                : undefined,\n            title: this.title,\n            renderer: this._renderer,\n            minimumHeight: this._minimumHeight,\n            maximumHeight: this._maximumHeight,\n            minimumWidth: this._minimumWidth,\n            maximumWidth: this._maximumWidth,\n        };\n    }\n    setTitle(title) {\n        const didTitleChange = title !== this.title;\n        if (didTitleChange) {\n            this._title = title;\n            this.api._onDidTitleChange.fire({ title });\n        }\n    }\n    setRenderer(renderer) {\n        const didChange = renderer !== this.renderer;\n        if (didChange) {\n            this._renderer = renderer;\n            this.api._onDidRendererChange.fire({\n                renderer: renderer,\n            });\n        }\n    }\n    update(event) {\n        var _a;\n        // merge the new parameters with the existing parameters\n        this._params = Object.assign(Object.assign({}, ((_a = this._params) !== null && _a !== void 0 ? _a : {})), event.params);\n        /**\n         * delete new keys that have a value of undefined,\n         * allow values of null\n         */\n        for (const key of Object.keys(event.params)) {\n            if (event.params[key] === undefined) {\n                delete this._params[key];\n            }\n        }\n        // update the view with the updated props\n        this.view.update({\n            params: this._params,\n        });\n    }\n    updateFromStateModel(state) {\n        var _a, _b, _c;\n        this._maximumHeight = state.maximumHeight;\n        this._minimumHeight = state.minimumHeight;\n        this._maximumWidth = state.maximumWidth;\n        this._minimumWidth = state.minimumWidth;\n        this.update({ params: (_a = state.params) !== null && _a !== void 0 ? _a : {} });\n        this.setTitle((_b = state.title) !== null && _b !== void 0 ? _b : this.id);\n        this.setRenderer((_c = state.renderer) !== null && _c !== void 0 ? _c : this.accessor.renderer);\n        // state.contentComponent;\n        // state.tabComponent;\n    }\n    updateParentGroup(group, options) {\n        this._group = group;\n        this.api.group = this._group;\n        const isPanelVisible = this._group.model.isPanelActive(this);\n        const isActive = this.group.api.isActive && isPanelVisible;\n        if (!(options === null || options === void 0 ? void 0 : options.skipSetActive)) {\n            if (this.api.isActive !== isActive) {\n                this.api._onDidActiveChange.fire({\n                    isActive: this.group.api.isActive && isPanelVisible,\n                });\n            }\n        }\n        if (this.api.isVisible !== isPanelVisible) {\n            this.api._onDidVisibilityChange.fire({\n                isVisible: isPanelVisible,\n            });\n        }\n    }\n    runEvents() {\n        const isPanelVisible = this._group.model.isPanelActive(this);\n        const isActive = this.group.api.isActive && isPanelVisible;\n        if (this.api.isActive !== isActive) {\n            this.api._onDidActiveChange.fire({\n                isActive: this.group.api.isActive && isPanelVisible,\n            });\n        }\n        if (this.api.isVisible !== isPanelVisible) {\n            this.api._onDidVisibilityChange.fire({\n                isVisible: isPanelVisible,\n            });\n        }\n    }\n    layout(width, height) {\n        // TODO: Can we somehow do height without header height or indicate what the header height is?\n        this.api._onDidDimensionChange.fire({\n            width,\n            height: height,\n        });\n        this.view.layout(width, height);\n    }\n    dispose() {\n        this.api.dispose();\n        this.view.dispose();\n    }\n}\n\nclass DefaultTab extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor() {\n        super();\n        this._element = document.createElement('div');\n        this._element.className = 'dv-default-tab';\n        this._content = document.createElement('div');\n        this._content.className = 'dv-default-tab-content';\n        this.action = document.createElement('div');\n        this.action.className = 'dv-default-tab-action';\n        this.action.appendChild(createCloseButton());\n        this._element.appendChild(this._content);\n        this._element.appendChild(this.action);\n        this.render();\n    }\n    init(params) {\n        this._title = params.title;\n        this.addDisposables(params.api.onDidTitleChange((event) => {\n            this._title = event.title;\n            this.render();\n        }), addDisposableListener(this.action, 'pointerdown', (ev) => {\n            ev.preventDefault();\n        }), addDisposableListener(this.action, 'click', (ev) => {\n            if (ev.defaultPrevented) {\n                return;\n            }\n            ev.preventDefault();\n            params.api.close();\n        }));\n        this.render();\n    }\n    render() {\n        var _a;\n        if (this._content.textContent !== this._title) {\n            this._content.textContent = (_a = this._title) !== null && _a !== void 0 ? _a : '';\n        }\n    }\n}\n\nclass DockviewPanelModel {\n    get content() {\n        return this._content;\n    }\n    get tab() {\n        return this._tab;\n    }\n    constructor(accessor, id, contentComponent, tabComponent) {\n        this.accessor = accessor;\n        this.id = id;\n        this.contentComponent = contentComponent;\n        this.tabComponent = tabComponent;\n        this._content = this.createContentComponent(this.id, contentComponent);\n        this._tab = this.createTabComponent(this.id, tabComponent);\n    }\n    createTabRenderer(tabLocation) {\n        var _a;\n        const cmp = this.createTabComponent(this.id, this.tabComponent);\n        if (this._params) {\n            cmp.init(Object.assign(Object.assign({}, this._params), { tabLocation }));\n        }\n        if (this._updateEvent) {\n            (_a = cmp.update) === null || _a === void 0 ? void 0 : _a.call(cmp, this._updateEvent);\n        }\n        return cmp;\n    }\n    init(params) {\n        this._params = params;\n        this.content.init(params);\n        this.tab.init(Object.assign(Object.assign({}, params), { tabLocation: 'header' }));\n    }\n    layout(width, height) {\n        var _a, _b;\n        (_b = (_a = this.content).layout) === null || _b === void 0 ? void 0 : _b.call(_a, width, height);\n    }\n    update(event) {\n        var _a, _b, _c, _d;\n        this._updateEvent = event;\n        (_b = (_a = this.content).update) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n        (_d = (_c = this.tab).update) === null || _d === void 0 ? void 0 : _d.call(_c, event);\n    }\n    dispose() {\n        var _a, _b, _c, _d;\n        (_b = (_a = this.content).dispose) === null || _b === void 0 ? void 0 : _b.call(_a);\n        (_d = (_c = this.tab).dispose) === null || _d === void 0 ? void 0 : _d.call(_c);\n    }\n    createContentComponent(id, componentName) {\n        return this.accessor.options.createComponent({\n            id,\n            name: componentName,\n        });\n    }\n    createTabComponent(id, componentName) {\n        const name = componentName !== null && componentName !== void 0 ? componentName : this.accessor.options.defaultTabComponent;\n        if (name) {\n            if (this.accessor.options.createTabComponent) {\n                const component = this.accessor.options.createTabComponent({\n                    id,\n                    name,\n                });\n                if (component) {\n                    return component;\n                }\n                else {\n                    return new DefaultTab();\n                }\n            }\n            console.warn(`dockview: tabComponent '${componentName}' was not found. falling back to the default tab.`);\n        }\n        return new DefaultTab();\n    }\n}\n\nclass DefaultDockviewDeserialzier {\n    constructor(accessor) {\n        this.accessor = accessor;\n    }\n    fromJSON(panelData, group) {\n        var _a, _b;\n        const panelId = panelData.id;\n        const params = panelData.params;\n        const title = panelData.title;\n        const viewData = panelData.view;\n        const contentComponent = viewData\n            ? viewData.content.id\n            : ((_a = panelData.contentComponent) !== null && _a !== void 0 ? _a : 'unknown');\n        const tabComponent = viewData\n            ? (_b = viewData.tab) === null || _b === void 0 ? void 0 : _b.id\n            : panelData.tabComponent;\n        const view = new DockviewPanelModel(this.accessor, panelId, contentComponent, tabComponent);\n        const panel = new DockviewPanel(panelId, contentComponent, tabComponent, this.accessor, new DockviewApi(this.accessor), group, view, {\n            renderer: panelData.renderer,\n            minimumWidth: panelData.minimumWidth,\n            minimumHeight: panelData.minimumHeight,\n            maximumWidth: panelData.maximumWidth,\n            maximumHeight: panelData.maximumHeight,\n        });\n        panel.init({\n            title: title !== null && title !== void 0 ? title : panelId,\n            params: params !== null && params !== void 0 ? params : {},\n        });\n        return panel;\n    }\n}\n\nclass Watermark extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor() {\n        super();\n        this._element = document.createElement('div');\n        this._element.className = 'dv-watermark';\n    }\n    init(_params) {\n        // noop\n    }\n}\n\nclass AriaLevelTracker {\n    constructor() {\n        this._orderedList = [];\n    }\n    push(element) {\n        this._orderedList = [\n            ...this._orderedList.filter((item) => item !== element),\n            element,\n        ];\n        this.update();\n    }\n    destroy(element) {\n        this._orderedList = this._orderedList.filter((item) => item !== element);\n        this.update();\n    }\n    update() {\n        for (let i = 0; i < this._orderedList.length; i++) {\n            this._orderedList[i].setAttribute('aria-level', `${i}`);\n            this._orderedList[i].style.zIndex =\n                `calc(var(--dv-overlay-z-index, 999) + ${i * 2})`;\n        }\n    }\n}\nconst arialLevelTracker = new AriaLevelTracker();\nclass Overlay extends CompositeDisposable {\n    set minimumInViewportWidth(value) {\n        this.options.minimumInViewportWidth = value;\n    }\n    set minimumInViewportHeight(value) {\n        this.options.minimumInViewportHeight = value;\n    }\n    get element() {\n        return this._element;\n    }\n    get isVisible() {\n        return this._isVisible;\n    }\n    constructor(options) {\n        super();\n        this.options = options;\n        this._element = document.createElement('div');\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._onDidChangeEnd = new Emitter();\n        this.onDidChangeEnd = this._onDidChangeEnd.event;\n        this.addDisposables(this._onDidChange, this._onDidChangeEnd);\n        this._element.className = 'dv-resize-container';\n        this._isVisible = true;\n        this.setupResize('top');\n        this.setupResize('bottom');\n        this.setupResize('left');\n        this.setupResize('right');\n        this.setupResize('topleft');\n        this.setupResize('topright');\n        this.setupResize('bottomleft');\n        this.setupResize('bottomright');\n        this._element.appendChild(this.options.content);\n        this.options.container.appendChild(this._element);\n        // if input bad resize within acceptable boundaries\n        this.setBounds(Object.assign(Object.assign(Object.assign(Object.assign({ height: this.options.height, width: this.options.width }, ('top' in this.options && { top: this.options.top })), ('bottom' in this.options && { bottom: this.options.bottom })), ('left' in this.options && { left: this.options.left })), ('right' in this.options && { right: this.options.right })));\n        arialLevelTracker.push(this._element);\n    }\n    setVisible(isVisible) {\n        if (isVisible === this.isVisible) {\n            return;\n        }\n        this._isVisible = isVisible;\n        toggleClass(this.element, 'dv-hidden', !this.isVisible);\n    }\n    bringToFront() {\n        arialLevelTracker.push(this._element);\n    }\n    setBounds(bounds = {}) {\n        if (typeof bounds.height === 'number') {\n            this._element.style.height = `${bounds.height}px`;\n        }\n        if (typeof bounds.width === 'number') {\n            this._element.style.width = `${bounds.width}px`;\n        }\n        if ('top' in bounds && typeof bounds.top === 'number') {\n            this._element.style.top = `${bounds.top}px`;\n            this._element.style.bottom = 'auto';\n            this.verticalAlignment = 'top';\n        }\n        if ('bottom' in bounds && typeof bounds.bottom === 'number') {\n            this._element.style.bottom = `${bounds.bottom}px`;\n            this._element.style.top = 'auto';\n            this.verticalAlignment = 'bottom';\n        }\n        if ('left' in bounds && typeof bounds.left === 'number') {\n            this._element.style.left = `${bounds.left}px`;\n            this._element.style.right = 'auto';\n            this.horiziontalAlignment = 'left';\n        }\n        if ('right' in bounds && typeof bounds.right === 'number') {\n            this._element.style.right = `${bounds.right}px`;\n            this._element.style.left = 'auto';\n            this.horiziontalAlignment = 'right';\n        }\n        const containerRect = this.options.container.getBoundingClientRect();\n        const overlayRect = this._element.getBoundingClientRect();\n        // region: ensure bounds within allowable limits\n        // a minimum width of minimumViewportWidth must be inside the viewport\n        const xOffset = Math.max(0, this.getMinimumWidth(overlayRect.width));\n        // a minimum height of minimumViewportHeight must be inside the viewport\n        const yOffset = Math.max(0, this.getMinimumHeight(overlayRect.height));\n        if (this.verticalAlignment === 'top') {\n            const top = clamp(overlayRect.top - containerRect.top, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));\n            this._element.style.top = `${top}px`;\n            this._element.style.bottom = 'auto';\n        }\n        if (this.verticalAlignment === 'bottom') {\n            const bottom = clamp(containerRect.bottom - overlayRect.bottom, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));\n            this._element.style.bottom = `${bottom}px`;\n            this._element.style.top = 'auto';\n        }\n        if (this.horiziontalAlignment === 'left') {\n            const left = clamp(overlayRect.left - containerRect.left, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));\n            this._element.style.left = `${left}px`;\n            this._element.style.right = 'auto';\n        }\n        if (this.horiziontalAlignment === 'right') {\n            const right = clamp(containerRect.right - overlayRect.right, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));\n            this._element.style.right = `${right}px`;\n            this._element.style.left = 'auto';\n        }\n        this._onDidChange.fire();\n    }\n    toJSON() {\n        const container = this.options.container.getBoundingClientRect();\n        const element = this._element.getBoundingClientRect();\n        const result = {};\n        if (this.verticalAlignment === 'top') {\n            result.top = parseFloat(this._element.style.top);\n        }\n        else if (this.verticalAlignment === 'bottom') {\n            result.bottom = parseFloat(this._element.style.bottom);\n        }\n        else {\n            result.top = element.top - container.top;\n        }\n        if (this.horiziontalAlignment === 'left') {\n            result.left = parseFloat(this._element.style.left);\n        }\n        else if (this.horiziontalAlignment === 'right') {\n            result.right = parseFloat(this._element.style.right);\n        }\n        else {\n            result.left = element.left - container.left;\n        }\n        result.width = element.width;\n        result.height = element.height;\n        return result;\n    }\n    setupDrag(dragTarget, options = { inDragMode: false }) {\n        const move = new MutableDisposable();\n        const track = () => {\n            let offset = null;\n            const iframes = disableIframePointEvents();\n            move.value = new CompositeDisposable({\n                dispose: () => {\n                    iframes.release();\n                },\n            }, addDisposableListener(window, 'pointermove', (e) => {\n                const containerRect = this.options.container.getBoundingClientRect();\n                const x = e.clientX - containerRect.left;\n                const y = e.clientY - containerRect.top;\n                toggleClass(this._element, 'dv-resize-container-dragging', true);\n                const overlayRect = this._element.getBoundingClientRect();\n                if (offset === null) {\n                    offset = {\n                        x: e.clientX - overlayRect.left,\n                        y: e.clientY - overlayRect.top,\n                    };\n                }\n                const xOffset = Math.max(0, this.getMinimumWidth(overlayRect.width));\n                const yOffset = Math.max(0, this.getMinimumHeight(overlayRect.height));\n                const top = clamp(y - offset.y, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));\n                const bottom = clamp(offset.y -\n                    y +\n                    containerRect.height -\n                    overlayRect.height, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));\n                const left = clamp(x - offset.x, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));\n                const right = clamp(offset.x - x + containerRect.width - overlayRect.width, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));\n                const bounds = {};\n                // Anchor to top or to bottom depending on which one is closer\n                if (top <= bottom) {\n                    bounds.top = top;\n                }\n                else {\n                    bounds.bottom = bottom;\n                }\n                // Anchor to left or to right depending on which one is closer\n                if (left <= right) {\n                    bounds.left = left;\n                }\n                else {\n                    bounds.right = right;\n                }\n                this.setBounds(bounds);\n            }), addDisposableListener(window, 'pointerup', () => {\n                toggleClass(this._element, 'dv-resize-container-dragging', false);\n                move.dispose();\n                this._onDidChangeEnd.fire();\n            }));\n        };\n        this.addDisposables(move, addDisposableListener(dragTarget, 'pointerdown', (event) => {\n            if (event.defaultPrevented) {\n                event.preventDefault();\n                return;\n            }\n            // if somebody has marked this event then treat as a defaultPrevented\n            // without actually calling event.preventDefault()\n            if (quasiDefaultPrevented(event)) {\n                return;\n            }\n            track();\n        }), addDisposableListener(this.options.content, 'pointerdown', (event) => {\n            if (event.defaultPrevented) {\n                return;\n            }\n            // if somebody has marked this event then treat as a defaultPrevented\n            // without actually calling event.preventDefault()\n            if (quasiDefaultPrevented(event)) {\n                return;\n            }\n            if (event.shiftKey) {\n                track();\n            }\n        }), addDisposableListener(this.options.content, 'pointerdown', () => {\n            arialLevelTracker.push(this._element);\n        }, true));\n        if (options.inDragMode) {\n            track();\n        }\n    }\n    setupResize(direction) {\n        const resizeHandleElement = document.createElement('div');\n        resizeHandleElement.className = `dv-resize-handle-${direction}`;\n        this._element.appendChild(resizeHandleElement);\n        const move = new MutableDisposable();\n        this.addDisposables(move, addDisposableListener(resizeHandleElement, 'pointerdown', (e) => {\n            e.preventDefault();\n            let startPosition = null;\n            const iframes = disableIframePointEvents();\n            move.value = new CompositeDisposable(addDisposableListener(window, 'pointermove', (e) => {\n                const containerRect = this.options.container.getBoundingClientRect();\n                const overlayRect = this._element.getBoundingClientRect();\n                const y = e.clientY - containerRect.top;\n                const x = e.clientX - containerRect.left;\n                if (startPosition === null) {\n                    // record the initial dimensions since as all subsequence moves are relative to this\n                    startPosition = {\n                        originalY: y,\n                        originalHeight: overlayRect.height,\n                        originalX: x,\n                        originalWidth: overlayRect.width,\n                    };\n                }\n                let top = undefined;\n                let bottom = undefined;\n                let height = undefined;\n                let left = undefined;\n                let right = undefined;\n                let width = undefined;\n                const moveTop = () => {\n                    // When dragging top handle, constrain top position to prevent oversizing\n                    const maxTop = startPosition.originalY +\n                        startPosition.originalHeight >\n                        containerRect.height\n                        ? Math.max(0, containerRect.height -\n                            Overlay.MINIMUM_HEIGHT)\n                        : Math.max(0, startPosition.originalY +\n                            startPosition.originalHeight -\n                            Overlay.MINIMUM_HEIGHT);\n                    top = clamp(y, 0, maxTop);\n                    height =\n                        startPosition.originalY +\n                            startPosition.originalHeight -\n                            top;\n                    bottom = containerRect.height - top - height;\n                };\n                const moveBottom = () => {\n                    top =\n                        startPosition.originalY -\n                            startPosition.originalHeight;\n                    // When dragging bottom handle, constrain height to container height\n                    const minHeight = top < 0 &&\n                        typeof this.options.minimumInViewportHeight ===\n                            'number'\n                        ? -top +\n                            this.options.minimumInViewportHeight\n                        : Overlay.MINIMUM_HEIGHT;\n                    const maxHeight = containerRect.height - Math.max(0, top);\n                    height = clamp(y - top, minHeight, maxHeight);\n                    bottom = containerRect.height - top - height;\n                };\n                const moveLeft = () => {\n                    const maxLeft = startPosition.originalX +\n                        startPosition.originalWidth >\n                        containerRect.width\n                        ? Math.max(0, containerRect.width -\n                            Overlay.MINIMUM_WIDTH) // Prevent extending beyong right edge\n                        : Math.max(0, startPosition.originalX +\n                            startPosition.originalWidth -\n                            Overlay.MINIMUM_WIDTH);\n                    left = clamp(x, 0, maxLeft); // min is 0 (Not -Infinity) to prevent dragging beyond left edge\n                    width =\n                        startPosition.originalX +\n                            startPosition.originalWidth -\n                            left;\n                    right = containerRect.width - left - width;\n                };\n                const moveRight = () => {\n                    left =\n                        startPosition.originalX -\n                            startPosition.originalWidth;\n                    // When dragging right handle, constrain width to container width\n                    const minWidth = left < 0 &&\n                        typeof this.options.minimumInViewportWidth ===\n                            'number'\n                        ? -left +\n                            this.options.minimumInViewportWidth\n                        : Overlay.MINIMUM_WIDTH;\n                    const maxWidth = containerRect.width - Math.max(0, left);\n                    width = clamp(x - left, minWidth, maxWidth);\n                    right = containerRect.width - left - width;\n                };\n                switch (direction) {\n                    case 'top':\n                        moveTop();\n                        break;\n                    case 'bottom':\n                        moveBottom();\n                        break;\n                    case 'left':\n                        moveLeft();\n                        break;\n                    case 'right':\n                        moveRight();\n                        break;\n                    case 'topleft':\n                        moveTop();\n                        moveLeft();\n                        break;\n                    case 'topright':\n                        moveTop();\n                        moveRight();\n                        break;\n                    case 'bottomleft':\n                        moveBottom();\n                        moveLeft();\n                        break;\n                    case 'bottomright':\n                        moveBottom();\n                        moveRight();\n                        break;\n                }\n                const bounds = {};\n                // Anchor to top or to bottom depending on which one is closer\n                if (top <= bottom) {\n                    bounds.top = top;\n                }\n                else {\n                    bounds.bottom = bottom;\n                }\n                // Anchor to left or to right depending on which one is closer\n                if (left <= right) {\n                    bounds.left = left;\n                }\n                else {\n                    bounds.right = right;\n                }\n                bounds.height = height;\n                bounds.width = width;\n                this.setBounds(bounds);\n            }), {\n                dispose: () => {\n                    iframes.release();\n                },\n            }, addDisposableListener(window, 'pointerup', () => {\n                move.dispose();\n                this._onDidChangeEnd.fire();\n            }));\n        }));\n    }\n    getMinimumWidth(width) {\n        if (typeof this.options.minimumInViewportWidth === 'number') {\n            return width - this.options.minimumInViewportWidth;\n        }\n        return 0;\n    }\n    getMinimumHeight(height) {\n        if (typeof this.options.minimumInViewportHeight === 'number') {\n            return height - this.options.minimumInViewportHeight;\n        }\n        return 0;\n    }\n    dispose() {\n        arialLevelTracker.destroy(this._element);\n        this._element.remove();\n        super.dispose();\n    }\n}\nOverlay.MINIMUM_HEIGHT = 20;\nOverlay.MINIMUM_WIDTH = 20;\n\nclass DockviewFloatingGroupPanel extends CompositeDisposable {\n    constructor(group, overlay) {\n        super();\n        this.group = group;\n        this.overlay = overlay;\n        this.addDisposables(overlay);\n    }\n    position(bounds) {\n        this.overlay.setBounds(bounds);\n    }\n}\n\nconst DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE = 100;\nconst DEFAULT_FLOATING_GROUP_POSITION = {\n    left: 100,\n    top: 100,\n    width: 300,\n    height: 300,\n};\nconst DESERIALIZATION_POPOUT_DELAY_MS = 100;\n\nclass PositionCache {\n    constructor() {\n        this.cache = new Map();\n        this.currentFrameId = 0;\n        this.rafId = null;\n    }\n    getPosition(element) {\n        const cached = this.cache.get(element);\n        if (cached && cached.frameId === this.currentFrameId) {\n            return cached.rect;\n        }\n        this.scheduleFrameUpdate();\n        const rect = getDomNodePagePosition(element);\n        this.cache.set(element, { rect, frameId: this.currentFrameId });\n        return rect;\n    }\n    invalidate() {\n        this.currentFrameId++;\n    }\n    scheduleFrameUpdate() {\n        if (this.rafId)\n            return;\n        this.rafId = requestAnimationFrame(() => {\n            this.currentFrameId++;\n            this.rafId = null;\n        });\n    }\n}\nfunction createFocusableElement() {\n    const element = document.createElement('div');\n    element.tabIndex = -1;\n    return element;\n}\nclass OverlayRenderContainer extends CompositeDisposable {\n    constructor(element, accessor) {\n        super();\n        this.element = element;\n        this.accessor = accessor;\n        this.map = {};\n        this._disposed = false;\n        this.positionCache = new PositionCache();\n        this.pendingUpdates = new Set();\n        this.addDisposables(Disposable.from(() => {\n            for (const value of Object.values(this.map)) {\n                value.disposable.dispose();\n                value.destroy.dispose();\n            }\n            this._disposed = true;\n        }));\n    }\n    updateAllPositions() {\n        if (this._disposed) {\n            return;\n        }\n        // Invalidate position cache to force recalculation\n        this.positionCache.invalidate();\n        // Call resize function directly for all visible panels\n        for (const entry of Object.values(this.map)) {\n            if (entry.panel.api.isVisible && entry.resize) {\n                entry.resize();\n            }\n        }\n    }\n    detatch(panel) {\n        if (this.map[panel.api.id]) {\n            const { disposable, destroy } = this.map[panel.api.id];\n            disposable.dispose();\n            destroy.dispose();\n            delete this.map[panel.api.id];\n            return true;\n        }\n        return false;\n    }\n    attach(options) {\n        const { panel, referenceContainer } = options;\n        if (!this.map[panel.api.id]) {\n            const element = createFocusableElement();\n            element.className = 'dv-render-overlay';\n            this.map[panel.api.id] = {\n                panel,\n                disposable: Disposable.NONE,\n                destroy: Disposable.NONE,\n                element,\n            };\n        }\n        const focusContainer = this.map[panel.api.id].element;\n        if (panel.view.content.element.parentElement !== focusContainer) {\n            focusContainer.appendChild(panel.view.content.element);\n        }\n        if (focusContainer.parentElement !== this.element) {\n            this.element.appendChild(focusContainer);\n        }\n        const resize = () => {\n            const panelId = panel.api.id;\n            if (this.pendingUpdates.has(panelId)) {\n                return; // Update already scheduled\n            }\n            this.pendingUpdates.add(panelId);\n            requestAnimationFrame(() => {\n                this.pendingUpdates.delete(panelId);\n                if (this.isDisposed || !this.map[panelId]) {\n                    return;\n                }\n                const box = this.positionCache.getPosition(referenceContainer.element);\n                const box2 = this.positionCache.getPosition(this.element);\n                // Use traditional positioning for overlay containers\n                const left = box.left - box2.left;\n                const top = box.top - box2.top;\n                const width = box.width;\n                const height = box.height;\n                focusContainer.style.left = `${left}px`;\n                focusContainer.style.top = `${top}px`;\n                focusContainer.style.width = `${width}px`;\n                focusContainer.style.height = `${height}px`;\n                toggleClass(focusContainer, 'dv-render-overlay-float', panel.group.api.location.type === 'floating');\n            });\n        };\n        const visibilityChanged = () => {\n            if (panel.api.isVisible) {\n                this.positionCache.invalidate();\n                resize();\n            }\n            focusContainer.style.display = panel.api.isVisible ? '' : 'none';\n        };\n        const observerDisposable = new MutableDisposable();\n        const correctLayerPosition = () => {\n            if (panel.api.location.type === 'floating') {\n                queueMicrotask(() => {\n                    const floatingGroup = this.accessor.floatingGroups.find((group) => group.group === panel.api.group);\n                    if (!floatingGroup) {\n                        return;\n                    }\n                    const element = floatingGroup.overlay.element;\n                    const update = () => {\n                        const level = Number(element.getAttribute('aria-level'));\n                        focusContainer.style.zIndex = `calc(var(--dv-overlay-z-index, 999) + ${level * 2 + 1})`;\n                    };\n                    const observer = new MutationObserver(() => {\n                        update();\n                    });\n                    observerDisposable.value = Disposable.from(() => observer.disconnect());\n                    observer.observe(element, {\n                        attributeFilter: ['aria-level'],\n                        attributes: true,\n                    });\n                    update();\n                });\n            }\n            else {\n                focusContainer.style.zIndex = ''; // reset the z-index, perhaps CSS will take over here\n            }\n        };\n        const disposable = new CompositeDisposable(observerDisposable, \n        /**\n         * since container is positioned absoutely we must explicitly forward\n         * the dnd events for the expect behaviours to continue to occur in terms of dnd\n         *\n         * the dnd observer does not need to be conditional on whether the panel is visible since\n         * non-visible panels are 'display: none' and in such case the dnd observer will not fire.\n         */\n        new DragAndDropObserver(focusContainer, {\n            onDragEnd: (e) => {\n                referenceContainer.dropTarget.dnd.onDragEnd(e);\n            },\n            onDragEnter: (e) => {\n                referenceContainer.dropTarget.dnd.onDragEnter(e);\n            },\n            onDragLeave: (e) => {\n                referenceContainer.dropTarget.dnd.onDragLeave(e);\n            },\n            onDrop: (e) => {\n                referenceContainer.dropTarget.dnd.onDrop(e);\n            },\n            onDragOver: (e) => {\n                referenceContainer.dropTarget.dnd.onDragOver(e);\n            },\n        }), panel.api.onDidVisibilityChange(() => {\n            /**\n             * Control the visibility of the content, however even when not visible (display: none)\n             * the content is still maintained within the DOM hence DOM specific attributes\n             * such as scroll position are maintained when next made visible.\n             */\n            visibilityChanged();\n        }), panel.api.onDidDimensionsChange(() => {\n            if (!panel.api.isVisible) {\n                return;\n            }\n            resize();\n        }), panel.api.onDidLocationChange(() => {\n            correctLayerPosition();\n        }));\n        this.map[panel.api.id].destroy = Disposable.from(() => {\n            var _a;\n            if (panel.view.content.element.parentElement === focusContainer) {\n                focusContainer.removeChild(panel.view.content.element);\n            }\n            (_a = focusContainer.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(focusContainer);\n        });\n        correctLayerPosition();\n        queueMicrotask(() => {\n            if (this.isDisposed) {\n                return;\n            }\n            /**\n             * wait until everything has finished in the current stack-frame call before\n             * calling the first resize as other size-altering events may still occur before\n             * the end of the stack-frame.\n             */\n            visibilityChanged();\n        });\n        // dispose of logic asoccciated with previous reference-container\n        this.map[panel.api.id].disposable.dispose();\n        // and reset the disposable to the active reference-container\n        this.map[panel.api.id].disposable = disposable;\n        // store the resize function for direct access\n        this.map[panel.api.id].resize = resize;\n        return focusContainer;\n    }\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nclass PopoutWindow extends CompositeDisposable {\n    get window() {\n        var _a, _b;\n        return (_b = (_a = this._window) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : null;\n    }\n    constructor(target, className, options) {\n        super();\n        this.target = target;\n        this.className = className;\n        this.options = options;\n        this._onWillClose = new Emitter();\n        this.onWillClose = this._onWillClose.event;\n        this._onDidClose = new Emitter();\n        this.onDidClose = this._onDidClose.event;\n        this._window = null;\n        this.addDisposables(this._onWillClose, this._onDidClose, {\n            dispose: () => {\n                this.close();\n            },\n        });\n    }\n    dimensions() {\n        if (!this._window) {\n            return null;\n        }\n        const left = this._window.value.screenX;\n        const top = this._window.value.screenY;\n        const width = this._window.value.innerWidth;\n        const height = this._window.value.innerHeight;\n        return { top, left, width, height };\n    }\n    close() {\n        var _a, _b;\n        if (this._window) {\n            this._onWillClose.fire();\n            (_b = (_a = this.options).onWillClose) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                id: this.target,\n                window: this._window.value,\n            });\n            this._window.disposable.dispose();\n            this._window = null;\n            this._onDidClose.fire();\n        }\n    }\n    open() {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._window) {\n                throw new Error('instance of popout window is already open');\n            }\n            const url = `${this.options.url}`;\n            const features = Object.entries({\n                top: this.options.top,\n                left: this.options.left,\n                width: this.options.width,\n                height: this.options.height,\n            })\n                .map(([key, value]) => `${key}=${value}`)\n                .join(',');\n            /**\n             * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/open\n             */\n            const externalWindow = window.open(url, this.target, features);\n            if (!externalWindow) {\n                /**\n                 * Popup blocked\n                 */\n                return null;\n            }\n            const disposable = new CompositeDisposable();\n            this._window = { value: externalWindow, disposable };\n            disposable.addDisposables(Disposable.from(() => {\n                externalWindow.close();\n            }), addDisposableListener(window, 'beforeunload', () => {\n                /**\n                 * before the main window closes we should close this popup too\n                 * to be good citizens\n                 *\n                 * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event\n                 */\n                this.close();\n            }));\n            const container = this.createPopoutWindowContainer();\n            if (this.className) {\n                container.classList.add(this.className);\n            }\n            (_b = (_a = this.options).onDidOpen) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                id: this.target,\n                window: externalWindow,\n            });\n            return new Promise((resolve, reject) => {\n                externalWindow.addEventListener('unload', (e) => {\n                    // if page fails to load before unloading\n                    // this.close();\n                });\n                externalWindow.addEventListener('load', () => {\n                    /**\n                     * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event\n                     */\n                    try {\n                        const externalDocument = externalWindow.document;\n                        externalDocument.title = document.title;\n                        externalDocument.body.appendChild(container);\n                        addStyles(externalDocument, window.document.styleSheets);\n                        /**\n                         * beforeunload must be registered after load for reasons I could not determine\n                         * otherwise the beforeunload event will not fire when the window is closed\n                         */\n                        addDisposableListener(externalWindow, 'beforeunload', () => {\n                            /**\n                             * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event\n                             */\n                            this.close();\n                        });\n                        resolve(container);\n                    }\n                    catch (err) {\n                        // only except this is the DOM isn't setup. e.g. in a in correctly configured test\n                        reject(err);\n                    }\n                });\n            });\n        });\n    }\n    createPopoutWindowContainer() {\n        const el = document.createElement('div');\n        el.classList.add('dv-popout-window');\n        el.id = 'dv-popout-window';\n        el.style.position = 'absolute';\n        el.style.width = '100%';\n        el.style.height = '100%';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        return el;\n    }\n}\n\nclass StrictEventsSequencing extends CompositeDisposable {\n    constructor(accessor) {\n        super();\n        this.accessor = accessor;\n        this.init();\n    }\n    init() {\n        const panels = new Set();\n        const groups = new Set();\n        this.addDisposables(this.accessor.onDidAddPanel((panel) => {\n            if (panels.has(panel.api.id)) {\n                throw new Error(`dockview: Invalid event sequence. [onDidAddPanel] called for panel ${panel.api.id} but panel already exists`);\n            }\n            else {\n                panels.add(panel.api.id);\n            }\n        }), this.accessor.onDidRemovePanel((panel) => {\n            if (!panels.has(panel.api.id)) {\n                throw new Error(`dockview: Invalid event sequence. [onDidRemovePanel] called for panel ${panel.api.id} but panel does not exists`);\n            }\n            else {\n                panels.delete(panel.api.id);\n            }\n        }), this.accessor.onDidAddGroup((group) => {\n            if (groups.has(group.api.id)) {\n                throw new Error(`dockview: Invalid event sequence. [onDidAddGroup] called for group ${group.api.id} but group already exists`);\n            }\n            else {\n                groups.add(group.api.id);\n            }\n        }), this.accessor.onDidRemoveGroup((group) => {\n            if (!groups.has(group.api.id)) {\n                throw new Error(`dockview: Invalid event sequence. [onDidRemoveGroup] called for group ${group.api.id} but group does not exists`);\n            }\n            else {\n                groups.delete(group.api.id);\n            }\n        }));\n    }\n}\n\nclass PopupService extends CompositeDisposable {\n    constructor(root) {\n        super();\n        this.root = root;\n        this._active = null;\n        this._activeDisposable = new MutableDisposable();\n        this._element = document.createElement('div');\n        this._element.className = 'dv-popover-anchor';\n        this._element.style.position = 'relative';\n        this.root.prepend(this._element);\n        this.addDisposables(Disposable.from(() => {\n            this.close();\n        }), this._activeDisposable);\n    }\n    openPopover(element, position) {\n        var _a;\n        this.close();\n        const wrapper = document.createElement('div');\n        wrapper.style.position = 'absolute';\n        wrapper.style.zIndex = (_a = position.zIndex) !== null && _a !== void 0 ? _a : 'var(--dv-overlay-z-index)';\n        wrapper.appendChild(element);\n        const anchorBox = this._element.getBoundingClientRect();\n        const offsetX = anchorBox.left;\n        const offsetY = anchorBox.top;\n        wrapper.style.top = `${position.y - offsetY}px`;\n        wrapper.style.left = `${position.x - offsetX}px`;\n        this._element.appendChild(wrapper);\n        this._active = wrapper;\n        this._activeDisposable.value = new CompositeDisposable(addDisposableListener(window, 'pointerdown', (event) => {\n            var _a;\n            const target = event.target;\n            if (!(target instanceof HTMLElement)) {\n                return;\n            }\n            let el = target;\n            while (el && el !== wrapper) {\n                el = (_a = el === null || el === void 0 ? void 0 : el.parentElement) !== null && _a !== void 0 ? _a : null;\n            }\n            if (el) {\n                return; // clicked within popover\n            }\n            this.close();\n        }), addDisposableListener(window, 'resize', () => {\n            this.close();\n        }));\n        requestAnimationFrame(() => {\n            shiftAbsoluteElementIntoView(wrapper, this.root);\n        });\n    }\n    close() {\n        if (this._active) {\n            this._active.remove();\n            this._activeDisposable.dispose();\n            this._active = null;\n        }\n    }\n}\n\nclass DropTargetAnchorContainer extends CompositeDisposable {\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        var _a;\n        if (this.disabled === value) {\n            return;\n        }\n        this._disabled = value;\n        if (value) {\n            (_a = this.model) === null || _a === void 0 ? void 0 : _a.clear();\n        }\n    }\n    get model() {\n        if (this.disabled) {\n            return undefined;\n        }\n        return {\n            clear: () => {\n                var _a;\n                if (this._model) {\n                    (_a = this._model.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this._model.root);\n                }\n                this._model = undefined;\n            },\n            exists: () => {\n                return !!this._model;\n            },\n            getElements: (event, outline) => {\n                const changed = this._outline !== outline;\n                this._outline = outline;\n                if (this._model) {\n                    this._model.changed = changed;\n                    return this._model;\n                }\n                const container = this.createContainer();\n                const anchor = this.createAnchor();\n                this._model = { root: container, overlay: anchor, changed };\n                container.appendChild(anchor);\n                this.element.appendChild(container);\n                if ((event === null || event === void 0 ? void 0 : event.target) instanceof HTMLElement) {\n                    const targetBox = event.target.getBoundingClientRect();\n                    const box = this.element.getBoundingClientRect();\n                    anchor.style.left = `${targetBox.left - box.left}px`;\n                    anchor.style.top = `${targetBox.top - box.top}px`;\n                }\n                return this._model;\n            },\n        };\n    }\n    constructor(element, options) {\n        super();\n        this.element = element;\n        this._disabled = false;\n        this._disabled = options.disabled;\n        this.addDisposables(Disposable.from(() => {\n            var _a;\n            (_a = this.model) === null || _a === void 0 ? void 0 : _a.clear();\n        }));\n    }\n    createContainer() {\n        const el = document.createElement('div');\n        el.className = 'dv-drop-target-container';\n        return el;\n    }\n    createAnchor() {\n        const el = document.createElement('div');\n        el.className = 'dv-drop-target-anchor';\n        el.style.visibility = 'hidden';\n        return el;\n    }\n}\n\nconst DEFAULT_ROOT_OVERLAY_MODEL = {\n    activationSize: { type: 'pixels', value: 10 },\n    size: { type: 'pixels', value: 20 },\n};\nfunction moveGroupWithoutDestroying(options) {\n    const activePanel = options.from.activePanel;\n    const panels = [...options.from.panels].map((panel) => {\n        const removedPanel = options.from.model.removePanel(panel);\n        options.from.model.renderContainer.detatch(panel);\n        return removedPanel;\n    });\n    panels.forEach((panel) => {\n        options.to.model.openPanel(panel, {\n            skipSetActive: activePanel !== panel,\n            skipSetGroupActive: true,\n        });\n    });\n}\nclass DockviewComponent extends BaseGrid {\n    get orientation() {\n        return this.gridview.orientation;\n    }\n    get totalPanels() {\n        return this.panels.length;\n    }\n    get panels() {\n        return this.groups.flatMap((group) => group.panels);\n    }\n    get options() {\n        return this._options;\n    }\n    get activePanel() {\n        const activeGroup = this.activeGroup;\n        if (!activeGroup) {\n            return undefined;\n        }\n        return activeGroup.activePanel;\n    }\n    get renderer() {\n        var _a;\n        return (_a = this.options.defaultRenderer) !== null && _a !== void 0 ? _a : 'onlyWhenVisible';\n    }\n    get defaultHeaderPosition() {\n        var _a;\n        return (_a = this.options.defaultHeaderPosition) !== null && _a !== void 0 ? _a : 'top';\n    }\n    get api() {\n        return this._api;\n    }\n    get floatingGroups() {\n        return this._floatingGroups;\n    }\n    /**\n     * Promise that resolves when all popout groups from the last fromJSON call are restored.\n     * Useful for tests that need to wait for delayed popout creation.\n     */\n    get popoutRestorationPromise() {\n        return this._popoutRestorationPromise;\n    }\n    constructor(container, options) {\n        var _a, _b, _c;\n        super(container, {\n            proportionalLayout: true,\n            orientation: Orientation.HORIZONTAL,\n            styles: options.hideBorders\n                ? { separatorBorder: 'transparent' }\n                : undefined,\n            disableAutoResizing: options.disableAutoResizing,\n            locked: options.locked,\n            margin: (_b = (_a = options.theme) === null || _a === void 0 ? void 0 : _a.gap) !== null && _b !== void 0 ? _b : 0,\n            className: options.className,\n        });\n        this.nextGroupId = sequentialNumberGenerator();\n        this._deserializer = new DefaultDockviewDeserialzier(this);\n        this._watermark = null;\n        this._onWillDragPanel = new Emitter();\n        this.onWillDragPanel = this._onWillDragPanel.event;\n        this._onWillDragGroup = new Emitter();\n        this.onWillDragGroup = this._onWillDragGroup.event;\n        this._onDidDrop = new Emitter();\n        this.onDidDrop = this._onDidDrop.event;\n        this._onWillDrop = new Emitter();\n        this.onWillDrop = this._onWillDrop.event;\n        this._onWillShowOverlay = new Emitter();\n        this.onWillShowOverlay = this._onWillShowOverlay.event;\n        this._onUnhandledDragOverEvent = new Emitter();\n        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;\n        this._onDidRemovePanel = new Emitter();\n        this.onDidRemovePanel = this._onDidRemovePanel.event;\n        this._onDidAddPanel = new Emitter();\n        this.onDidAddPanel = this._onDidAddPanel.event;\n        this._onDidPopoutGroupSizeChange = new Emitter();\n        this.onDidPopoutGroupSizeChange = this._onDidPopoutGroupSizeChange.event;\n        this._onDidPopoutGroupPositionChange = new Emitter();\n        this.onDidPopoutGroupPositionChange = this._onDidPopoutGroupPositionChange.event;\n        this._onDidOpenPopoutWindowFail = new Emitter();\n        this.onDidOpenPopoutWindowFail = this._onDidOpenPopoutWindowFail.event;\n        this._onDidLayoutFromJSON = new Emitter();\n        this.onDidLayoutFromJSON = this._onDidLayoutFromJSON.event;\n        this._onDidActivePanelChange = new Emitter({ replay: true });\n        this.onDidActivePanelChange = this._onDidActivePanelChange.event;\n        this._onDidMovePanel = new Emitter();\n        this.onDidMovePanel = this._onDidMovePanel.event;\n        this._onDidMaximizedGroupChange = new Emitter();\n        this.onDidMaximizedGroupChange = this._onDidMaximizedGroupChange.event;\n        this._floatingGroups = [];\n        this._popoutGroups = [];\n        this._popoutRestorationPromise = Promise.resolve();\n        this._onDidRemoveGroup = new Emitter();\n        this.onDidRemoveGroup = this._onDidRemoveGroup.event;\n        this._onDidAddGroup = new Emitter();\n        this.onDidAddGroup = this._onDidAddGroup.event;\n        this._onDidOptionsChange = new Emitter();\n        this.onDidOptionsChange = this._onDidOptionsChange.event;\n        this._onDidActiveGroupChange = new Emitter();\n        this.onDidActiveGroupChange = this._onDidActiveGroupChange.event;\n        this._moving = false;\n        this._options = options;\n        this.popupService = new PopupService(this.element);\n        this._themeClassnames = new Classnames(this.element);\n        this._api = new DockviewApi(this);\n        this.rootDropTargetContainer = new DropTargetAnchorContainer(this.element, { disabled: true });\n        this.overlayRenderContainer = new OverlayRenderContainer(this.gridview.element, this);\n        this._rootDropTarget = new Droptarget(this.element, {\n            className: 'dv-drop-target-edge',\n            canDisplayOverlay: (event, position) => {\n                const data = getPanelData();\n                if (data) {\n                    if (data.viewId !== this.id) {\n                        return false;\n                    }\n                    if (position === 'center') {\n                        // center drop target is only allowed if there are no panels in the grid\n                        // floating panels are allowed\n                        return this.gridview.length === 0;\n                    }\n                    return true;\n                }\n                if (position === 'center' && this.gridview.length !== 0) {\n                    /**\n                     * for external events only show the four-corner drag overlays, disable\n                     * the center position so that external drag events can fall through to the group\n                     * and panel drop target handlers\n                     */\n                    return false;\n                }\n                const firedEvent = new DockviewUnhandledDragOverEvent(event, 'edge', position, getPanelData);\n                this._onUnhandledDragOverEvent.fire(firedEvent);\n                return firedEvent.isAccepted;\n            },\n            acceptedTargetZones: ['top', 'bottom', 'left', 'right', 'center'],\n            overlayModel: (_c = options.rootOverlayModel) !== null && _c !== void 0 ? _c : DEFAULT_ROOT_OVERLAY_MODEL,\n            getOverrideTarget: () => { var _a; return (_a = this.rootDropTargetContainer) === null || _a === void 0 ? void 0 : _a.model; },\n        });\n        this.updateDropTargetModel(options);\n        toggleClass(this.gridview.element, 'dv-dockview', true);\n        toggleClass(this.element, 'dv-debug', !!options.debug);\n        this.updateTheme();\n        this.updateWatermark();\n        if (options.debug) {\n            this.addDisposables(new StrictEventsSequencing(this));\n        }\n        this.addDisposables(this.rootDropTargetContainer, this.overlayRenderContainer, this._onWillDragPanel, this._onWillDragGroup, this._onWillShowOverlay, this._onDidActivePanelChange, this._onDidAddPanel, this._onDidRemovePanel, this._onDidLayoutFromJSON, this._onDidDrop, this._onWillDrop, this._onDidMovePanel, this._onDidMovePanel.event(() => {\n            /**\n             * Update overlay positions after DOM layout completes to prevent 00 dimensions.\n             * With defaultRenderer=\"always\" this results in panel content not showing after move operations.\n             * Debounced to avoid multiple calls when moving groups with multiple panels.\n             */\n            this.debouncedUpdateAllPositions();\n        }), this._onDidAddGroup, this._onDidRemoveGroup, this._onDidActiveGroupChange, this._onUnhandledDragOverEvent, this._onDidMaximizedGroupChange, this._onDidOptionsChange, this._onDidPopoutGroupSizeChange, this._onDidPopoutGroupPositionChange, this._onDidOpenPopoutWindowFail, this.onDidViewVisibilityChangeMicroTaskQueue(() => {\n            this.updateWatermark();\n        }), this.onDidAdd((event) => {\n            if (!this._moving) {\n                this._onDidAddGroup.fire(event);\n            }\n        }), this.onDidRemove((event) => {\n            if (!this._moving) {\n                this._onDidRemoveGroup.fire(event);\n            }\n        }), this.onDidActiveChange((event) => {\n            if (!this._moving) {\n                this._onDidActiveGroupChange.fire(event);\n            }\n        }), this.onDidMaximizedChange((event) => {\n            this._onDidMaximizedGroupChange.fire({\n                group: event.panel,\n                isMaximized: event.isMaximized,\n            });\n        }), Event.any(this.onDidAdd, this.onDidRemove)(() => {\n            this.updateWatermark();\n        }), Event.any(this.onDidAddPanel, this.onDidRemovePanel, this.onDidAddGroup, this.onDidRemove, this.onDidMovePanel, this.onDidActivePanelChange, this.onDidPopoutGroupPositionChange, this.onDidPopoutGroupSizeChange)(() => {\n            this._bufferOnDidLayoutChange.fire();\n        }), Disposable.from(() => {\n            // iterate over a copy of the array since .dispose() mutates the original array\n            for (const group of [...this._floatingGroups]) {\n                group.dispose();\n            }\n            // iterate over a copy of the array since .dispose() mutates the original array\n            for (const group of [...this._popoutGroups]) {\n                group.disposable.dispose();\n            }\n        }), this._rootDropTarget, this._rootDropTarget.onWillShowOverlay((event) => {\n            if (this.gridview.length > 0 && event.position === 'center') {\n                // option only available when no panels in primary grid\n                return;\n            }\n            this._onWillShowOverlay.fire(new DockviewWillShowOverlayLocationEvent(event, {\n                kind: 'edge',\n                panel: undefined,\n                api: this._api,\n                group: undefined,\n                getData: getPanelData,\n            }));\n        }), this._rootDropTarget.onDrop((event) => {\n            var _a;\n            const willDropEvent = new DockviewWillDropEvent({\n                nativeEvent: event.nativeEvent,\n                position: event.position,\n                panel: undefined,\n                api: this._api,\n                group: undefined,\n                getData: getPanelData,\n                kind: 'edge',\n            });\n            this._onWillDrop.fire(willDropEvent);\n            if (willDropEvent.defaultPrevented) {\n                return;\n            }\n            const data = getPanelData();\n            if (data) {\n                this.moveGroupOrPanel({\n                    from: {\n                        groupId: data.groupId,\n                        panelId: (_a = data.panelId) !== null && _a !== void 0 ? _a : undefined,\n                    },\n                    to: {\n                        group: this.orthogonalize(event.position),\n                        position: 'center',\n                    },\n                });\n            }\n            else {\n                this._onDidDrop.fire(new DockviewDidDropEvent({\n                    nativeEvent: event.nativeEvent,\n                    position: event.position,\n                    panel: undefined,\n                    api: this._api,\n                    group: undefined,\n                    getData: getPanelData,\n                }));\n            }\n        }), this._rootDropTarget);\n    }\n    setVisible(panel, visible) {\n        switch (panel.api.location.type) {\n            case 'grid':\n                super.setVisible(panel, visible);\n                break;\n            case 'floating': {\n                const item = this.floatingGroups.find((floatingGroup) => floatingGroup.group === panel);\n                if (item) {\n                    item.overlay.setVisible(visible);\n                    panel.api._onDidVisibilityChange.fire({\n                        isVisible: visible,\n                    });\n                }\n                break;\n            }\n            case 'popout':\n                console.warn('dockview: You cannot hide a group that is in a popout window');\n                break;\n        }\n    }\n    addPopoutGroup(itemToPopout, options) {\n        var _a, _b, _c, _d, _e;\n        if (itemToPopout instanceof DockviewPanel &&\n            itemToPopout.group.size === 1) {\n            return this.addPopoutGroup(itemToPopout.group, options);\n        }\n        const theme = getDockviewTheme(this.gridview.element);\n        const element = this.element;\n        function getBox() {\n            if (options === null || options === void 0 ? void 0 : options.position) {\n                return options.position;\n            }\n            if (itemToPopout instanceof DockviewGroupPanel) {\n                return itemToPopout.element.getBoundingClientRect();\n            }\n            if (itemToPopout.group) {\n                return itemToPopout.group.element.getBoundingClientRect();\n            }\n            return element.getBoundingClientRect();\n        }\n        const box = getBox();\n        const groupId = (_b = (_a = options === null || options === void 0 ? void 0 : options.overridePopoutGroup) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : this.getNextGroupId();\n        const _window = new PopoutWindow(`${this.id}-${groupId}`, // unique id\n        theme !== null && theme !== void 0 ? theme : '', {\n            url: (_e = (_c = options === null || options === void 0 ? void 0 : options.popoutUrl) !== null && _c !== void 0 ? _c : (_d = this.options) === null || _d === void 0 ? void 0 : _d.popoutUrl) !== null && _e !== void 0 ? _e : '/popout.html',\n            left: window.screenX + box.left,\n            top: window.screenY + box.top,\n            width: box.width,\n            height: box.height,\n            onDidOpen: options === null || options === void 0 ? void 0 : options.onDidOpen,\n            onWillClose: options === null || options === void 0 ? void 0 : options.onWillClose,\n        });\n        const popoutWindowDisposable = new CompositeDisposable(_window, _window.onDidClose(() => {\n            popoutWindowDisposable.dispose();\n        }));\n        return _window\n            .open()\n            .then((popoutContainer) => {\n            var _a;\n            if (_window.isDisposed) {\n                return false;\n            }\n            const referenceGroup = (options === null || options === void 0 ? void 0 : options.referenceGroup)\n                ? options.referenceGroup\n                : itemToPopout instanceof DockviewPanel\n                    ? itemToPopout.group\n                    : itemToPopout;\n            const referenceLocation = itemToPopout.api.location.type;\n            /**\n             * The group that is being added doesn't already exist within the DOM, the most likely occurrence\n             * of this case is when being called from the `fromJSON(...)` method\n             */\n            const isGroupAddedToDom = referenceGroup.element.parentElement !== null;\n            let group;\n            if (!isGroupAddedToDom) {\n                group = referenceGroup;\n            }\n            else if (options === null || options === void 0 ? void 0 : options.overridePopoutGroup) {\n                group = options.overridePopoutGroup;\n            }\n            else {\n                group = this.createGroup({ id: groupId });\n                if (popoutContainer) {\n                    this._onDidAddGroup.fire(group);\n                }\n            }\n            if (popoutContainer === null) {\n                console.error('dockview: failed to create popout. perhaps you need to allow pop-ups for this website');\n                popoutWindowDisposable.dispose();\n                this._onDidOpenPopoutWindowFail.fire();\n                // if the popout window was blocked, we need to move the group back to the reference group\n                // and set it to visible\n                this.movingLock(() => moveGroupWithoutDestroying({\n                    from: group,\n                    to: referenceGroup,\n                }));\n                if (!referenceGroup.api.isVisible) {\n                    referenceGroup.api.setVisible(true);\n                }\n                return false;\n            }\n            const gready = document.createElement('div');\n            gready.className = 'dv-overlay-render-container';\n            const overlayRenderContainer = new OverlayRenderContainer(gready, this);\n            group.model.renderContainer = overlayRenderContainer;\n            group.layout(_window.window.innerWidth, _window.window.innerHeight);\n            let floatingBox;\n            if (!(options === null || options === void 0 ? void 0 : options.overridePopoutGroup) && isGroupAddedToDom) {\n                if (itemToPopout instanceof DockviewPanel) {\n                    this.movingLock(() => {\n                        const panel = referenceGroup.model.removePanel(itemToPopout);\n                        group.model.openPanel(panel);\n                    });\n                }\n                else {\n                    this.movingLock(() => moveGroupWithoutDestroying({\n                        from: referenceGroup,\n                        to: group,\n                    }));\n                    switch (referenceLocation) {\n                        case 'grid':\n                            referenceGroup.api.setVisible(false);\n                            break;\n                        case 'floating':\n                        case 'popout':\n                            floatingBox = (_a = this._floatingGroups\n                                .find((value) => value.group.api.id ===\n                                itemToPopout.api.id)) === null || _a === void 0 ? void 0 : _a.overlay.toJSON();\n                            this.removeGroup(referenceGroup);\n                            break;\n                    }\n                }\n            }\n            popoutContainer.classList.add('dv-dockview');\n            popoutContainer.style.overflow = 'hidden';\n            popoutContainer.appendChild(gready);\n            popoutContainer.appendChild(group.element);\n            const anchor = document.createElement('div');\n            const dropTargetContainer = new DropTargetAnchorContainer(anchor, { disabled: this.rootDropTargetContainer.disabled });\n            popoutContainer.appendChild(anchor);\n            group.model.dropTargetContainer = dropTargetContainer;\n            group.model.location = {\n                type: 'popout',\n                getWindow: () => _window.window,\n                popoutUrl: options === null || options === void 0 ? void 0 : options.popoutUrl,\n            };\n            if (isGroupAddedToDom &&\n                itemToPopout.api.location.type === 'grid') {\n                itemToPopout.api.setVisible(false);\n            }\n            this.doSetGroupAndPanelActive(group);\n            popoutWindowDisposable.addDisposables(group.api.onDidActiveChange((event) => {\n                var _a;\n                if (event.isActive) {\n                    (_a = _window.window) === null || _a === void 0 ? void 0 : _a.focus();\n                }\n            }), group.api.onWillFocus(() => {\n                var _a;\n                (_a = _window.window) === null || _a === void 0 ? void 0 : _a.focus();\n            }));\n            let returnedGroup;\n            const isValidReferenceGroup = isGroupAddedToDom &&\n                referenceGroup &&\n                this.getPanel(referenceGroup.id);\n            const value = {\n                window: _window,\n                popoutGroup: group,\n                referenceGroup: isValidReferenceGroup\n                    ? referenceGroup.id\n                    : undefined,\n                disposable: {\n                    dispose: () => {\n                        popoutWindowDisposable.dispose();\n                        return returnedGroup;\n                    },\n                },\n            };\n            const _onDidWindowPositionChange = onDidWindowMoveEnd(_window.window);\n            popoutWindowDisposable.addDisposables(_onDidWindowPositionChange, onDidWindowResizeEnd(_window.window, () => {\n                this._onDidPopoutGroupSizeChange.fire({\n                    width: _window.window.innerWidth,\n                    height: _window.window.innerHeight,\n                    group,\n                });\n            }), _onDidWindowPositionChange.event(() => {\n                this._onDidPopoutGroupPositionChange.fire({\n                    screenX: _window.window.screenX,\n                    screenY: _window.window.screenX,\n                    group,\n                });\n            }), \n            /**\n             * ResizeObserver seems slow here, I do not know why but we don't need it\n             * since we can reply on the window resize event as we will occupy the full\n             * window dimensions\n             */\n            addDisposableListener(_window.window, 'resize', () => {\n                group.layout(_window.window.innerWidth, _window.window.innerHeight);\n            }), overlayRenderContainer, Disposable.from(() => {\n                if (this.isDisposed) {\n                    return; // cleanup may run after instance is disposed\n                }\n                if (isGroupAddedToDom &&\n                    this.getPanel(referenceGroup.id)) {\n                    this.movingLock(() => moveGroupWithoutDestroying({\n                        from: group,\n                        to: referenceGroup,\n                    }));\n                    if (!referenceGroup.api.isVisible) {\n                        referenceGroup.api.setVisible(true);\n                    }\n                    if (this.getPanel(group.id)) {\n                        this.doRemoveGroup(group, {\n                            skipPopoutAssociated: true,\n                        });\n                    }\n                }\n                else if (this.getPanel(group.id)) {\n                    group.model.renderContainer =\n                        this.overlayRenderContainer;\n                    group.model.dropTargetContainer =\n                        this.rootDropTargetContainer;\n                    returnedGroup = group;\n                    const alreadyRemoved = !this._popoutGroups.find((p) => p.popoutGroup === group);\n                    if (alreadyRemoved) {\n                        /**\n                         * If this popout group was explicitly removed then we shouldn't run the additional\n                         * steps. To tell if the running of this disposable is the result of this popout group\n                         * being explicitly removed we can check if this popout group is still referenced in\n                         * the `this._popoutGroups` list.\n                         */\n                        return;\n                    }\n                    if (floatingBox) {\n                        this.addFloatingGroup(group, {\n                            height: floatingBox.height,\n                            width: floatingBox.width,\n                            position: floatingBox,\n                        });\n                    }\n                    else {\n                        this.doRemoveGroup(group, {\n                            skipDispose: true,\n                            skipActive: true,\n                            skipPopoutReturn: true,\n                        });\n                        group.model.location = { type: 'grid' };\n                        this.movingLock(() => {\n                            // suppress group add events since the group already exists\n                            this.doAddGroup(group, [0]);\n                        });\n                    }\n                    this.doSetGroupAndPanelActive(group);\n                }\n            }));\n            this._popoutGroups.push(value);\n            this.updateWatermark();\n            return true;\n        })\n            .catch((err) => {\n            console.error('dockview: failed to create popout.', err);\n            return false;\n        });\n    }\n    addFloatingGroup(item, options) {\n        var _a, _b, _c, _d, _e;\n        let group;\n        if (item instanceof DockviewPanel) {\n            group = this.createGroup();\n            this._onDidAddGroup.fire(group);\n            this.movingLock(() => this.removePanel(item, {\n                removeEmptyGroup: true,\n                skipDispose: true,\n                skipSetActiveGroup: true,\n            }));\n            this.movingLock(() => group.model.openPanel(item, { skipSetGroupActive: true }));\n        }\n        else {\n            group = item;\n            const popoutReferenceGroupId = (_a = this._popoutGroups.find((_) => _.popoutGroup === group)) === null || _a === void 0 ? void 0 : _a.referenceGroup;\n            const popoutReferenceGroup = popoutReferenceGroupId\n                ? this.getPanel(popoutReferenceGroupId)\n                : undefined;\n            const skip = typeof (options === null || options === void 0 ? void 0 : options.skipRemoveGroup) === 'boolean' &&\n                options.skipRemoveGroup;\n            if (!skip) {\n                if (popoutReferenceGroup) {\n                    this.movingLock(() => moveGroupWithoutDestroying({\n                        from: item,\n                        to: popoutReferenceGroup,\n                    }));\n                    this.doRemoveGroup(item, {\n                        skipPopoutReturn: true,\n                        skipPopoutAssociated: true,\n                    });\n                    this.doRemoveGroup(popoutReferenceGroup, {\n                        skipDispose: true,\n                    });\n                    group = popoutReferenceGroup;\n                }\n                else {\n                    this.doRemoveGroup(item, {\n                        skipDispose: true,\n                        skipPopoutReturn: true,\n                        skipPopoutAssociated: false,\n                    });\n                }\n            }\n        }\n        function getAnchoredBox() {\n            if (options === null || options === void 0 ? void 0 : options.position) {\n                const result = {};\n                if ('left' in options.position) {\n                    result.left = Math.max(options.position.left, 0);\n                }\n                else if ('right' in options.position) {\n                    result.right = Math.max(options.position.right, 0);\n                }\n                else {\n                    result.left = DEFAULT_FLOATING_GROUP_POSITION.left;\n                }\n                if ('top' in options.position) {\n                    result.top = Math.max(options.position.top, 0);\n                }\n                else if ('bottom' in options.position) {\n                    result.bottom = Math.max(options.position.bottom, 0);\n                }\n                else {\n                    result.top = DEFAULT_FLOATING_GROUP_POSITION.top;\n                }\n                if (typeof options.width === 'number') {\n                    result.width = Math.max(options.width, 0);\n                }\n                else {\n                    result.width = DEFAULT_FLOATING_GROUP_POSITION.width;\n                }\n                if (typeof options.height === 'number') {\n                    result.height = Math.max(options.height, 0);\n                }\n                else {\n                    result.height = DEFAULT_FLOATING_GROUP_POSITION.height;\n                }\n                return result;\n            }\n            return {\n                left: typeof (options === null || options === void 0 ? void 0 : options.x) === 'number'\n                    ? Math.max(options.x, 0)\n                    : DEFAULT_FLOATING_GROUP_POSITION.left,\n                top: typeof (options === null || options === void 0 ? void 0 : options.y) === 'number'\n                    ? Math.max(options.y, 0)\n                    : DEFAULT_FLOATING_GROUP_POSITION.top,\n                width: typeof (options === null || options === void 0 ? void 0 : options.width) === 'number'\n                    ? Math.max(options.width, 0)\n                    : DEFAULT_FLOATING_GROUP_POSITION.width,\n                height: typeof (options === null || options === void 0 ? void 0 : options.height) === 'number'\n                    ? Math.max(options.height, 0)\n                    : DEFAULT_FLOATING_GROUP_POSITION.height,\n            };\n        }\n        const anchoredBox = getAnchoredBox();\n        const overlay = new Overlay(Object.assign(Object.assign({ container: this.gridview.element, content: group.element }, anchoredBox), { minimumInViewportWidth: this.options.floatingGroupBounds === 'boundedWithinViewport'\n                ? undefined\n                : ((_c = (_b = this.options.floatingGroupBounds) === null || _b === void 0 ? void 0 : _b.minimumWidthWithinViewport) !== null && _c !== void 0 ? _c : DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE), minimumInViewportHeight: this.options.floatingGroupBounds === 'boundedWithinViewport'\n                ? undefined\n                : ((_e = (_d = this.options.floatingGroupBounds) === null || _d === void 0 ? void 0 : _d.minimumHeightWithinViewport) !== null && _e !== void 0 ? _e : DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE) }));\n        const el = group.element.querySelector('.dv-void-container');\n        if (!el) {\n            throw new Error('dockview: failed to find drag handle');\n        }\n        overlay.setupDrag(el, {\n            inDragMode: typeof (options === null || options === void 0 ? void 0 : options.inDragMode) === 'boolean'\n                ? options.inDragMode\n                : false,\n        });\n        const floatingGroupPanel = new DockviewFloatingGroupPanel(group, overlay);\n        const disposable = new CompositeDisposable(group.api.onDidActiveChange((event) => {\n            if (event.isActive) {\n                overlay.bringToFront();\n            }\n        }), watchElementResize(group.element, (entry) => {\n            const { width, height } = entry.contentRect;\n            group.layout(width, height); // let the group know it's size is changing so it can fire events to the panel\n        }));\n        floatingGroupPanel.addDisposables(overlay.onDidChange(() => {\n            // this is either a resize or a move\n            // to inform the panels .layout(...) the group with it's current size\n            // don't care about resize since the above watcher handles that\n            group.layout(group.width, group.height);\n        }), overlay.onDidChangeEnd(() => {\n            this._bufferOnDidLayoutChange.fire();\n        }), group.onDidChange((event) => {\n            overlay.setBounds({\n                height: event === null || event === void 0 ? void 0 : event.height,\n                width: event === null || event === void 0 ? void 0 : event.width,\n            });\n        }), {\n            dispose: () => {\n                disposable.dispose();\n                remove(this._floatingGroups, floatingGroupPanel);\n                group.model.location = { type: 'grid' };\n                this.updateWatermark();\n            },\n        });\n        this._floatingGroups.push(floatingGroupPanel);\n        group.model.location = { type: 'floating' };\n        if (!(options === null || options === void 0 ? void 0 : options.skipActiveGroup)) {\n            this.doSetGroupAndPanelActive(group);\n        }\n        this.updateWatermark();\n    }\n    orthogonalize(position, options) {\n        this.gridview.normalize();\n        switch (position) {\n            case 'top':\n            case 'bottom':\n                if (this.gridview.orientation === Orientation.HORIZONTAL) {\n                    // we need to add to a vertical splitview but the current root is a horizontal splitview.\n                    // insert a vertical splitview at the root level and add the existing view as a child\n                    this.gridview.insertOrthogonalSplitviewAtRoot();\n                }\n                break;\n            case 'left':\n            case 'right':\n                if (this.gridview.orientation === Orientation.VERTICAL) {\n                    // we need to add to a horizontal splitview but the current root is a vertical splitview.\n                    // insert a horiziontal splitview at the root level and add the existing view as a child\n                    this.gridview.insertOrthogonalSplitviewAtRoot();\n                }\n                break;\n        }\n        switch (position) {\n            case 'top':\n            case 'left':\n            case 'center':\n                return this.createGroupAtLocation([0], undefined, options); // insert into first position\n            case 'bottom':\n            case 'right':\n                return this.createGroupAtLocation([this.gridview.length], undefined, options); // insert into last position\n            default:\n                throw new Error(`dockview: unsupported position ${position}`);\n        }\n    }\n    updateOptions(options) {\n        var _a, _b;\n        super.updateOptions(options);\n        if ('floatingGroupBounds' in options) {\n            for (const group of this._floatingGroups) {\n                switch (options.floatingGroupBounds) {\n                    case 'boundedWithinViewport':\n                        group.overlay.minimumInViewportHeight = undefined;\n                        group.overlay.minimumInViewportWidth = undefined;\n                        break;\n                    case undefined:\n                        group.overlay.minimumInViewportHeight =\n                            DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE;\n                        group.overlay.minimumInViewportWidth =\n                            DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE;\n                        break;\n                    default:\n                        group.overlay.minimumInViewportHeight =\n                            (_a = options.floatingGroupBounds) === null || _a === void 0 ? void 0 : _a.minimumHeightWithinViewport;\n                        group.overlay.minimumInViewportWidth =\n                            (_b = options.floatingGroupBounds) === null || _b === void 0 ? void 0 : _b.minimumWidthWithinViewport;\n                }\n                group.overlay.setBounds();\n            }\n        }\n        this.updateDropTargetModel(options);\n        const oldDisableDnd = this.options.disableDnd;\n        this._options = Object.assign(Object.assign({}, this.options), options);\n        const newDisableDnd = this.options.disableDnd;\n        if (oldDisableDnd !== newDisableDnd) {\n            this.updateDragAndDropState();\n        }\n        if ('theme' in options) {\n            this.updateTheme();\n        }\n        if ('createRightHeaderActionComponent' in options ||\n            'createLeftHeaderActionComponent' in options ||\n            'createPrefixHeaderActionComponent' in options) {\n            for (const group of this.groups) {\n                group.model.updateHeaderActions();\n            }\n        }\n        this.layout(this.gridview.width, this.gridview.height, true);\n    }\n    layout(width, height, forceResize) {\n        super.layout(width, height, forceResize);\n        if (this._floatingGroups) {\n            for (const floating of this._floatingGroups) {\n                // ensure floting groups stay within visible boundaries\n                floating.overlay.setBounds();\n            }\n        }\n    }\n    updateDragAndDropState() {\n        // Update draggable state for all tabs and void containers\n        for (const group of this.groups) {\n            group.model.updateDragAndDropState();\n        }\n    }\n    focus() {\n        var _a;\n        (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    getGroupPanel(id) {\n        return this.panels.find((panel) => panel.id === id);\n    }\n    setActivePanel(panel) {\n        panel.group.model.openPanel(panel);\n        this.doSetGroupAndPanelActive(panel.group);\n    }\n    moveToNext(options = {}) {\n        var _a;\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n        if (options.includePanel && options.group) {\n            if (options.group.activePanel !==\n                options.group.panels[options.group.panels.length - 1]) {\n                options.group.model.moveToNext({ suppressRoll: true });\n                return;\n            }\n        }\n        const location = getGridLocation(options.group.element);\n        const next = (_a = this.gridview.next(location)) === null || _a === void 0 ? void 0 : _a.view;\n        this.doSetGroupAndPanelActive(next);\n    }\n    moveToPrevious(options = {}) {\n        var _a;\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n        if (options.includePanel && options.group) {\n            if (options.group.activePanel !== options.group.panels[0]) {\n                options.group.model.moveToPrevious({ suppressRoll: true });\n                return;\n            }\n        }\n        const location = getGridLocation(options.group.element);\n        const next = (_a = this.gridview.previous(location)) === null || _a === void 0 ? void 0 : _a.view;\n        if (next) {\n            this.doSetGroupAndPanelActive(next);\n        }\n    }\n    /**\n     * Serialize the current state of the layout\n     *\n     * @returns A JSON respresentation of the layout\n     */\n    toJSON() {\n        var _a;\n        const data = this.gridview.serialize();\n        const panels = this.panels.reduce((collection, panel) => {\n            collection[panel.id] = panel.toJSON();\n            return collection;\n        }, {});\n        const floats = this._floatingGroups.map((group) => {\n            return {\n                data: group.group.toJSON(),\n                position: group.overlay.toJSON(),\n            };\n        });\n        const popoutGroups = this._popoutGroups.map((group) => {\n            return {\n                data: group.popoutGroup.toJSON(),\n                gridReferenceGroup: group.referenceGroup,\n                position: group.window.dimensions(),\n                url: group.popoutGroup.api.location.type === 'popout'\n                    ? group.popoutGroup.api.location.popoutUrl\n                    : undefined,\n            };\n        });\n        const result = {\n            grid: data,\n            panels,\n            activeGroup: (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.id,\n        };\n        if (floats.length > 0) {\n            result.floatingGroups = floats;\n        }\n        if (popoutGroups.length > 0) {\n            result.popoutGroups = popoutGroups;\n        }\n        return result;\n    }\n    fromJSON(data, options) {\n        var _a, _b;\n        const existingPanels = new Map();\n        let tempGroup;\n        if (options === null || options === void 0 ? void 0 : options.reuseExistingPanels) {\n            /**\n             * What are we doing here?\n             *\n             * 1. Create a temporary group to hold any panels that currently exist and that also exist in the new layout\n             * 2. Remove that temporary group from the group mapping so that it doesn't get cleared when we clear the layout\n             */\n            tempGroup = this.createGroup();\n            this._groups.delete(tempGroup.api.id);\n            const newPanels = Object.keys(data.panels);\n            for (const panel of this.panels) {\n                if (newPanels.includes(panel.api.id)) {\n                    existingPanels.set(panel.api.id, panel);\n                }\n            }\n            this.movingLock(() => {\n                Array.from(existingPanels.values()).forEach((panel) => {\n                    this.moveGroupOrPanel({\n                        from: {\n                            groupId: panel.api.group.api.id,\n                            panelId: panel.api.id,\n                        },\n                        to: {\n                            group: tempGroup,\n                            position: 'center',\n                        },\n                        keepEmptyGroups: true,\n                    });\n                });\n            });\n        }\n        this.clear();\n        if (typeof data !== 'object' || data === null) {\n            throw new Error('dockview: serialized layout must be a non-null object');\n        }\n        const { grid, panels, activeGroup } = data;\n        if (grid.root.type !== 'branch' || !Array.isArray(grid.root.data)) {\n            throw new Error('dockview: root must be of type branch');\n        }\n        try {\n            // take note of the existing dimensions\n            const width = this.width;\n            const height = this.height;\n            const createGroupFromSerializedState = (data) => {\n                const { id, locked, hideHeader, headerPosition, views, activeView, } = data;\n                if (typeof id !== 'string') {\n                    throw new Error('dockview: group id must be of type string');\n                }\n                const group = this.createGroup({\n                    id,\n                    locked: !!locked,\n                    hideHeader: !!hideHeader,\n                    headerPosition,\n                });\n                this._onDidAddGroup.fire(group);\n                const createdPanels = [];\n                for (const child of views) {\n                    /**\n                     * Run the deserializer step seperately since this may fail to due corrupted external state.\n                     * In running this section first we avoid firing lots of 'add' events in the event of a failure\n                     * due to a corruption of input data.\n                     */\n                    const existingPanel = existingPanels.get(child);\n                    if (tempGroup && existingPanel) {\n                        this.movingLock(() => {\n                            tempGroup.model.removePanel(existingPanel);\n                        });\n                        createdPanels.push(existingPanel);\n                        existingPanel.updateFromStateModel(panels[child]);\n                    }\n                    else {\n                        const panel = this._deserializer.fromJSON(panels[child], group);\n                        createdPanels.push(panel);\n                    }\n                }\n                for (let i = 0; i < views.length; i++) {\n                    const panel = createdPanels[i];\n                    const isActive = typeof activeView === 'string' &&\n                        activeView === panel.id;\n                    const hasExisting = existingPanels.has(panel.api.id);\n                    if (hasExisting) {\n                        this.movingLock(() => {\n                            group.model.openPanel(panel, {\n                                skipSetActive: !isActive,\n                                skipSetGroupActive: true,\n                            });\n                        });\n                    }\n                    else {\n                        group.model.openPanel(panel, {\n                            skipSetActive: !isActive,\n                            skipSetGroupActive: true,\n                        });\n                    }\n                }\n                if (!group.activePanel && group.panels.length > 0) {\n                    group.model.openPanel(group.panels[group.panels.length - 1], {\n                        skipSetGroupActive: true,\n                    });\n                }\n                return group;\n            };\n            this.gridview.deserialize(grid, {\n                fromJSON: (node) => {\n                    return createGroupFromSerializedState(node.data);\n                },\n            });\n            this.layout(width, height, true);\n            const serializedFloatingGroups = (_a = data.floatingGroups) !== null && _a !== void 0 ? _a : [];\n            for (const serializedFloatingGroup of serializedFloatingGroups) {\n                const { data, position } = serializedFloatingGroup;\n                const group = createGroupFromSerializedState(data);\n                this.addFloatingGroup(group, {\n                    position: position,\n                    width: position.width,\n                    height: position.height,\n                    skipRemoveGroup: true,\n                    inDragMode: false,\n                });\n            }\n            const serializedPopoutGroups = (_b = data.popoutGroups) !== null && _b !== void 0 ? _b : [];\n            // Create a promise that resolves when all popout groups are created\n            const popoutPromises = [];\n            // Queue popup group creation with delays to avoid browser blocking\n            serializedPopoutGroups.forEach((serializedPopoutGroup, index) => {\n                const { data, position, gridReferenceGroup, url } = serializedPopoutGroup;\n                const group = createGroupFromSerializedState(data);\n                // Add a small delay for each popup after the first to avoid browser popup blocking\n                const popoutPromise = new Promise((resolve) => {\n                    setTimeout(() => {\n                        this.addPopoutGroup(group, {\n                            position: position !== null && position !== void 0 ? position : undefined,\n                            overridePopoutGroup: gridReferenceGroup\n                                ? group\n                                : undefined,\n                            referenceGroup: gridReferenceGroup\n                                ? this.getPanel(gridReferenceGroup)\n                                : undefined,\n                            popoutUrl: url,\n                        });\n                        resolve();\n                    }, index * DESERIALIZATION_POPOUT_DELAY_MS); // 100ms delay between each popup\n                });\n                popoutPromises.push(popoutPromise);\n            });\n            // Store the promise for tests to wait on\n            this._popoutRestorationPromise = Promise.all(popoutPromises).then(() => void 0);\n            for (const floatingGroup of this._floatingGroups) {\n                floatingGroup.overlay.setBounds();\n            }\n            if (typeof activeGroup === 'string') {\n                const panel = this.getPanel(activeGroup);\n                if (panel) {\n                    this.doSetGroupAndPanelActive(panel);\n                }\n            }\n        }\n        catch (err) {\n            console.error('dockview: failed to deserialize layout. Reverting changes', err);\n            /**\n             * Takes all the successfully created groups and remove all of their panels.\n             */\n            for (const group of this.groups) {\n                for (const panel of group.panels) {\n                    this.removePanel(panel, {\n                        removeEmptyGroup: false,\n                        skipDispose: false,\n                    });\n                }\n            }\n            /**\n             * To remove a group we cannot call this.removeGroup(...) since this makes assumptions about\n             * the underlying HTMLElement existing in the Gridview.\n             */\n            for (const group of this.groups) {\n                group.dispose();\n                this._groups.delete(group.id);\n                this._onDidRemoveGroup.fire(group);\n            }\n            // iterate over a reassigned array since original array will be modified\n            for (const floatingGroup of [...this._floatingGroups]) {\n                floatingGroup.dispose();\n            }\n            // fires clean-up events and clears the underlying HTML gridview.\n            this.clear();\n            /**\n             * even though we have cleaned-up we still want to inform the caller of their error\n             * and we'll do this through re-throwing the original error since afterall you would\n             * expect trying to load a corrupted layout to result in an error and not silently fail...\n             */\n            throw err;\n        }\n        this.updateWatermark();\n        // Force position updates for always visible panels after DOM layout is complete\n        this.debouncedUpdateAllPositions();\n        this._onDidLayoutFromJSON.fire();\n    }\n    clear() {\n        const groups = Array.from(this._groups.values()).map((_) => _.value);\n        const hasActiveGroup = !!this.activeGroup;\n        for (const group of groups) {\n            // remove the group will automatically remove the panels\n            this.removeGroup(group, { skipActive: true });\n        }\n        if (hasActiveGroup) {\n            this.doSetGroupAndPanelActive(undefined);\n        }\n        this.gridview.clear();\n    }\n    closeAllGroups() {\n        for (const entry of this._groups.entries()) {\n            const [_, group] = entry;\n            group.value.model.closeAllPanels();\n        }\n    }\n    addPanel(options) {\n        var _a, _b;\n        if (this.panels.find((_) => _.id === options.id)) {\n            throw new Error(`dockview: panel with id ${options.id} already exists`);\n        }\n        let referenceGroup;\n        if (options.position && options.floating) {\n            throw new Error('dockview: you can only provide one of: position, floating as arguments to .addPanel(...)');\n        }\n        const initial = {\n            width: options.initialWidth,\n            height: options.initialHeight,\n        };\n        let index;\n        if (options.position) {\n            if (isPanelOptionsWithPanel(options.position)) {\n                const referencePanel = typeof options.position.referencePanel === 'string'\n                    ? this.getGroupPanel(options.position.referencePanel)\n                    : options.position.referencePanel;\n                index = options.position.index;\n                if (!referencePanel) {\n                    throw new Error(`dockview: referencePanel '${options.position.referencePanel}' does not exist`);\n                }\n                referenceGroup = this.findGroup(referencePanel);\n            }\n            else if (isPanelOptionsWithGroup(options.position)) {\n                referenceGroup =\n                    typeof options.position.referenceGroup === 'string'\n                        ? (_a = this._groups.get(options.position.referenceGroup)) === null || _a === void 0 ? void 0 : _a.value\n                        : options.position.referenceGroup;\n                index = options.position.index;\n                if (!referenceGroup) {\n                    throw new Error(`dockview: referenceGroup '${options.position.referenceGroup}' does not exist`);\n                }\n            }\n            else {\n                const group = this.orthogonalize(directionToPosition(options.position.direction));\n                const panel = this.createPanel(options, group);\n                group.model.openPanel(panel, {\n                    skipSetActive: options.inactive,\n                    skipSetGroupActive: options.inactive,\n                    index,\n                });\n                if (!options.inactive) {\n                    this.doSetGroupAndPanelActive(group);\n                }\n                group.api.setSize({\n                    height: initial === null || initial === void 0 ? void 0 : initial.height,\n                    width: initial === null || initial === void 0 ? void 0 : initial.width,\n                });\n                return panel;\n            }\n        }\n        else {\n            referenceGroup = this.activeGroup;\n        }\n        let panel;\n        if (referenceGroup) {\n            const target = toTarget(((_b = options.position) === null || _b === void 0 ? void 0 : _b.direction) || 'within');\n            if (options.floating) {\n                const group = this.createGroup();\n                this._onDidAddGroup.fire(group);\n                const floatingGroupOptions = typeof options.floating === 'object' &&\n                    options.floating !== null\n                    ? options.floating\n                    : {};\n                this.addFloatingGroup(group, Object.assign(Object.assign({}, floatingGroupOptions), { inDragMode: false, skipRemoveGroup: true, skipActiveGroup: true }));\n                panel = this.createPanel(options, group);\n                group.model.openPanel(panel, {\n                    skipSetActive: options.inactive,\n                    skipSetGroupActive: options.inactive,\n                    index,\n                });\n            }\n            else if (referenceGroup.api.location.type === 'floating' ||\n                target === 'center') {\n                panel = this.createPanel(options, referenceGroup);\n                referenceGroup.model.openPanel(panel, {\n                    skipSetActive: options.inactive,\n                    skipSetGroupActive: options.inactive,\n                    index,\n                });\n                referenceGroup.api.setSize({\n                    width: initial === null || initial === void 0 ? void 0 : initial.width,\n                    height: initial === null || initial === void 0 ? void 0 : initial.height,\n                });\n                if (!options.inactive) {\n                    this.doSetGroupAndPanelActive(referenceGroup);\n                }\n            }\n            else {\n                const location = getGridLocation(referenceGroup.element);\n                const relativeLocation = getRelativeLocation(this.gridview.orientation, location, target);\n                const group = this.createGroupAtLocation(relativeLocation, this.orientationAtLocation(relativeLocation) ===\n                    Orientation.VERTICAL\n                    ? initial === null || initial === void 0 ? void 0 : initial.height\n                    : initial === null || initial === void 0 ? void 0 : initial.width);\n                panel = this.createPanel(options, group);\n                group.model.openPanel(panel, {\n                    skipSetActive: options.inactive,\n                    skipSetGroupActive: options.inactive,\n                    index,\n                });\n                if (!options.inactive) {\n                    this.doSetGroupAndPanelActive(group);\n                }\n            }\n        }\n        else if (options.floating) {\n            const group = this.createGroup();\n            this._onDidAddGroup.fire(group);\n            const coordinates = typeof options.floating === 'object' &&\n                options.floating !== null\n                ? options.floating\n                : {};\n            this.addFloatingGroup(group, Object.assign(Object.assign({}, coordinates), { inDragMode: false, skipRemoveGroup: true, skipActiveGroup: true }));\n            panel = this.createPanel(options, group);\n            group.model.openPanel(panel, {\n                skipSetActive: options.inactive,\n                skipSetGroupActive: options.inactive,\n                index,\n            });\n        }\n        else {\n            const group = this.createGroupAtLocation([0], this.gridview.orientation === Orientation.VERTICAL\n                ? initial === null || initial === void 0 ? void 0 : initial.height\n                : initial === null || initial === void 0 ? void 0 : initial.width);\n            panel = this.createPanel(options, group);\n            group.model.openPanel(panel, {\n                skipSetActive: options.inactive,\n                skipSetGroupActive: options.inactive,\n                index,\n            });\n            if (!options.inactive) {\n                this.doSetGroupAndPanelActive(group);\n            }\n        }\n        return panel;\n    }\n    removePanel(panel, options = {\n        removeEmptyGroup: true,\n    }) {\n        const group = panel.group;\n        if (!group) {\n            throw new Error(`dockview: cannot remove panel ${panel.id}. it's missing a group.`);\n        }\n        group.model.removePanel(panel, {\n            skipSetActiveGroup: options.skipSetActiveGroup,\n        });\n        if (!options.skipDispose) {\n            panel.group.model.renderContainer.detatch(panel);\n            panel.dispose();\n        }\n        if (group.size === 0 && options.removeEmptyGroup) {\n            this.removeGroup(group, { skipActive: options.skipSetActiveGroup });\n        }\n    }\n    createWatermarkComponent() {\n        if (this.options.createWatermarkComponent) {\n            return this.options.createWatermarkComponent();\n        }\n        return new Watermark();\n    }\n    updateWatermark() {\n        var _a, _b;\n        if (this.groups.filter((x) => x.api.location.type === 'grid' && x.api.isVisible).length === 0) {\n            if (!this._watermark) {\n                this._watermark = this.createWatermarkComponent();\n                this._watermark.init({\n                    containerApi: new DockviewApi(this),\n                });\n                const watermarkContainer = document.createElement('div');\n                watermarkContainer.className = 'dv-watermark-container';\n                addTestId(watermarkContainer, 'watermark-component');\n                watermarkContainer.appendChild(this._watermark.element);\n                this.gridview.element.appendChild(watermarkContainer);\n            }\n        }\n        else if (this._watermark) {\n            this._watermark.element.parentElement.remove();\n            (_b = (_a = this._watermark).dispose) === null || _b === void 0 ? void 0 : _b.call(_a);\n            this._watermark = null;\n        }\n    }\n    addGroup(options) {\n        var _a;\n        if (options) {\n            let referenceGroup;\n            if (isGroupOptionsWithPanel(options)) {\n                const referencePanel = typeof options.referencePanel === 'string'\n                    ? this.panels.find((panel) => panel.id === options.referencePanel)\n                    : options.referencePanel;\n                if (!referencePanel) {\n                    throw new Error(`dockview: reference panel ${options.referencePanel} does not exist`);\n                }\n                referenceGroup = this.findGroup(referencePanel);\n                if (!referenceGroup) {\n                    throw new Error(`dockview: reference group for reference panel ${options.referencePanel} does not exist`);\n                }\n            }\n            else if (isGroupOptionsWithGroup(options)) {\n                referenceGroup =\n                    typeof options.referenceGroup === 'string'\n                        ? (_a = this._groups.get(options.referenceGroup)) === null || _a === void 0 ? void 0 : _a.value\n                        : options.referenceGroup;\n                if (!referenceGroup) {\n                    throw new Error(`dockview: reference group ${options.referenceGroup} does not exist`);\n                }\n            }\n            else {\n                const group = this.orthogonalize(directionToPosition(options.direction), options);\n                if (!options.skipSetActive) {\n                    this.doSetGroupAndPanelActive(group);\n                }\n                return group;\n            }\n            const target = toTarget(options.direction || 'within');\n            const location = getGridLocation(referenceGroup.element);\n            const relativeLocation = getRelativeLocation(this.gridview.orientation, location, target);\n            const group = this.createGroup(options);\n            const size = this.getLocationOrientation(relativeLocation) ===\n                Orientation.VERTICAL\n                ? options.initialHeight\n                : options.initialWidth;\n            this.doAddGroup(group, relativeLocation, size);\n            if (!options.skipSetActive) {\n                this.doSetGroupAndPanelActive(group);\n            }\n            return group;\n        }\n        else {\n            const group = this.createGroup(options);\n            this.doAddGroup(group);\n            this.doSetGroupAndPanelActive(group);\n            return group;\n        }\n    }\n    getLocationOrientation(location) {\n        return location.length % 2 == 0 &&\n            this.gridview.orientation === Orientation.HORIZONTAL\n            ? Orientation.HORIZONTAL\n            : Orientation.VERTICAL;\n    }\n    removeGroup(group, options) {\n        this.doRemoveGroup(group, options);\n    }\n    doRemoveGroup(group, options) {\n        var _a;\n        const panels = [...group.panels]; // reassign since group panels will mutate\n        if (!(options === null || options === void 0 ? void 0 : options.skipDispose)) {\n            for (const panel of panels) {\n                this.removePanel(panel, {\n                    removeEmptyGroup: false,\n                    skipDispose: (_a = options === null || options === void 0 ? void 0 : options.skipDispose) !== null && _a !== void 0 ? _a : false,\n                });\n            }\n        }\n        const activePanel = this.activePanel;\n        if (group.api.location.type === 'floating') {\n            const floatingGroup = this._floatingGroups.find((_) => _.group === group);\n            if (floatingGroup) {\n                if (!(options === null || options === void 0 ? void 0 : options.skipDispose)) {\n                    floatingGroup.group.dispose();\n                    this._groups.delete(group.id);\n                    this._onDidRemoveGroup.fire(group);\n                }\n                remove(this._floatingGroups, floatingGroup);\n                floatingGroup.dispose();\n                if (!(options === null || options === void 0 ? void 0 : options.skipActive) && this._activeGroup === group) {\n                    const groups = Array.from(this._groups.values());\n                    this.doSetGroupAndPanelActive(groups.length > 0 ? groups[0].value : undefined);\n                }\n                return floatingGroup.group;\n            }\n            throw new Error('dockview: failed to find floating group');\n        }\n        if (group.api.location.type === 'popout') {\n            const selectedGroup = this._popoutGroups.find((_) => _.popoutGroup === group);\n            if (selectedGroup) {\n                if (!(options === null || options === void 0 ? void 0 : options.skipDispose)) {\n                    if (!(options === null || options === void 0 ? void 0 : options.skipPopoutAssociated)) {\n                        const refGroup = selectedGroup.referenceGroup\n                            ? this.getPanel(selectedGroup.referenceGroup)\n                            : undefined;\n                        if (refGroup && refGroup.panels.length === 0) {\n                            this.removeGroup(refGroup);\n                        }\n                    }\n                    selectedGroup.popoutGroup.dispose();\n                    this._groups.delete(group.id);\n                    this._onDidRemoveGroup.fire(group);\n                }\n                remove(this._popoutGroups, selectedGroup);\n                const removedGroup = selectedGroup.disposable.dispose();\n                if (!(options === null || options === void 0 ? void 0 : options.skipPopoutReturn) && removedGroup) {\n                    this.doAddGroup(removedGroup, [0]);\n                    this.doSetGroupAndPanelActive(removedGroup);\n                }\n                if (!(options === null || options === void 0 ? void 0 : options.skipActive) && this._activeGroup === group) {\n                    const groups = Array.from(this._groups.values());\n                    this.doSetGroupAndPanelActive(groups.length > 0 ? groups[0].value : undefined);\n                }\n                this.updateWatermark();\n                return selectedGroup.popoutGroup;\n            }\n            throw new Error('dockview: failed to find popout group');\n        }\n        const re = super.doRemoveGroup(group, options);\n        if (!(options === null || options === void 0 ? void 0 : options.skipActive)) {\n            if (this.activePanel !== activePanel) {\n                this._onDidActivePanelChange.fire(this.activePanel);\n            }\n        }\n        return re;\n    }\n    debouncedUpdateAllPositions() {\n        if (this._updatePositionsFrameId !== undefined) {\n            cancelAnimationFrame(this._updatePositionsFrameId);\n        }\n        this._updatePositionsFrameId = requestAnimationFrame(() => {\n            this._updatePositionsFrameId = undefined;\n            this.overlayRenderContainer.updateAllPositions();\n        });\n    }\n    movingLock(func) {\n        const isMoving = this._moving;\n        try {\n            this._moving = true;\n            return func();\n        }\n        finally {\n            this._moving = isMoving;\n        }\n    }\n    moveGroupOrPanel(options) {\n        var _a;\n        const destinationGroup = options.to.group;\n        const sourceGroupId = options.from.groupId;\n        const sourceItemId = options.from.panelId;\n        const destinationTarget = options.to.position;\n        const destinationIndex = options.to.index;\n        const sourceGroup = sourceGroupId\n            ? (_a = this._groups.get(sourceGroupId)) === null || _a === void 0 ? void 0 : _a.value\n            : undefined;\n        if (!sourceGroup) {\n            throw new Error(`dockview: Failed to find group id ${sourceGroupId}`);\n        }\n        if (sourceItemId === undefined) {\n            /**\n             * Moving an entire group into another group\n             */\n            this.moveGroup({\n                from: { group: sourceGroup },\n                to: {\n                    group: destinationGroup,\n                    position: destinationTarget,\n                },\n                skipSetActive: options.skipSetActive,\n            });\n            return;\n        }\n        if (!destinationTarget || destinationTarget === 'center') {\n            /**\n             * Dropping a panel within another group\n             */\n            const removedPanel = this.movingLock(() => sourceGroup.model.removePanel(sourceItemId, {\n                skipSetActive: false,\n                skipSetActiveGroup: true,\n            }));\n            if (!removedPanel) {\n                throw new Error(`dockview: No panel with id ${sourceItemId}`);\n            }\n            if (!options.keepEmptyGroups && sourceGroup.model.size === 0) {\n                // remove the group and do not set a new group as active\n                this.doRemoveGroup(sourceGroup, { skipActive: true });\n            }\n            // Check if destination group is empty - if so, force render the component\n            const isDestinationGroupEmpty = destinationGroup.model.size === 0;\n            this.movingLock(() => {\n                var _a;\n                return destinationGroup.model.openPanel(removedPanel, {\n                    index: destinationIndex,\n                    skipSetActive: ((_a = options.skipSetActive) !== null && _a !== void 0 ? _a : false) &&\n                        !isDestinationGroupEmpty,\n                    skipSetGroupActive: true,\n                });\n            });\n            if (!options.skipSetActive) {\n                this.doSetGroupAndPanelActive(destinationGroup);\n            }\n            this._onDidMovePanel.fire({\n                panel: removedPanel,\n                from: sourceGroup,\n            });\n        }\n        else {\n            /**\n             * Dropping a panel to the extremities of a group which will place that panel\n             * into an adjacent group\n             */\n            const referenceLocation = getGridLocation(destinationGroup.element);\n            const targetLocation = getRelativeLocation(this.gridview.orientation, referenceLocation, destinationTarget);\n            if (sourceGroup.size < 2) {\n                /**\n                 * If we are moving from a group which only has one panel left we will consider\n                 * moving the group itself rather than moving the panel into a newly created group\n                 */\n                const [targetParentLocation, to] = tail(targetLocation);\n                if (sourceGroup.api.location.type === 'grid') {\n                    const sourceLocation = getGridLocation(sourceGroup.element);\n                    const [sourceParentLocation, from] = tail(sourceLocation);\n                    if (sequenceEquals(sourceParentLocation, targetParentLocation)) {\n                        // special case when 'swapping' two views within same grid location\n                        // if a group has one tab - we are essentially moving the 'group'\n                        // which is equivalent to swapping two views in this case\n                        this.gridview.moveView(sourceParentLocation, from, to);\n                        this._onDidMovePanel.fire({\n                            panel: this.getGroupPanel(sourceItemId),\n                            from: sourceGroup,\n                        });\n                        return;\n                    }\n                }\n                if (sourceGroup.api.location.type === 'popout') {\n                    /**\n                     * the source group is a popout group with a single panel\n                     *\n                     * 1. remove the panel from the group without triggering any events\n                     * 2. remove the popout group\n                     * 3. create a new group at the requested location and add that panel\n                     */\n                    const popoutGroup = this._popoutGroups.find((group) => group.popoutGroup === sourceGroup);\n                    const removedPanel = this.movingLock(() => popoutGroup.popoutGroup.model.removePanel(popoutGroup.popoutGroup.panels[0], {\n                        skipSetActive: true,\n                        skipSetActiveGroup: true,\n                    }));\n                    this.doRemoveGroup(sourceGroup, { skipActive: true });\n                    const newGroup = this.createGroupAtLocation(targetLocation);\n                    this.movingLock(() => newGroup.model.openPanel(removedPanel, {\n                        skipSetActive: true,\n                    }));\n                    this.doSetGroupAndPanelActive(newGroup);\n                    this._onDidMovePanel.fire({\n                        panel: this.getGroupPanel(sourceItemId),\n                        from: sourceGroup,\n                    });\n                    return;\n                }\n                // source group will become empty so delete the group\n                const targetGroup = this.movingLock(() => this.doRemoveGroup(sourceGroup, {\n                    skipActive: true,\n                    skipDispose: true,\n                }));\n                // after deleting the group we need to re-evaulate the ref location\n                const updatedReferenceLocation = getGridLocation(destinationGroup.element);\n                const location = getRelativeLocation(this.gridview.orientation, updatedReferenceLocation, destinationTarget);\n                this.movingLock(() => this.doAddGroup(targetGroup, location));\n                this.doSetGroupAndPanelActive(targetGroup);\n                this._onDidMovePanel.fire({\n                    panel: this.getGroupPanel(sourceItemId),\n                    from: sourceGroup,\n                });\n            }\n            else {\n                /**\n                 * The group we are removing from has many panels, we need to remove the panels we are moving,\n                 * create a new group, add the panels to that new group and add the new group in an appropiate position\n                 */\n                const removedPanel = this.movingLock(() => sourceGroup.model.removePanel(sourceItemId, {\n                    skipSetActive: false,\n                    skipSetActiveGroup: true,\n                }));\n                if (!removedPanel) {\n                    throw new Error(`dockview: No panel with id ${sourceItemId}`);\n                }\n                const dropLocation = getRelativeLocation(this.gridview.orientation, referenceLocation, destinationTarget);\n                const group = this.createGroupAtLocation(dropLocation);\n                this.movingLock(() => group.model.openPanel(removedPanel, {\n                    skipSetGroupActive: true,\n                }));\n                this.doSetGroupAndPanelActive(group);\n                this._onDidMovePanel.fire({\n                    panel: removedPanel,\n                    from: sourceGroup,\n                });\n            }\n        }\n    }\n    moveGroup(options) {\n        const from = options.from.group;\n        const to = options.to.group;\n        const target = options.to.position;\n        if (target === 'center') {\n            const activePanel = from.activePanel;\n            const panels = this.movingLock(() => [...from.panels].map((p) => from.model.removePanel(p.id, {\n                skipSetActive: true,\n            })));\n            if ((from === null || from === void 0 ? void 0 : from.model.size) === 0) {\n                this.doRemoveGroup(from, { skipActive: true });\n            }\n            this.movingLock(() => {\n                for (const panel of panels) {\n                    to.model.openPanel(panel, {\n                        skipSetActive: panel !== activePanel,\n                        skipSetGroupActive: true,\n                    });\n                }\n            });\n            // Ensure group becomes active after move\n            if (options.skipSetActive !== true) {\n                // For center moves (merges), we need to ensure the target group is active\n                // unless explicitly told not to (skipSetActive: true)\n                this.doSetGroupAndPanelActive(to);\n            }\n            else if (!this.activePanel) {\n                // Even with skipSetActive: true, ensure there's an active panel if none exists\n                // This maintains basic functionality while respecting skipSetActive\n                this.doSetGroupAndPanelActive(to);\n            }\n        }\n        else {\n            switch (from.api.location.type) {\n                case 'grid':\n                    this.gridview.removeView(getGridLocation(from.element));\n                    break;\n                case 'floating': {\n                    const selectedFloatingGroup = this._floatingGroups.find((x) => x.group === from);\n                    if (!selectedFloatingGroup) {\n                        throw new Error('dockview: failed to find floating group');\n                    }\n                    selectedFloatingGroup.dispose();\n                    break;\n                }\n                case 'popout': {\n                    const selectedPopoutGroup = this._popoutGroups.find((x) => x.popoutGroup === from);\n                    if (!selectedPopoutGroup) {\n                        throw new Error('dockview: failed to find popout group');\n                    }\n                    // Remove from popout groups list to prevent automatic restoration\n                    const index = this._popoutGroups.indexOf(selectedPopoutGroup);\n                    if (index >= 0) {\n                        this._popoutGroups.splice(index, 1);\n                    }\n                    // Clean up the reference group (ghost) if it exists and is hidden\n                    if (selectedPopoutGroup.referenceGroup) {\n                        const referenceGroup = this.getPanel(selectedPopoutGroup.referenceGroup);\n                        if (referenceGroup && !referenceGroup.api.isVisible) {\n                            this.doRemoveGroup(referenceGroup, {\n                                skipActive: true,\n                            });\n                        }\n                    }\n                    // Manually dispose the window without triggering restoration\n                    selectedPopoutGroup.window.dispose();\n                    // Update group's location and containers for target\n                    if (to.api.location.type === 'grid') {\n                        from.model.renderContainer =\n                            this.overlayRenderContainer;\n                        from.model.dropTargetContainer =\n                            this.rootDropTargetContainer;\n                        from.model.location = { type: 'grid' };\n                    }\n                    else if (to.api.location.type === 'floating') {\n                        from.model.renderContainer =\n                            this.overlayRenderContainer;\n                        from.model.dropTargetContainer =\n                            this.rootDropTargetContainer;\n                        from.model.location = { type: 'floating' };\n                    }\n                    break;\n                }\n            }\n            // For moves to grid locations\n            if (to.api.location.type === 'grid') {\n                const referenceLocation = getGridLocation(to.element);\n                const dropLocation = getRelativeLocation(this.gridview.orientation, referenceLocation, target);\n                // Add to grid for all moves targeting grid location\n                let size;\n                switch (this.gridview.orientation) {\n                    case Orientation.VERTICAL:\n                        size =\n                            referenceLocation.length % 2 == 0\n                                ? from.api.width\n                                : from.api.height;\n                        break;\n                    case Orientation.HORIZONTAL:\n                        size =\n                            referenceLocation.length % 2 == 0\n                                ? from.api.height\n                                : from.api.width;\n                        break;\n                }\n                this.gridview.addView(from, size, dropLocation);\n            }\n            else if (to.api.location.type === 'floating') {\n                // For moves to floating locations, add as floating group\n                // Get the position/size from the target floating group\n                const targetFloatingGroup = this._floatingGroups.find((x) => x.group === to);\n                if (targetFloatingGroup) {\n                    const box = targetFloatingGroup.overlay.toJSON();\n                    // Calculate position based on available properties\n                    let left, top;\n                    if ('left' in box) {\n                        left = box.left + 50;\n                    }\n                    else if ('right' in box) {\n                        left = Math.max(0, box.right - box.width - 50);\n                    }\n                    else {\n                        left = 50; // Default fallback\n                    }\n                    if ('top' in box) {\n                        top = box.top + 50;\n                    }\n                    else if ('bottom' in box) {\n                        top = Math.max(0, box.bottom - box.height - 50);\n                    }\n                    else {\n                        top = 50; // Default fallback\n                    }\n                    this.addFloatingGroup(from, {\n                        height: box.height,\n                        width: box.width,\n                        position: {\n                            left,\n                            top,\n                        },\n                    });\n                }\n            }\n        }\n        from.panels.forEach((panel) => {\n            this._onDidMovePanel.fire({ panel, from });\n        });\n        this.debouncedUpdateAllPositions();\n        // Ensure group becomes active after move\n        if (options.skipSetActive === false) {\n            // Only activate when explicitly requested (skipSetActive: false)\n            // Use 'to' group for non-center moves since 'from' may have been destroyed\n            const targetGroup = to !== null && to !== void 0 ? to : from;\n            this.doSetGroupAndPanelActive(targetGroup);\n        }\n    }\n    doSetGroupActive(group) {\n        super.doSetGroupActive(group);\n        const activePanel = this.activePanel;\n        if (!this._moving &&\n            activePanel !== this._onDidActivePanelChange.value) {\n            this._onDidActivePanelChange.fire(activePanel);\n        }\n    }\n    doSetGroupAndPanelActive(group) {\n        super.doSetGroupActive(group);\n        const activePanel = this.activePanel;\n        if (group &&\n            this.hasMaximizedGroup() &&\n            !this.isMaximizedGroup(group)) {\n            this.exitMaximizedGroup();\n        }\n        if (!this._moving &&\n            activePanel !== this._onDidActivePanelChange.value) {\n            this._onDidActivePanelChange.fire(activePanel);\n        }\n    }\n    getNextGroupId() {\n        let id = this.nextGroupId.next();\n        while (this._groups.has(id)) {\n            id = this.nextGroupId.next();\n        }\n        return id;\n    }\n    createGroup(options) {\n        if (!options) {\n            options = {};\n        }\n        let id = options === null || options === void 0 ? void 0 : options.id;\n        if (id && this._groups.has(options.id)) {\n            console.warn(`dockview: Duplicate group id ${options === null || options === void 0 ? void 0 : options.id}. reassigning group id to avoid errors`);\n            id = undefined;\n        }\n        if (!id) {\n            id = this.nextGroupId.next();\n            while (this._groups.has(id)) {\n                id = this.nextGroupId.next();\n            }\n        }\n        const view = new DockviewGroupPanel(this, id, options);\n        view.init({ params: {}, accessor: this });\n        if (!this._groups.has(view.id)) {\n            const disposable = new CompositeDisposable(view.model.onTabDragStart((event) => {\n                this._onWillDragPanel.fire(event);\n            }), view.model.onGroupDragStart((event) => {\n                this._onWillDragGroup.fire(event);\n            }), view.model.onMove((event) => {\n                const { groupId, itemId, target, index } = event;\n                this.moveGroupOrPanel({\n                    from: { groupId: groupId, panelId: itemId },\n                    to: {\n                        group: view,\n                        position: target,\n                        index,\n                    },\n                });\n            }), view.model.onDidDrop((event) => {\n                this._onDidDrop.fire(event);\n            }), view.model.onWillDrop((event) => {\n                this._onWillDrop.fire(event);\n            }), view.model.onWillShowOverlay((event) => {\n                if (this.options.disableDnd) {\n                    event.preventDefault();\n                    return;\n                }\n                this._onWillShowOverlay.fire(event);\n            }), view.model.onUnhandledDragOverEvent((event) => {\n                this._onUnhandledDragOverEvent.fire(event);\n            }), view.model.onDidAddPanel((event) => {\n                if (this._moving) {\n                    return;\n                }\n                this._onDidAddPanel.fire(event.panel);\n            }), view.model.onDidRemovePanel((event) => {\n                if (this._moving) {\n                    return;\n                }\n                this._onDidRemovePanel.fire(event.panel);\n            }), view.model.onDidActivePanelChange((event) => {\n                if (this._moving) {\n                    return;\n                }\n                if (event.panel !== this.activePanel) {\n                    return;\n                }\n                if (this._onDidActivePanelChange.value !== event.panel) {\n                    this._onDidActivePanelChange.fire(event.panel);\n                }\n            }), Event.any(view.model.onDidPanelTitleChange, view.model.onDidPanelParametersChange)(() => {\n                this._bufferOnDidLayoutChange.fire();\n            }));\n            this._groups.set(view.id, { value: view, disposable });\n        }\n        // TODO: must be called after the above listeners have been setup, not an ideal pattern\n        view.initialize();\n        return view;\n    }\n    createPanel(options, group) {\n        var _a, _b, _c;\n        const contentComponent = options.component;\n        const tabComponent = (_a = options.tabComponent) !== null && _a !== void 0 ? _a : this.options.defaultTabComponent;\n        const view = new DockviewPanelModel(this, options.id, contentComponent, tabComponent);\n        const panel = new DockviewPanel(options.id, contentComponent, tabComponent, this, this._api, group, view, {\n            renderer: options.renderer,\n            minimumWidth: options.minimumWidth,\n            minimumHeight: options.minimumHeight,\n            maximumWidth: options.maximumWidth,\n            maximumHeight: options.maximumHeight,\n        });\n        panel.init({\n            title: (_b = options.title) !== null && _b !== void 0 ? _b : options.id,\n            params: (_c = options === null || options === void 0 ? void 0 : options.params) !== null && _c !== void 0 ? _c : {},\n        });\n        return panel;\n    }\n    createGroupAtLocation(location, size, options) {\n        const group = this.createGroup(options);\n        this.doAddGroup(group, location, size);\n        return group;\n    }\n    findGroup(panel) {\n        var _a;\n        return (_a = Array.from(this._groups.values()).find((group) => group.value.model.containsPanel(panel))) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    orientationAtLocation(location) {\n        const rootOrientation = this.gridview.orientation;\n        return location.length % 2 == 1\n            ? rootOrientation\n            : orthogonal(rootOrientation);\n    }\n    updateDropTargetModel(options) {\n        if ('dndEdges' in options) {\n            this._rootDropTarget.disabled =\n                typeof options.dndEdges === 'boolean' &&\n                    options.dndEdges === false;\n            if (typeof options.dndEdges === 'object' &&\n                options.dndEdges !== null) {\n                this._rootDropTarget.setOverlayModel(options.dndEdges);\n            }\n            else {\n                this._rootDropTarget.setOverlayModel(DEFAULT_ROOT_OVERLAY_MODEL);\n            }\n        }\n        if ('rootOverlayModel' in options) {\n            this.updateDropTargetModel({ dndEdges: options.dndEdges });\n        }\n    }\n    updateTheme() {\n        var _a, _b;\n        const theme = (_a = this._options.theme) !== null && _a !== void 0 ? _a : themeAbyss;\n        this._themeClassnames.setClassNames(theme.className);\n        this.gridview.margin = (_b = theme.gap) !== null && _b !== void 0 ? _b : 0;\n        switch (theme.dndOverlayMounting) {\n            case 'absolute':\n                this.rootDropTargetContainer.disabled = false;\n                break;\n            case 'relative':\n            default:\n                this.rootDropTargetContainer.disabled = true;\n                break;\n        }\n    }\n}\n\nclass GridviewComponent extends BaseGrid {\n    get orientation() {\n        return this.gridview.orientation;\n    }\n    set orientation(value) {\n        this.gridview.orientation = value;\n    }\n    get options() {\n        return this._options;\n    }\n    get deserializer() {\n        return this._deserializer;\n    }\n    set deserializer(value) {\n        this._deserializer = value;\n    }\n    constructor(container, options) {\n        var _a;\n        super(container, {\n            proportionalLayout: (_a = options.proportionalLayout) !== null && _a !== void 0 ? _a : true,\n            orientation: options.orientation,\n            styles: options.hideBorders\n                ? { separatorBorder: 'transparent' }\n                : undefined,\n            disableAutoResizing: options.disableAutoResizing,\n            className: options.className,\n        });\n        this._onDidLayoutfromJSON = new Emitter();\n        this.onDidLayoutFromJSON = this._onDidLayoutfromJSON.event;\n        this._onDidRemoveGroup = new Emitter();\n        this.onDidRemoveGroup = this._onDidRemoveGroup.event;\n        this._onDidAddGroup = new Emitter();\n        this.onDidAddGroup = this._onDidAddGroup.event;\n        this._onDidActiveGroupChange = new Emitter();\n        this.onDidActiveGroupChange = this._onDidActiveGroupChange.event;\n        this._options = options;\n        this.addDisposables(this._onDidAddGroup, this._onDidRemoveGroup, this._onDidActiveGroupChange, this.onDidAdd((event) => {\n            this._onDidAddGroup.fire(event);\n        }), this.onDidRemove((event) => {\n            this._onDidRemoveGroup.fire(event);\n        }), this.onDidActiveChange((event) => {\n            this._onDidActiveGroupChange.fire(event);\n        }));\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        const hasOrientationChanged = typeof options.orientation === 'string' &&\n            this.gridview.orientation !== options.orientation;\n        this._options = Object.assign(Object.assign({}, this.options), options);\n        if (hasOrientationChanged) {\n            this.gridview.orientation = options.orientation;\n        }\n        this.layout(this.gridview.width, this.gridview.height, true);\n    }\n    removePanel(panel) {\n        this.removeGroup(panel);\n    }\n    /**\n     * Serialize the current state of the layout\n     *\n     * @returns A JSON respresentation of the layout\n     */\n    toJSON() {\n        var _a;\n        const data = this.gridview.serialize();\n        return {\n            grid: data,\n            activePanel: (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.id,\n        };\n    }\n    setVisible(panel, visible) {\n        this.gridview.setViewVisible(getGridLocation(panel.element), visible);\n    }\n    setActive(panel) {\n        this._groups.forEach((value, _key) => {\n            value.value.setActive(panel === value.value);\n        });\n    }\n    focus() {\n        var _a;\n        (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    fromJSON(serializedGridview) {\n        this.clear();\n        const { grid, activePanel } = serializedGridview;\n        try {\n            const queue = [];\n            // take note of the existing dimensions\n            const width = this.width;\n            const height = this.height;\n            this.gridview.deserialize(grid, {\n                fromJSON: (node) => {\n                    const { data } = node;\n                    const view = this.options.createComponent({\n                        id: data.id,\n                        name: data.component,\n                    });\n                    queue.push(() => view.init({\n                        params: data.params,\n                        minimumWidth: data.minimumWidth,\n                        maximumWidth: data.maximumWidth,\n                        minimumHeight: data.minimumHeight,\n                        maximumHeight: data.maximumHeight,\n                        priority: data.priority,\n                        snap: !!data.snap,\n                        accessor: this,\n                        isVisible: node.visible,\n                    }));\n                    this._onDidAddGroup.fire(view);\n                    this.registerPanel(view);\n                    return view;\n                },\n            });\n            this.layout(width, height, true);\n            queue.forEach((f) => f());\n            if (typeof activePanel === 'string') {\n                const panel = this.getPanel(activePanel);\n                if (panel) {\n                    this.doSetGroupActive(panel);\n                }\n            }\n        }\n        catch (err) {\n            /**\n             * To remove a group we cannot call this.removeGroup(...) since this makes assumptions about\n             * the underlying HTMLElement existing in the Gridview.\n             */\n            for (const group of this.groups) {\n                group.dispose();\n                this._groups.delete(group.id);\n                this._onDidRemoveGroup.fire(group);\n            }\n            // fires clean-up events and clears the underlying HTML gridview.\n            this.clear();\n            /**\n             * even though we have cleaned-up we still want to inform the caller of their error\n             * and we'll do this through re-throwing the original error since afterall you would\n             * expect trying to load a corrupted layout to result in an error and not silently fail...\n             */\n            throw err;\n        }\n        this._onDidLayoutfromJSON.fire();\n    }\n    clear() {\n        const hasActiveGroup = this.activeGroup;\n        const groups = Array.from(this._groups.values()); // reassign since group panels will mutate\n        for (const group of groups) {\n            group.disposable.dispose();\n            this.doRemoveGroup(group.value, { skipActive: true });\n        }\n        if (hasActiveGroup) {\n            this.doSetGroupActive(undefined);\n        }\n        this.gridview.clear();\n    }\n    movePanel(panel, options) {\n        var _a;\n        let relativeLocation;\n        const removedPanel = this.gridview.remove(panel);\n        const referenceGroup = (_a = this._groups.get(options.reference)) === null || _a === void 0 ? void 0 : _a.value;\n        if (!referenceGroup) {\n            throw new Error(`reference group ${options.reference} does not exist`);\n        }\n        const target = toTarget(options.direction);\n        if (target === 'center') {\n            throw new Error(`${target} not supported as an option`);\n        }\n        else {\n            const location = getGridLocation(referenceGroup.element);\n            relativeLocation = getRelativeLocation(this.gridview.orientation, location, target);\n        }\n        this.doAddGroup(removedPanel, relativeLocation, options.size);\n    }\n    addPanel(options) {\n        var _a, _b, _c, _d;\n        let relativeLocation = (_a = options.location) !== null && _a !== void 0 ? _a : [0];\n        if ((_b = options.position) === null || _b === void 0 ? void 0 : _b.referencePanel) {\n            const referenceGroup = (_c = this._groups.get(options.position.referencePanel)) === null || _c === void 0 ? void 0 : _c.value;\n            if (!referenceGroup) {\n                throw new Error(`reference group ${options.position.referencePanel} does not exist`);\n            }\n            const target = toTarget(options.position.direction);\n            if (target === 'center') {\n                throw new Error(`${target} not supported as an option`);\n            }\n            else {\n                const location = getGridLocation(referenceGroup.element);\n                relativeLocation = getRelativeLocation(this.gridview.orientation, location, target);\n            }\n        }\n        const view = this.options.createComponent({\n            id: options.id,\n            name: options.component,\n        });\n        view.init({\n            params: (_d = options.params) !== null && _d !== void 0 ? _d : {},\n            minimumWidth: options.minimumWidth,\n            maximumWidth: options.maximumWidth,\n            minimumHeight: options.minimumHeight,\n            maximumHeight: options.maximumHeight,\n            priority: options.priority,\n            snap: !!options.snap,\n            accessor: this,\n            isVisible: true,\n        });\n        this.doAddGroup(view, relativeLocation, options.size);\n        this.registerPanel(view);\n        this.doSetGroupActive(view);\n        return view;\n    }\n    registerPanel(panel) {\n        const disposable = new CompositeDisposable(panel.api.onDidFocusChange((event) => {\n            if (!event.isFocused) {\n                return;\n            }\n            this._groups.forEach((groupItem) => {\n                const group = groupItem.value;\n                if (group !== panel) {\n                    group.setActive(false);\n                }\n                else {\n                    group.setActive(true);\n                }\n            });\n        }));\n        this._groups.set(panel.id, {\n            value: panel,\n            disposable,\n        });\n    }\n    moveGroup(referenceGroup, groupId, target) {\n        const sourceGroup = this.getPanel(groupId);\n        if (!sourceGroup) {\n            throw new Error('invalid operation');\n        }\n        const referenceLocation = getGridLocation(referenceGroup.element);\n        const targetLocation = getRelativeLocation(this.gridview.orientation, referenceLocation, target);\n        const [targetParentLocation, to] = tail(targetLocation);\n        const sourceLocation = getGridLocation(sourceGroup.element);\n        const [sourceParentLocation, from] = tail(sourceLocation);\n        if (sequenceEquals(sourceParentLocation, targetParentLocation)) {\n            // special case when 'swapping' two views within same grid location\n            // if a group has one tab - we are essentially moving the 'group'\n            // which is equivalent to swapping two views in this case\n            this.gridview.moveView(sourceParentLocation, from, to);\n            return;\n        }\n        // source group will become empty so delete the group\n        const targetGroup = this.doRemoveGroup(sourceGroup, {\n            skipActive: true,\n            skipDispose: true,\n        });\n        // after deleting the group we need to re-evaulate the ref location\n        const updatedReferenceLocation = getGridLocation(referenceGroup.element);\n        const location = getRelativeLocation(this.gridview.orientation, updatedReferenceLocation, target);\n        this.doAddGroup(targetGroup, location);\n    }\n    removeGroup(group) {\n        super.removeGroup(group);\n    }\n    dispose() {\n        super.dispose();\n        this._onDidLayoutfromJSON.dispose();\n    }\n}\n\n/**\n * A high-level implementation of splitview that works using 'panels'\n */\nclass SplitviewComponent extends Resizable {\n    get panels() {\n        return this.splitview.getViews();\n    }\n    get options() {\n        return this._options;\n    }\n    get length() {\n        return this._panels.size;\n    }\n    get orientation() {\n        return this.splitview.orientation;\n    }\n    get splitview() {\n        return this._splitview;\n    }\n    set splitview(value) {\n        if (this._splitview) {\n            this._splitview.dispose();\n        }\n        this._splitview = value;\n        this._splitviewChangeDisposable.value = new CompositeDisposable(this._splitview.onDidSashEnd(() => {\n            this._onDidLayoutChange.fire(undefined);\n        }), this._splitview.onDidAddView((e) => this._onDidAddView.fire(e)), this._splitview.onDidRemoveView((e) => this._onDidRemoveView.fire(e)));\n    }\n    get minimumSize() {\n        return this.splitview.minimumSize;\n    }\n    get maximumSize() {\n        return this.splitview.maximumSize;\n    }\n    get height() {\n        return this.splitview.orientation === Orientation.HORIZONTAL\n            ? this.splitview.orthogonalSize\n            : this.splitview.size;\n    }\n    get width() {\n        return this.splitview.orientation === Orientation.HORIZONTAL\n            ? this.splitview.size\n            : this.splitview.orthogonalSize;\n    }\n    constructor(container, options) {\n        var _a;\n        super(document.createElement('div'), options.disableAutoResizing);\n        this._splitviewChangeDisposable = new MutableDisposable();\n        this._panels = new Map();\n        this._onDidLayoutfromJSON = new Emitter();\n        this.onDidLayoutFromJSON = this._onDidLayoutfromJSON.event;\n        this._onDidAddView = new Emitter();\n        this.onDidAddView = this._onDidAddView.event;\n        this._onDidRemoveView = new Emitter();\n        this.onDidRemoveView = this._onDidRemoveView.event;\n        this._onDidLayoutChange = new Emitter();\n        this.onDidLayoutChange = this._onDidLayoutChange.event;\n        this.element.style.height = '100%';\n        this.element.style.width = '100%';\n        this._classNames = new Classnames(this.element);\n        this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');\n        // the container is owned by the third-party, do not modify/delete it\n        container.appendChild(this.element);\n        this._options = options;\n        this.splitview = new Splitview(this.element, options);\n        this.addDisposables(this._onDidAddView, this._onDidLayoutfromJSON, this._onDidRemoveView, this._onDidLayoutChange);\n    }\n    updateOptions(options) {\n        var _a, _b;\n        if ('className' in options) {\n            this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');\n        }\n        if ('disableResizing' in options) {\n            this.disableResizing = (_b = options.disableAutoResizing) !== null && _b !== void 0 ? _b : false;\n        }\n        if (typeof options.orientation === 'string') {\n            this.splitview.orientation = options.orientation;\n        }\n        this._options = Object.assign(Object.assign({}, this.options), options);\n        this.splitview.layout(this.splitview.size, this.splitview.orthogonalSize);\n    }\n    focus() {\n        var _a;\n        (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    movePanel(from, to) {\n        this.splitview.moveView(from, to);\n    }\n    setVisible(panel, visible) {\n        const index = this.panels.indexOf(panel);\n        this.splitview.setViewVisible(index, visible);\n    }\n    setActive(panel, skipFocus) {\n        this._activePanel = panel;\n        this.panels\n            .filter((v) => v !== panel)\n            .forEach((v) => {\n            v.api._onDidActiveChange.fire({ isActive: false });\n            if (!skipFocus) {\n                v.focus();\n            }\n        });\n        panel.api._onDidActiveChange.fire({ isActive: true });\n        if (!skipFocus) {\n            panel.focus();\n        }\n    }\n    removePanel(panel, sizing) {\n        const item = this._panels.get(panel.id);\n        if (!item) {\n            throw new Error(`unknown splitview panel ${panel.id}`);\n        }\n        item.dispose();\n        this._panels.delete(panel.id);\n        const index = this.panels.findIndex((_) => _ === panel);\n        const removedView = this.splitview.removeView(index, sizing);\n        removedView.dispose();\n        const panels = this.panels;\n        if (panels.length > 0) {\n            this.setActive(panels[panels.length - 1]);\n        }\n    }\n    getPanel(id) {\n        return this.panels.find((view) => view.id === id);\n    }\n    addPanel(options) {\n        var _a;\n        if (this._panels.has(options.id)) {\n            throw new Error(`panel ${options.id} already exists`);\n        }\n        const view = this.options.createComponent({\n            id: options.id,\n            name: options.component,\n        });\n        view.orientation = this.splitview.orientation;\n        view.init({\n            params: (_a = options.params) !== null && _a !== void 0 ? _a : {},\n            minimumSize: options.minimumSize,\n            maximumSize: options.maximumSize,\n            snap: options.snap,\n            priority: options.priority,\n            accessor: this,\n        });\n        const size = typeof options.size === 'number' ? options.size : Sizing.Distribute;\n        const index = typeof options.index === 'number' ? options.index : undefined;\n        this.splitview.addView(view, size, index);\n        this.doAddView(view);\n        this.setActive(view);\n        return view;\n    }\n    layout(width, height) {\n        const [size, orthogonalSize] = this.splitview.orientation === Orientation.HORIZONTAL\n            ? [width, height]\n            : [height, width];\n        this.splitview.layout(size, orthogonalSize);\n    }\n    doAddView(view) {\n        const disposable = view.api.onDidFocusChange((event) => {\n            if (!event.isFocused) {\n                return;\n            }\n            this.setActive(view, true);\n        });\n        this._panels.set(view.id, disposable);\n    }\n    toJSON() {\n        var _a;\n        const views = this.splitview\n            .getViews()\n            .map((view, i) => {\n            const size = this.splitview.getViewSize(i);\n            return {\n                size,\n                data: view.toJSON(),\n                snap: !!view.snap,\n                priority: view.priority,\n            };\n        });\n        return {\n            views,\n            activeView: (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.id,\n            size: this.splitview.size,\n            orientation: this.splitview.orientation,\n        };\n    }\n    fromJSON(serializedSplitview) {\n        this.clear();\n        const { views, orientation, size, activeView } = serializedSplitview;\n        const queue = [];\n        // take note of the existing dimensions\n        const width = this.width;\n        const height = this.height;\n        this.splitview = new Splitview(this.element, {\n            orientation,\n            proportionalLayout: this.options.proportionalLayout,\n            descriptor: {\n                size,\n                views: views.map((view) => {\n                    const data = view.data;\n                    if (this._panels.has(data.id)) {\n                        throw new Error(`panel ${data.id} already exists`);\n                    }\n                    const panel = this.options.createComponent({\n                        id: data.id,\n                        name: data.component,\n                    });\n                    queue.push(() => {\n                        var _a;\n                        panel.init({\n                            params: (_a = data.params) !== null && _a !== void 0 ? _a : {},\n                            minimumSize: data.minimumSize,\n                            maximumSize: data.maximumSize,\n                            snap: view.snap,\n                            priority: view.priority,\n                            accessor: this,\n                        });\n                    });\n                    panel.orientation = orientation;\n                    this.doAddView(panel);\n                    setTimeout(() => {\n                        // the original onDidAddView events are missed since they are fired before we can subcribe to them\n                        this._onDidAddView.fire(panel);\n                    }, 0);\n                    return { size: view.size, view: panel };\n                }),\n            },\n        });\n        this.layout(width, height);\n        queue.forEach((f) => f());\n        if (typeof activeView === 'string') {\n            const panel = this.getPanel(activeView);\n            if (panel) {\n                this.setActive(panel);\n            }\n        }\n        this._onDidLayoutfromJSON.fire();\n    }\n    clear() {\n        for (const disposable of this._panels.values()) {\n            disposable.dispose();\n        }\n        this._panels.clear();\n        while (this.splitview.length > 0) {\n            const view = this.splitview.removeView(0, Sizing.Distribute, true);\n            view.dispose();\n        }\n    }\n    dispose() {\n        for (const disposable of this._panels.values()) {\n            disposable.dispose();\n        }\n        this._panels.clear();\n        const views = this.splitview.getViews();\n        this._splitviewChangeDisposable.dispose();\n        this.splitview.dispose();\n        for (const view of views) {\n            view.dispose();\n        }\n        this.element.remove();\n        super.dispose();\n    }\n}\n\nclass DefaultHeader extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor() {\n        super();\n        this._expandedIcon = createExpandMoreButton();\n        this._collapsedIcon = createChevronRightButton();\n        this.disposable = new MutableDisposable();\n        this.apiRef = {\n            api: null,\n        };\n        this._element = document.createElement('div');\n        this.element.className = 'dv-default-header';\n        this._content = document.createElement('span');\n        this._expander = document.createElement('div');\n        this._expander.className = 'dv-pane-header-icon';\n        this.element.appendChild(this._expander);\n        this.element.appendChild(this._content);\n        this.addDisposables(addDisposableListener(this._element, 'click', () => {\n            var _a;\n            (_a = this.apiRef.api) === null || _a === void 0 ? void 0 : _a.setExpanded(!this.apiRef.api.isExpanded);\n        }));\n    }\n    init(params) {\n        this.apiRef.api = params.api;\n        this._content.textContent = params.title;\n        this.updateIcon();\n        this.disposable.value = params.api.onDidExpansionChange(() => {\n            this.updateIcon();\n        });\n    }\n    updateIcon() {\n        var _a;\n        const isExpanded = !!((_a = this.apiRef.api) === null || _a === void 0 ? void 0 : _a.isExpanded);\n        toggleClass(this._expander, 'collapsed', !isExpanded);\n        if (isExpanded) {\n            if (this._expander.contains(this._collapsedIcon)) {\n                this._collapsedIcon.remove();\n            }\n            if (!this._expander.contains(this._expandedIcon)) {\n                this._expander.appendChild(this._expandedIcon);\n            }\n        }\n        else {\n            if (this._expander.contains(this._expandedIcon)) {\n                this._expandedIcon.remove();\n            }\n            if (!this._expander.contains(this._collapsedIcon)) {\n                this._expander.appendChild(this._collapsedIcon);\n            }\n        }\n    }\n    update(_params) {\n        //\n    }\n    dispose() {\n        this.disposable.dispose();\n        super.dispose();\n    }\n}\n\nconst nextLayoutId = sequentialNumberGenerator();\nconst HEADER_SIZE = 22;\nconst MINIMUM_BODY_SIZE = 0;\nconst MAXIMUM_BODY_SIZE = Number.MAX_SAFE_INTEGER;\nclass PaneFramework extends DraggablePaneviewPanel {\n    constructor(options) {\n        super({\n            accessor: options.accessor,\n            id: options.id,\n            component: options.component,\n            headerComponent: options.headerComponent,\n            orientation: options.orientation,\n            isExpanded: options.isExpanded,\n            disableDnd: options.disableDnd,\n            headerSize: options.headerSize,\n            minimumBodySize: options.minimumBodySize,\n            maximumBodySize: options.maximumBodySize,\n        });\n        this.options = options;\n    }\n    getBodyComponent() {\n        return this.options.body;\n    }\n    getHeaderComponent() {\n        return this.options.header;\n    }\n}\nclass PaneviewComponent extends Resizable {\n    get id() {\n        return this._id;\n    }\n    get panels() {\n        return this.paneview.getPanes();\n    }\n    set paneview(value) {\n        this._paneview = value;\n        this._disposable.value = new CompositeDisposable(this._paneview.onDidChange(() => {\n            this._onDidLayoutChange.fire(undefined);\n        }), this._paneview.onDidAddView((e) => this._onDidAddView.fire(e)), this._paneview.onDidRemoveView((e) => this._onDidRemoveView.fire(e)));\n    }\n    get paneview() {\n        return this._paneview;\n    }\n    get minimumSize() {\n        return this.paneview.minimumSize;\n    }\n    get maximumSize() {\n        return this.paneview.maximumSize;\n    }\n    get height() {\n        return this.paneview.orientation === Orientation.HORIZONTAL\n            ? this.paneview.orthogonalSize\n            : this.paneview.size;\n    }\n    get width() {\n        return this.paneview.orientation === Orientation.HORIZONTAL\n            ? this.paneview.size\n            : this.paneview.orthogonalSize;\n    }\n    get options() {\n        return this._options;\n    }\n    constructor(container, options) {\n        var _a;\n        super(document.createElement('div'), options.disableAutoResizing);\n        this._id = nextLayoutId.next();\n        this._disposable = new MutableDisposable();\n        this._viewDisposables = new Map();\n        this._onDidLayoutfromJSON = new Emitter();\n        this.onDidLayoutFromJSON = this._onDidLayoutfromJSON.event;\n        this._onDidLayoutChange = new Emitter();\n        this.onDidLayoutChange = this._onDidLayoutChange.event;\n        this._onDidDrop = new Emitter();\n        this.onDidDrop = this._onDidDrop.event;\n        this._onDidAddView = new Emitter();\n        this.onDidAddView = this._onDidAddView.event;\n        this._onDidRemoveView = new Emitter();\n        this.onDidRemoveView = this._onDidRemoveView.event;\n        this._onUnhandledDragOverEvent = new Emitter();\n        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;\n        this.element.style.height = '100%';\n        this.element.style.width = '100%';\n        this.addDisposables(this._onDidLayoutChange, this._onDidLayoutfromJSON, this._onDidDrop, this._onDidAddView, this._onDidRemoveView, this._onUnhandledDragOverEvent);\n        this._classNames = new Classnames(this.element);\n        this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');\n        // the container is owned by the third-party, do not modify/delete it\n        container.appendChild(this.element);\n        this._options = options;\n        this.paneview = new Paneview(this.element, {\n            // only allow paneview in the vertical orientation for now\n            orientation: Orientation.VERTICAL,\n        });\n        this.addDisposables(this._disposable);\n    }\n    setVisible(panel, visible) {\n        const index = this.panels.indexOf(panel);\n        this.paneview.setViewVisible(index, visible);\n    }\n    focus() {\n        //noop\n    }\n    updateOptions(options) {\n        var _a, _b;\n        if ('className' in options) {\n            this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');\n        }\n        if ('disableResizing' in options) {\n            this.disableResizing = (_b = options.disableAutoResizing) !== null && _b !== void 0 ? _b : false;\n        }\n        this._options = Object.assign(Object.assign({}, this.options), options);\n    }\n    addPanel(options) {\n        var _a, _b;\n        const body = this.options.createComponent({\n            id: options.id,\n            name: options.component,\n        });\n        let header;\n        if (options.headerComponent && this.options.createHeaderComponent) {\n            header = this.options.createHeaderComponent({\n                id: options.id,\n                name: options.headerComponent,\n            });\n        }\n        if (!header) {\n            header = new DefaultHeader();\n        }\n        const view = new PaneFramework({\n            id: options.id,\n            component: options.component,\n            headerComponent: options.headerComponent,\n            header,\n            body,\n            orientation: Orientation.VERTICAL,\n            isExpanded: !!options.isExpanded,\n            disableDnd: !!this.options.disableDnd,\n            accessor: this,\n            headerSize: (_a = options.headerSize) !== null && _a !== void 0 ? _a : HEADER_SIZE,\n            minimumBodySize: MINIMUM_BODY_SIZE,\n            maximumBodySize: MAXIMUM_BODY_SIZE,\n        });\n        this.doAddPanel(view);\n        const size = typeof options.size === 'number' ? options.size : Sizing.Distribute;\n        const index = typeof options.index === 'number' ? options.index : undefined;\n        view.init({\n            params: (_b = options.params) !== null && _b !== void 0 ? _b : {},\n            minimumBodySize: options.minimumBodySize,\n            maximumBodySize: options.maximumBodySize,\n            isExpanded: options.isExpanded,\n            title: options.title,\n            containerApi: new PaneviewApi(this),\n            accessor: this,\n        });\n        this.paneview.addPane(view, size, index);\n        view.orientation = this.paneview.orientation;\n        return view;\n    }\n    removePanel(panel) {\n        const views = this.panels;\n        const index = views.findIndex((_) => _ === panel);\n        this.paneview.removePane(index);\n        this.doRemovePanel(panel);\n    }\n    movePanel(from, to) {\n        this.paneview.moveView(from, to);\n    }\n    getPanel(id) {\n        return this.panels.find((view) => view.id === id);\n    }\n    layout(width, height) {\n        const [size, orthogonalSize] = this.paneview.orientation === Orientation.HORIZONTAL\n            ? [width, height]\n            : [height, width];\n        this.paneview.layout(size, orthogonalSize);\n    }\n    toJSON() {\n        const maximum = (value) => value === Number.MAX_SAFE_INTEGER ||\n            value === Number.POSITIVE_INFINITY\n            ? undefined\n            : value;\n        const minimum = (value) => (value <= 0 ? undefined : value);\n        const views = this.paneview\n            .getPanes()\n            .map((view, i) => {\n            const size = this.paneview.getViewSize(i);\n            return {\n                size,\n                data: view.toJSON(),\n                minimumSize: minimum(view.minimumBodySize),\n                maximumSize: maximum(view.maximumBodySize),\n                headerSize: view.headerSize,\n                expanded: view.isExpanded(),\n            };\n        });\n        return {\n            views,\n            size: this.paneview.size,\n        };\n    }\n    fromJSON(serializedPaneview) {\n        this.clear();\n        const { views, size } = serializedPaneview;\n        const queue = [];\n        // take note of the existing dimensions\n        const width = this.width;\n        const height = this.height;\n        this.paneview = new Paneview(this.element, {\n            orientation: Orientation.VERTICAL,\n            descriptor: {\n                size,\n                views: views.map((view) => {\n                    var _a, _b, _c;\n                    const data = view.data;\n                    const body = this.options.createComponent({\n                        id: data.id,\n                        name: data.component,\n                    });\n                    let header;\n                    if (data.headerComponent &&\n                        this.options.createHeaderComponent) {\n                        header = this.options.createHeaderComponent({\n                            id: data.id,\n                            name: data.headerComponent,\n                        });\n                    }\n                    if (!header) {\n                        header = new DefaultHeader();\n                    }\n                    const panel = new PaneFramework({\n                        id: data.id,\n                        component: data.component,\n                        headerComponent: data.headerComponent,\n                        header,\n                        body,\n                        orientation: Orientation.VERTICAL,\n                        isExpanded: !!view.expanded,\n                        disableDnd: !!this.options.disableDnd,\n                        accessor: this,\n                        headerSize: (_a = view.headerSize) !== null && _a !== void 0 ? _a : HEADER_SIZE,\n                        minimumBodySize: (_b = view.minimumSize) !== null && _b !== void 0 ? _b : MINIMUM_BODY_SIZE,\n                        maximumBodySize: (_c = view.maximumSize) !== null && _c !== void 0 ? _c : MAXIMUM_BODY_SIZE,\n                    });\n                    this.doAddPanel(panel);\n                    queue.push(() => {\n                        var _a;\n                        panel.init({\n                            params: (_a = data.params) !== null && _a !== void 0 ? _a : {},\n                            minimumBodySize: view.minimumSize,\n                            maximumBodySize: view.maximumSize,\n                            title: data.title,\n                            isExpanded: !!view.expanded,\n                            containerApi: new PaneviewApi(this),\n                            accessor: this,\n                        });\n                        panel.orientation = this.paneview.orientation;\n                    });\n                    setTimeout(() => {\n                        // the original onDidAddView events are missed since they are fired before we can subcribe to them\n                        this._onDidAddView.fire(panel);\n                    }, 0);\n                    return { size: view.size, view: panel };\n                }),\n            },\n        });\n        this.layout(width, height);\n        queue.forEach((f) => f());\n        this._onDidLayoutfromJSON.fire();\n    }\n    clear() {\n        for (const [_, value] of this._viewDisposables.entries()) {\n            value.dispose();\n        }\n        this._viewDisposables.clear();\n        this.paneview.dispose();\n    }\n    doAddPanel(panel) {\n        const disposable = new CompositeDisposable(panel.onDidDrop((event) => {\n            this._onDidDrop.fire(event);\n        }), panel.onUnhandledDragOverEvent((event) => {\n            this._onUnhandledDragOverEvent.fire(event);\n        }));\n        this._viewDisposables.set(panel.id, disposable);\n    }\n    doRemovePanel(panel) {\n        const disposable = this._viewDisposables.get(panel.id);\n        if (disposable) {\n            disposable.dispose();\n            this._viewDisposables.delete(panel.id);\n        }\n    }\n    dispose() {\n        super.dispose();\n        for (const [_, value] of this._viewDisposables.entries()) {\n            value.dispose();\n        }\n        this._viewDisposables.clear();\n        this.element.remove();\n        this.paneview.dispose();\n    }\n}\n\nclass SplitviewPanel extends BasePanelView {\n    get priority() {\n        return this._priority;\n    }\n    set orientation(value) {\n        this._orientation = value;\n    }\n    get orientation() {\n        return this._orientation;\n    }\n    get minimumSize() {\n        const size = typeof this._minimumSize === 'function'\n            ? this._minimumSize()\n            : this._minimumSize;\n        if (size !== this._evaluatedMinimumSize) {\n            this._evaluatedMinimumSize = size;\n            this.updateConstraints();\n        }\n        return size;\n    }\n    get maximumSize() {\n        const size = typeof this._maximumSize === 'function'\n            ? this._maximumSize()\n            : this._maximumSize;\n        if (size !== this._evaluatedMaximumSize) {\n            this._evaluatedMaximumSize = size;\n            this.updateConstraints();\n        }\n        return size;\n    }\n    get snap() {\n        return this._snap;\n    }\n    constructor(id, componentName) {\n        super(id, componentName, new SplitviewPanelApiImpl(id, componentName));\n        this._evaluatedMinimumSize = 0;\n        this._evaluatedMaximumSize = Number.POSITIVE_INFINITY;\n        this._minimumSize = 0;\n        this._maximumSize = Number.POSITIVE_INFINITY;\n        this._snap = false;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this.api.initialize(this);\n        this.addDisposables(this._onDidChange, this.api.onWillVisibilityChange((event) => {\n            const { isVisible } = event;\n            const { accessor } = this._params;\n            accessor.setVisible(this, isVisible);\n        }), this.api.onActiveChange(() => {\n            const { accessor } = this._params;\n            accessor.setActive(this);\n        }), this.api.onDidConstraintsChangeInternal((event) => {\n            if (typeof event.minimumSize === 'number' ||\n                typeof event.minimumSize === 'function') {\n                this._minimumSize = event.minimumSize;\n            }\n            if (typeof event.maximumSize === 'number' ||\n                typeof event.maximumSize === 'function') {\n                this._maximumSize = event.maximumSize;\n            }\n            this.updateConstraints();\n        }), this.api.onDidSizeChange((event) => {\n            this._onDidChange.fire({ size: event.size });\n        }));\n    }\n    setVisible(isVisible) {\n        this.api._onDidVisibilityChange.fire({ isVisible });\n    }\n    setActive(isActive) {\n        this.api._onDidActiveChange.fire({ isActive });\n    }\n    layout(size, orthogonalSize) {\n        const [width, height] = this.orientation === Orientation.HORIZONTAL\n            ? [size, orthogonalSize]\n            : [orthogonalSize, size];\n        super.layout(width, height);\n    }\n    init(parameters) {\n        super.init(parameters);\n        this._priority = parameters.priority;\n        if (parameters.minimumSize) {\n            this._minimumSize = parameters.minimumSize;\n        }\n        if (parameters.maximumSize) {\n            this._maximumSize = parameters.maximumSize;\n        }\n        if (parameters.snap) {\n            this._snap = parameters.snap;\n        }\n    }\n    toJSON() {\n        const maximum = (value) => value === Number.MAX_SAFE_INTEGER ||\n            value === Number.POSITIVE_INFINITY\n            ? undefined\n            : value;\n        const minimum = (value) => (value <= 0 ? undefined : value);\n        return Object.assign(Object.assign({}, super.toJSON()), { minimumSize: minimum(this.minimumSize), maximumSize: maximum(this.maximumSize) });\n    }\n    updateConstraints() {\n        this.api._onDidConstraintsChange.fire({\n            maximumSize: this._evaluatedMaximumSize,\n            minimumSize: this._evaluatedMinimumSize,\n        });\n    }\n}\n\nfunction createDockview(element, options) {\n    const component = new DockviewComponent(element, options);\n    return component.api;\n}\nfunction createSplitview(element, options) {\n    const component = new SplitviewComponent(element, options);\n    return new SplitviewApi(component);\n}\nfunction createGridview(element, options) {\n    const component = new GridviewComponent(element, options);\n    return new GridviewApi(component);\n}\nfunction createPaneview(element, options) {\n    const component = new PaneviewComponent(element, options);\n    return new PaneviewApi(component);\n}\n\nexport { BaseGrid, ContentContainer, DefaultDockviewDeserialzier, DefaultTab, DockviewApi, DockviewComponent, CompositeDisposable as DockviewCompositeDisposable, DockviewDidDropEvent, Disposable as DockviewDisposable, Emitter as DockviewEmitter, Event as DockviewEvent, DockviewGroupPanel, DockviewGroupPanelModel, MutableDisposable as DockviewMutableDisposable, DockviewPanel, DockviewUnhandledDragOverEvent, DockviewWillDropEvent, DockviewWillShowOverlayLocationEvent, DraggablePaneviewPanel, Gridview, GridviewApi, GridviewComponent, GridviewPanel, LayoutPriority, Orientation, PROPERTY_KEYS_DOCKVIEW, PROPERTY_KEYS_GRIDVIEW, PROPERTY_KEYS_PANEVIEW, PROPERTY_KEYS_SPLITVIEW, PaneFramework, PaneTransfer, PanelTransfer, Paneview, PaneviewApi, PaneviewComponent, PaneviewPanel, PaneviewUnhandledDragOverEvent, SashState, Sizing, Splitview, SplitviewApi, SplitviewComponent, SplitviewPanel, Tab, createDockview, createGridview, createPaneview, createSplitview, directionToPosition, getDirectionOrientation, getGridLocation, getLocationOrientation, getPaneData, getPanelData, getRelativeLocation, indexInParent, isGridBranchNode, isGroupOptionsWithGroup, isGroupOptionsWithPanel, isPanelOptionsWithGroup, isPanelOptionsWithPanel, orthogonal, positionToDirection, themeAbyss, themeAbyssSpaced, themeDark, themeDracula, themeLight, themeLightSpaced, themeReplit, themeVisualStudio, toTarget };\n","/**\n * dockview\n * @version 5.0.0\n * @link https://github.com/mathuo/dockview\n * @license MIT\n */\nimport { DockviewDisposable, DockviewEmitter, DockviewMutableDisposable, DockviewCompositeDisposable, PROPERTY_KEYS_DOCKVIEW, createDockview, SplitviewPanel, SplitviewApi, PROPERTY_KEYS_SPLITVIEW, createSplitview, GridviewPanel, GridviewApi, PROPERTY_KEYS_GRIDVIEW, createGridview, PROPERTY_KEYS_PANEVIEW, createPaneview } from 'dockview-core';\nexport * from 'dockview-core';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".dv-scrollable {\\n  position: relative;\\n  overflow: hidden;\\n}\\n.dv-scrollable .dv-scrollbar {\\n  position: absolute;\\n  border-radius: 2px;\\n  background-color: transparent;\\n  /* GPU optimizations */\\n  will-change: background-color, transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition-property: background-color;\\n  transition-timing-function: ease-in-out;\\n  transition-duration: 1s;\\n  transition-delay: 0s;\\n}\\n.dv-scrollable .dv-scrollbar-horizontal {\\n  bottom: 0px;\\n  left: 0px;\\n  height: 4px;\\n}\\n.dv-scrollable .dv-scrollbar-vertical {\\n  right: 0px;\\n  top: 0px;\\n  width: 4px;\\n}\\n.dv-scrollable:hover .dv-scrollbar, .dv-scrollable.dv-scrollable-resizing .dv-scrollbar, .dv-scrollable.dv-scrollable-scrolling .dv-scrollbar {\\n  background-color: var(--dv-scrollbar-background-color, rgba(255, 255, 255, 0.25));\\n}\\n.dv-svg {\\n  display: inline-block;\\n  fill: currentcolor;\\n  line-height: 1;\\n  stroke: currentcolor;\\n  stroke-width: 0;\\n}\\n.dockview-theme-dark {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #1e1e1e;\\n  --dv-tabs-and-actions-container-background-color: #252526;\\n  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-tab-divider-color: #1e1e1e;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: #969696;\\n  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;\\n  --dv-inactivegroup-hiddenpanel-tab-color: #626262;\\n  --dv-separator-border: rgb(68, 68, 68);\\n  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);\\n}\\n.dockview-theme-dark .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-light {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: white;\\n  --dv-tabs-and-actions-container-background-color: #f3f3f3;\\n  --dv-activegroup-visiblepanel-tab-background-color: white;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #ececec;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: white;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #ececec;\\n  --dv-tab-divider-color: white;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-activegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.7);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(51, 51, 51, 0.7);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.35);\\n  --dv-separator-border: rgba(128, 128, 128, 0.35);\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);\\n}\\n.dockview-theme-light .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-vs {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #1e1e1e;\\n  --dv-tabs-and-actions-container-background-color: #252526;\\n  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-tab-divider-color: #1e1e1e;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: #969696;\\n  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;\\n  --dv-inactivegroup-hiddenpanel-tab-color: #626262;\\n  --dv-separator-border: rgb(68, 68, 68);\\n  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);\\n  --dv-tabs-and-actions-container-background-color: #2d2d30;\\n  --dv-tabs-and-actions-container-height: 20px;\\n  --dv-tabs-and-actions-container-font-size: 11px;\\n  --dv-activegroup-visiblepanel-tab-background-color: #007acc;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #3f3f46;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: white;\\n  --dv-inactivegroup-visiblepanel-tab-color: white;\\n  --dv-inactivegroup-hiddenpanel-tab-color: white;\\n}\\n.dockview-theme-vs .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container {\\n  box-sizing: content-box;\\n  border-bottom: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {\\n  border-top: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {\\n  border-top: 2px solid var(--dv-activegroup-hiddenpanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container {\\n  box-sizing: content-box;\\n  border-bottom: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {\\n  border-top: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {\\n  border-top: 2px solid var(--dv-inactivegroup-hiddenpanel-tab-background-color);\\n}\\n\\n.dockview-theme-abyss {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-color-abyss-dark: #000c18;\\n  --dv-color-abyss: #10192c;\\n  --dv-color-abyss-light: #1c1c2a;\\n  --dv-color-abyss-lighter: #2b2b4a;\\n  --dv-color-abyss-accent: rgb(91, 30, 207);\\n  --dv-color-abyss-primary-text: white;\\n  --dv-color-abyss-secondary-text: rgb(148, 151, 169);\\n  --dv-group-view-background-color: var(--dv-color-abyss-dark);\\n  --dv-tabs-and-actions-container-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-activegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-dark\\n  );\\n  --dv-activegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);\\n  --dv-inactivegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-dark\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);\\n  --dv-tab-divider-color: var(--dv-color-abyss-lighter);\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.5);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(255, 255, 255, 0.5);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.25);\\n  --dv-separator-border: var(--dv-color-abyss-lighter);\\n  --dv-paneview-header-border-color: var(--dv-color-abyss-lighter);\\n  --dv-paneview-active-outline-color: #596f99;\\n}\\n.dockview-theme-abyss .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-dracula {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #282a36;\\n  --dv-tabs-and-actions-container-background-color: #191a21;\\n  --dv-activegroup-visiblepanel-tab-background-color: #282a36;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #21222c;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #282a36;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #21222c;\\n  --dv-tab-divider-color: #191a21;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(248, 248, 242);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(98, 114, 164);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(248, 248, 242, 0.5);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(98, 114, 164, 0.5);\\n  --dv-separator-border: #bd93f9;\\n  --dv-paneview-header-border-color: #bd93f9;\\n  --dv-paneview-active-outline-color: #6272a4;\\n}\\n.dockview-theme-dracula .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  position: relative;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  content: \\\"\\\";\\n  width: 100%;\\n  height: 1px;\\n  background-color: #94527e;\\n  z-index: 999;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  position: relative;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {\\n  position: absolute;\\n  left: 0px;\\n  bottom: 0px;\\n  content: \\\"\\\";\\n  width: 100%;\\n  height: 1px;\\n  background-color: #5e3d5a;\\n  z-index: 999;\\n}\\n\\n.dockview-theme-replit {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  box-sizing: border-box;\\n  padding: 10px;\\n  background-color: #ebeced;\\n  --dv-group-view-background-color: #ebeced;\\n  --dv-tabs-and-actions-container-background-color: #fcfcfc;\\n  --dv-activegroup-visiblepanel-tab-background-color: #f0f1f2;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #fcfcfc;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #f0f1f2;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #fcfcfc;\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(51, 51, 51);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgb(51, 51, 51);\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-sash-color: #cfd1d3;\\n  --dv-active-sash-color: #babbbb;\\n}\\n.dockview-theme-replit .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-replit .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-replit .dv-resize-container {\\n  border-radius: 10px !important;\\n  border: none;\\n}\\n.dockview-theme-replit .dv-groupview {\\n  overflow: hidden;\\n  border-radius: 10px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container {\\n  border-bottom: 1px solid rgba(128, 128, 128, 0.35);\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab {\\n  margin: 4px;\\n  border-radius: 8px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab:hover {\\n  background-color: #e4e5e6 !important;\\n}\\n.dockview-theme-replit .dv-groupview .dv-content-container {\\n  background-color: #fcfcfc;\\n}\\n.dockview-theme-replit .dv-groupview.dv-active-group {\\n  border: 1px solid rgba(128, 128, 128, 0.35);\\n}\\n.dockview-theme-replit .dv-groupview.dv-inactive-group {\\n  border: 1px solid transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled)::after {\\n  content: \\\"\\\";\\n  height: 4px;\\n  width: 40px;\\n  border-radius: 2px;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  background-color: var(--dv-sash-color);\\n  position: absolute;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active::after {\\n  background-color: var(--dv-active-sash-color);\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled)::after {\\n  content: \\\"\\\";\\n  height: 40px;\\n  width: 4px;\\n  border-radius: 2px;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  background-color: var(--dv-sash-color);\\n  position: absolute;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active::after {\\n  background-color: var(--dv-active-sash-color);\\n}\\n\\n.dockview-theme-abyss-spaced {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-tab-font-size: 12px;\\n  --dv-border-radius: 20px;\\n  --dv-tab-margin: 0.5rem 0.25rem;\\n  --dv-tabs-and-actions-container-height: 44px;\\n  --dv-border-radius: 20px;\\n  box-sizing: border-box;\\n  --dv-color-abyss-dark: rgb(11, 6, 17);\\n  --dv-color-abyss: #16121f;\\n  --dv-color-abyss-light: #201d2b;\\n  --dv-color-abyss-lighter: #2a2837;\\n  --dv-color-abyss-accent: rgb(91, 30, 207);\\n  --dv-color-abyss-primary-text: white;\\n  --dv-color-abyss-secondary-text: rgb(148, 151, 169);\\n  --dv-drag-over-border: 2px solid var(--dv-color-abyss-accent);\\n  --dv-drag-over-background-color: \\\"\\\";\\n  --dv-group-view-background-color: var(--dv-color-abyss-dark);\\n  --dv-tabs-and-actions-container-background-color: var(--dv-color-abyss);\\n  --dv-activegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-lighter\\n  );\\n  --dv-activegroup-hiddenpanel-tab-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-inactivegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-lighter\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: var(--dv-color-abyss-primary-text);\\n  --dv-activegroup-hiddenpanel-tab-color: var(\\n      --dv-color-abyss-secondary-text\\n  );\\n  --dv-inactivegroup-visiblepanel-tab-color: var(\\n      --dv-color-abyss-primary-text\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-color: var(\\n      --dv-color-abyss-secondary-text\\n  );\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-active-sash-color: var(--dv-color-abyss-accent);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.5);\\n  padding: 10px;\\n  background-color: var(--dv-color-abyss-dark);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-sash {\\n  border-radius: 4px;\\n}\\n.dockview-theme-abyss-spaced .dv-drop-target-anchor {\\n  border-radius: calc(var(--dv-border-radius) / 4);\\n}\\n.dockview-theme-abyss-spaced .dv-drop-target-anchor.dv-drop-target-content {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container {\\n  border-radius: var(--dv-border-radius) !important;\\n  border: none;\\n}\\n.dockview-theme-abyss-spaced .dv-tabs-overflow-container,\\n.dockview-theme-abyss-spaced .dv-tabs-overflow-dropdown-default {\\n  border-radius: 8px;\\n  height: unset !important;\\n}\\n.dockview-theme-abyss-spaced .dv-tab {\\n  border-radius: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-groupview {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-abyss-spaced .dv-groupview .dv-tabs-and-actions-container {\\n  padding: 0px calc(var(--dv-border-radius) / 2);\\n}\\n.dockview-theme-abyss-spaced .dv-groupview .dv-content-container {\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container .dv-groupview {\\n  border: 2px solid var(--dv-color-abyss-dark);\\n}\\n\\n.dockview-theme-light-spaced {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-tab-font-size: 12px;\\n  --dv-border-radius: 20px;\\n  --dv-tab-margin: 0.5rem 0.25rem;\\n  --dv-tabs-and-actions-container-height: 44px;\\n  --dv-border-radius: 20px;\\n  box-sizing: border-box;\\n  --dv-drag-over-border: 2px solid rgb(91, 30, 207);\\n  --dv-drag-over-background-color: \\\"\\\";\\n  --dv-group-view-background-color: #f6f5f9;\\n  --dv-tabs-and-actions-container-background-color: white;\\n  --dv-activegroup-visiblepanel-tab-background-color: #ededf0;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #f9f9fa;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #ededf0;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #f9f9fa;\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(104, 107, 130);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(148, 151, 169);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgb(104, 107, 130);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgb(148, 151, 169);\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-active-sash-color: rgb(91, 30, 207);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.1);\\n  padding: 10px;\\n  background-color: #f6f5f9;\\n  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);\\n}\\n.dockview-theme-light-spaced .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-light-spaced .dv-sash {\\n  border-radius: 4px;\\n}\\n.dockview-theme-light-spaced .dv-drop-target-anchor {\\n  border-radius: calc(var(--dv-border-radius) / 4);\\n}\\n.dockview-theme-light-spaced .dv-drop-target-anchor.dv-drop-target-content {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-light-spaced .dv-resize-container {\\n  border-radius: var(--dv-border-radius) !important;\\n  border: none;\\n}\\n.dockview-theme-light-spaced .dv-tabs-overflow-container,\\n.dockview-theme-light-spaced .dv-tabs-overflow-dropdown-default {\\n  border-radius: 8px;\\n  height: unset !important;\\n}\\n.dockview-theme-light-spaced .dv-tab {\\n  border-radius: 8px;\\n}\\n.dockview-theme-light-spaced .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-light-spaced .dv-groupview {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-light-spaced .dv-groupview .dv-tabs-and-actions-container {\\n  padding: 0px calc(var(--dv-border-radius) / 2);\\n}\\n.dockview-theme-light-spaced .dv-groupview .dv-content-container {\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n}\\n.dockview-theme-light-spaced .dv-resize-container .dv-groupview {\\n  border: 2px solid rgba(255, 255, 255, 0.1);\\n}\\n.dv-drop-target-container {\\n  position: absolute;\\n  z-index: 9999;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  pointer-events: none;\\n  overflow: hidden;\\n  --dv-transition-duration: 300ms;\\n}\\n.dv-drop-target-container .dv-drop-target-anchor {\\n  position: relative;\\n  border: var(--dv-drag-over-border);\\n  background-color: var(--dv-drag-over-background-color);\\n  opacity: 1;\\n  /* GPU optimizations */\\n  will-change: transform, opacity;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  contain: layout paint;\\n  transition: opacity var(--dv-transition-duration) ease-in, transform var(--dv-transition-duration) ease-out;\\n}\\n.dv-drop-target {\\n  position: relative;\\n  --dv-transition-duration: 70ms;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 1000;\\n  pointer-events: none;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection {\\n  position: relative;\\n  box-sizing: border-box;\\n  height: 100%;\\n  width: 100%;\\n  border: var(--dv-drag-over-border);\\n  background-color: var(--dv-drag-over-background-color);\\n  transition: top var(--dv-transition-duration) ease-out, left var(--dv-transition-duration) ease-out, width var(--dv-transition-duration) ease-out, height var(--dv-transition-duration) ease-out, opacity var(--dv-transition-duration) ease-out;\\n  will-change: transform;\\n  pointer-events: none;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-top.dv-drop-target-small-vertical {\\n  border-top: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-bottom.dv-drop-target-small-vertical {\\n  border-bottom: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-left.dv-drop-target-small-horizontal {\\n  border-left: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-right.dv-drop-target-small-horizontal {\\n  border-right: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-dockview {\\n  position: relative;\\n  background-color: var(--dv-group-view-background-color);\\n  contain: layout;\\n}\\n.dv-dockview .dv-watermark-container {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 1;\\n}\\n.dv-dockview .dv-overlay-render-container {\\n  position: relative;\\n}\\n\\n.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {\\n  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n}\\n.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  background-color: var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-inactivegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {\\n  background-color: var(--dv-inactivegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-inactivegroup-hiddenpanel-tab-color);\\n}\\n\\n/**\\n * when a tab is dragged we lose the above stylings because they are conditional on parent elements\\n * therefore we also set some stylings for the dragging event\\n **/\\n.dv-tab.dv-tab-dragging {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview {\\n  display: flex;\\n  height: 100%;\\n  background-color: var(--dv-group-view-background-color);\\n  overflow: hidden;\\n  flex-direction: column;\\n}\\n.dv-groupview:focus {\\n  outline: none;\\n}\\n.dv-groupview > .dv-content-container {\\n  flex-grow: 1;\\n  min-height: 0;\\n  outline: none;\\n}\\n.dv-groupview.dv-groupview-header-bottom {\\n  flex-direction: column-reverse;\\n}\\n.dv-groupview.dv-groupview-header-left {\\n  flex-direction: row;\\n}\\n.dv-groupview.dv-groupview-header-right {\\n  flex-direction: row-reverse;\\n}\\n.dv-root-wrapper {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-grid-view,\\n.dv-branch-node {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-top {\\n  background-color: red;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-bottom {\\n  background-color: green;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-left {\\n  background-color: yellow;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-right {\\n  background-color: blue;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-topleft,\\n.dv-debug .dv-resize-container .dv-resize-handle-topright,\\n.dv-debug .dv-resize-container .dv-resize-handle-bottomleft,\\n.dv-debug .dv-resize-container .dv-resize-handle-bottomright {\\n  background-color: cyan;\\n}\\n\\n.dv-resize-container {\\n  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);\\n  position: absolute;\\n  z-index: calc(var(--dv-overlay-z-index) - 2);\\n  border: 1px solid var(--dv-tab-divider-color);\\n  box-shadow: var(--dv-floating-box-shadow);\\n  /* GPU optimizations for floating group movement */\\n  will-change: transform, opacity;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n}\\n.dv-resize-container.dv-hidden {\\n  display: none;\\n}\\n.dv-resize-container.dv-resize-container-dragging {\\n  opacity: 0.5;\\n  /* Enhanced GPU acceleration during drag */\\n  will-change: transform, opacity;\\n}\\n.dv-resize-container .dv-resize-handle-top {\\n  height: 4px;\\n  width: calc(100% - 8px);\\n  left: 4px;\\n  top: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ns-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottom {\\n  height: 4px;\\n  width: calc(100% - 8px);\\n  left: 4px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ns-resize;\\n}\\n.dv-resize-container .dv-resize-handle-left {\\n  height: calc(100% - 8px);\\n  width: 4px;\\n  left: -2px;\\n  top: 4px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ew-resize;\\n}\\n.dv-resize-container .dv-resize-handle-right {\\n  height: calc(100% - 8px);\\n  width: 4px;\\n  right: -2px;\\n  top: 4px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ew-resize;\\n}\\n.dv-resize-container .dv-resize-handle-topleft {\\n  height: 4px;\\n  width: 4px;\\n  top: -2px;\\n  left: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: nw-resize;\\n}\\n.dv-resize-container .dv-resize-handle-topright {\\n  height: 4px;\\n  width: 4px;\\n  right: -2px;\\n  top: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ne-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottomleft {\\n  height: 4px;\\n  width: 4px;\\n  left: -2px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: sw-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottomright {\\n  height: 4px;\\n  width: 4px;\\n  right: -2px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: se-resize;\\n}\\n.dv-render-overlay {\\n  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);\\n  position: absolute;\\n  z-index: 1;\\n  width: 100%;\\n  height: 100%;\\n  contain: layout paint;\\n  isolation: isolate;\\n  /* GPU optimizations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n}\\n.dv-render-overlay.dv-render-overlay-float {\\n  z-index: calc(var(--dv-overlay-z-index) - 1);\\n}\\n\\n.dv-debug .dv-render-overlay {\\n  outline: 1px solid red;\\n  outline-offset: -1;\\n}\\n.dv-pane-container {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-pane-container.dv-animated .dv-view {\\n  /* GPU optimizations for smooth pane animations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition: transform 0.15s ease-out;\\n}\\n.dv-pane-container .dv-view {\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 0px !important;\\n}\\n.dv-pane-container .dv-view:not(:first-child)::before {\\n  background-color: transparent !important;\\n}\\n.dv-pane-container .dv-view:not(:first-child) .dv-pane > .dv-pane-header {\\n  border-top: 1px solid var(--dv-paneview-header-border-color);\\n}\\n.dv-pane-container .dv-view .dv-default-header {\\n  background-color: var(--dv-group-view-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n  display: flex;\\n  padding: 0px 8px;\\n  cursor: pointer;\\n}\\n.dv-pane-container .dv-view .dv-default-header .dv-pane-header-icon {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.dv-pane-container .dv-view .dv-default-header > span {\\n  padding-left: 8px;\\n  flex-grow: 1;\\n}\\n.dv-pane-container:first-of-type > .dv-pane > .dv-pane-header {\\n  border-top: none !important;\\n}\\n.dv-pane-container .dv-pane {\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n  height: 100%;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header {\\n  box-sizing: border-box;\\n  user-select: none;\\n  position: relative;\\n  outline: none;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header.dv-pane-draggable {\\n  cursor: pointer;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header:focus:before, .dv-pane-container .dv-pane .dv-pane-header:focus-within:before {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 5;\\n  content: \\\"\\\";\\n  pointer-events: none;\\n  outline: 1px solid;\\n  outline-width: -1px;\\n  outline-style: solid;\\n  outline-offset: -1px;\\n  outline-color: var(--dv-paneview-active-outline-color);\\n}\\n.dv-pane-container .dv-pane .dv-pane-body {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  flex-grow: 1;\\n  position: relative;\\n  outline: none;\\n}\\n.dv-pane-container .dv-pane .dv-pane-body:focus:before, .dv-pane-container .dv-pane .dv-pane-body:focus-within:before {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 5;\\n  content: \\\"\\\";\\n  pointer-events: none;\\n  outline: 1px solid;\\n  outline-width: -1px;\\n  outline-style: solid;\\n  outline-offset: -1px;\\n  outline-color: var(--dv-paneview-active-outline-color);\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-enabled {\\n  background-color: black;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-disabled {\\n  background-color: orange;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-maximum {\\n  background-color: green;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-minimum {\\n  background-color: red;\\n}\\n\\n.dv-split-view-container {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-splitview-disabled > .dv-sash-container > .dv-sash {\\n  pointer-events: none;\\n}\\n.dv-split-view-container.dv-animation .dv-view,\\n.dv-split-view-container.dv-animation .dv-sash {\\n  /* GPU optimizations for smooth animations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition: transform 0.15s ease-out;\\n}\\n.dv-split-view-container.dv-horizontal {\\n  height: 100%;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash {\\n  height: 100%;\\n  width: 4px;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-enabled {\\n  cursor: ew-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-disabled {\\n  cursor: default;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-maximum {\\n  cursor: w-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-minimum {\\n  cursor: e-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-view-container > .dv-view:not(:first-child)::before {\\n  height: 100%;\\n  width: 1px;\\n}\\n.dv-split-view-container.dv-vertical {\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash {\\n  width: 100%;\\n  height: 4px;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-enabled {\\n  cursor: ns-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-disabled {\\n  cursor: default;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-maximum {\\n  cursor: n-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-minimum {\\n  cursor: s-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view {\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view:not(:first-child)::before {\\n  height: 1px;\\n  width: 100%;\\n}\\n.dv-split-view-container .dv-sash-container {\\n  height: 100%;\\n  width: 100%;\\n  position: absolute;\\n}\\n.dv-split-view-container .dv-sash-container .dv-sash {\\n  position: absolute;\\n  z-index: 99;\\n  outline: none;\\n  user-select: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  touch-action: none;\\n  background-color: var(--dv-sash-color, transparent);\\n}\\n.dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):active, .dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):hover {\\n  background-color: var(--dv-active-sash-color, transparent);\\n  transition-property: background-color;\\n  transition-timing-function: ease-in-out;\\n  transition-duration: var(--dv-active-sash-transition-duration, 0.1s);\\n  transition-delay: var(--dv-active-sash-transition-delay, 0.5s);\\n}\\n.dv-split-view-container .dv-view-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-split-view-container .dv-view-container .dv-view {\\n  height: 100%;\\n  box-sizing: border-box;\\n  overflow: auto;\\n  position: absolute;\\n}\\n.dv-split-view-container.dv-separator-border .dv-view:not(:first-child)::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 5;\\n  pointer-events: none;\\n  background-color: var(--dv-separator-border);\\n}\\n.dv-dragged {\\n  transform: translate3d(0px, 0px, 0px); /* forces tab to be drawn on a separate layer (see https://github.com/microsoft/vscode/issues/18733) */\\n}\\n\\n.dv-tab {\\n  flex-shrink: 0;\\n}\\n.dv-tab:focus-within, .dv-tab:focus {\\n  position: relative;\\n}\\n.dv-tab:focus-within::after, .dv-tab:focus::after {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 100%;\\n  width: 100%;\\n  top: 0px;\\n  left: 0px;\\n  pointer-events: none;\\n  outline: 1px solid var(--dv-tab-divider-color) !important;\\n  outline-offset: -1px;\\n  z-index: 5;\\n}\\n.dv-tab.dv-tab-dragging .dv-default-tab-action {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-tab.dv-active-tab .dv-default-tab .dv-default-tab-action {\\n  visibility: visible;\\n}\\n.dv-tab.dv-inactive-tab .dv-default-tab .dv-default-tab-action {\\n  visibility: hidden;\\n}\\n.dv-tab.dv-inactive-tab .dv-default-tab:hover .dv-default-tab-action {\\n  visibility: visible;\\n}\\n.dv-tab .dv-default-tab {\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-content {\\n  flex-grow: 1;\\n  margin-right: 4px;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-action {\\n  padding: 4px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  box-sizing: border-box;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-action:hover {\\n  border-radius: 2px;\\n  background-color: var(--dv-icon-hover-background-color);\\n}\\n.dv-tabs-overflow-dropdown-default {\\n  height: 100%;\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n  margin: var(--dv-tab-margin);\\n  display: flex;\\n  align-items: center;\\n  flex-shrink: 0;\\n  padding: 0.25rem 0.5rem;\\n  cursor: pointer;\\n}\\n.dv-tabs-overflow-dropdown-default > span {\\n  padding-left: 0.25rem;\\n}\\n.dv-tabs-overflow-dropdown-default > svg {\\n  transform: rotate(90deg);\\n}\\n.dv-tabs-container {\\n  display: flex;\\n  height: 100%;\\n  overflow: auto;\\n  scrollbar-width: thin;\\n  /* GPU optimizations for smooth scrolling */\\n  will-change: scroll-position;\\n  transform: translate3d(0, 0, 0);\\n  /* Track */\\n  /* Handle */\\n}\\n.dv-tabs-container.dv-tabs-container-vertical {\\n  width: 100%;\\n  height: fit-content;\\n  max-height: 100%;\\n  writing-mode: vertical-rl;\\n}\\n.dv-tabs-container.dv-horizontal .dv-tab:not(:first-child)::before, .dv-tabs-container.dv-vertical .dv-tab:not(:first-child)::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 5;\\n  pointer-events: none;\\n  background-color: var(--dv-tab-divider-color);\\n}\\n.dv-tabs-container.dv-horizontal .dv-tab:not(:first-child)::before {\\n  width: 1px;\\n  height: 100%;\\n}\\n.dv-tabs-container.dv-vertical .dv-tab:not(:first-child)::before {\\n  width: 100%;\\n  height: 1px;\\n}\\n.dv-tabs-container::-webkit-scrollbar {\\n  height: 3px;\\n}\\n.dv-tabs-container::-webkit-scrollbar-track {\\n  background: transparent;\\n}\\n.dv-tabs-container::-webkit-scrollbar-thumb {\\n  background: var(--dv-tabs-container-scrollbar-color);\\n}\\n\\n.dv-scrollable > .dv-tabs-container {\\n  overflow: hidden;\\n}\\n\\n.dv-tab {\\n  -webkit-user-drag: element;\\n  outline: none;\\n  padding: 0.25rem 0.5rem;\\n  cursor: pointer;\\n  position: relative;\\n  box-sizing: border-box;\\n  font-size: var(--dv-tab-font-size);\\n  margin: var(--dv-tab-margin);\\n}\\n\\n.dv-tabs-container-vertical .dv-tab {\\n  padding: 0.5rem 0.25rem;\\n}\\n\\n.dv-tabs-overflow-container {\\n  flex-direction: column;\\n  height: unset;\\n  max-height: min(50vh, 400px);\\n  overflow-y: auto;\\n  border: 1px solid var(--dv-tab-divider-color);\\n  background-color: var(--dv-group-view-background-color);\\n  /* Scrollbar styling for webkit browsers */\\n  /* Firefox scrollbar */\\n  scrollbar-width: thin;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar {\\n  width: 6px;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar-track {\\n  background: transparent;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar-thumb {\\n  background: var(--dv-tabs-container-scrollbar-color);\\n  border-radius: 3px;\\n}\\n.dv-tabs-overflow-container .dv-tab:not(:last-child) {\\n  border-bottom: 1px solid var(--dv-tab-divider-color);\\n}\\n.dv-tabs-overflow-container .dv-active-tab {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-tabs-overflow-container .dv-inactive-tab {\\n  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n}\\n.dv-tabs-and-actions-container {\\n  display: flex;\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n  flex-shrink: 0;\\n  box-sizing: border-box;\\n  height: var(--dv-tabs-and-actions-container-height);\\n  font-size: var(--dv-tabs-and-actions-container-font-size);\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-scrollable {\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container {\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container .dv-tab {\\n  flex-grow: 1;\\n  padding: 0px;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-void-container {\\n  flex-grow: 0;\\n}\\n.dv-tabs-and-actions-container .dv-void-container {\\n  display: flex;\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container .dv-void-container.dv-draggable {\\n  cursor: grab;\\n}\\n.dv-tabs-and-actions-container .dv-right-actions-container {\\n  display: flex;\\n}\\n.dv-tabs-and-actions-container .dv-right-actions-container.dv-right-actions-container-vertical {\\n  flex-direction: column;\\n}\\n.dv-tabs-and-actions-container.dv-groupview-header-vertical {\\n  flex-direction: column;\\n  height: auto;\\n  width: var(--dv-tabs-and-actions-container-height);\\n}\\n.dv-watermark {\\n  display: flex;\\n  height: 100%;\\n}\";\nstyleInject(css_248z);\n\n/**\n * This component is intended to interface between vanilla-js and React hence we need to be\n * creative in how we update props.\n * A ref of the component is exposed with an update method; which when called stores the props\n * as a ref within this component and forcefully triggers a re-render of the component using\n * the ref of props we just set on the renderered component as the props passed to the inner\n * component\n */\nconst ReactComponentBridge = (props, ref) => {\n    const [_, triggerRender] = React.useState();\n    const _props = React.useRef(props.componentProps);\n    React.useImperativeHandle(ref, () => ({\n        update: (componentProps) => {\n            _props.current = Object.assign(Object.assign({}, _props.current), componentProps);\n            /**\n             * setting a arbitrary piece of state within this component will\n             * trigger a re-render.\n             * we use this rather than updating through a prop since we can\n             * pass a ref into the vanilla-js world.\n             */\n            triggerRender(Date.now());\n        },\n    }), []);\n    return React.createElement(props.component, _props.current);\n};\nReactComponentBridge.displayName = 'DockviewReactJsBridge';\n/**\n * Since we are storing the React.Portal references in a rendered array they\n * require a key property like any other React element rendered in an array\n * to prevent excessive re-rendering\n */\nconst uniquePortalKeyGenerator = (() => {\n    let value = 1;\n    return { next: () => `dockview_react_portal_key_${(value++).toString()}` };\n})();\nconst ReactPartContext = React.createContext({});\nclass ReactPart {\n    constructor(parent, portalStore, component, parameters, context) {\n        this.parent = parent;\n        this.portalStore = portalStore;\n        this.component = component;\n        this.parameters = parameters;\n        this.context = context;\n        this._initialProps = {};\n        this.disposed = false;\n        this.createPortal();\n    }\n    update(props) {\n        if (this.disposed) {\n            throw new Error('invalid operation: resource is already disposed');\n        }\n        if (!this.componentInstance) {\n            // if the component is yet to be mounted store the props\n            this._initialProps = Object.assign(Object.assign({}, this._initialProps), props);\n        }\n        else {\n            this.componentInstance.update(props);\n        }\n    }\n    createPortal() {\n        if (this.disposed) {\n            throw new Error('invalid operation: resource is already disposed');\n        }\n        if (!isReactComponent(this.component)) {\n            /**\n             * we know this isn't a React.FunctionComponent so throw an error here.\n             * if we do not intercept then React library will throw a very obsure error\n             * for the same reason... at least at this point we will emit a sensible stacktrace.\n             */\n            throw new Error('Dockview: Only React.memo(...), React.ForwardRef(...) and functional components are accepted as components');\n        }\n        const bridgeComponent = React.createElement(React.forwardRef(ReactComponentBridge), {\n            component: this\n                .component,\n            componentProps: this.parameters,\n            ref: (element) => {\n                this.componentInstance = element;\n                if (Object.keys(this._initialProps).length > 0) {\n                    this.componentInstance.update(this._initialProps);\n                    this._initialProps = {}; // don't keep a reference to the users object once no longer required\n                }\n            },\n        });\n        const node = this.context\n            ? React.createElement(ReactPartContext.Provider, { value: this.context }, bridgeComponent)\n            : bridgeComponent;\n        const portal = ReactDOM.createPortal(node, this.parent, uniquePortalKeyGenerator.next());\n        this.ref = {\n            portal,\n            disposable: this.portalStore.addPortal(portal),\n        };\n    }\n    dispose() {\n        var _a;\n        (_a = this.ref) === null || _a === void 0 ? void 0 : _a.disposable.dispose();\n        this.disposed = true;\n    }\n}\n/**\n * A React Hook that returns an array of portals to be rendered by the user of this hook\n * and a disposable function to add a portal. Calling dispose removes this portal from the\n * portal array\n */\nconst usePortalsLifecycle = () => {\n    const [portals, setPortals] = React.useState([]);\n    React.useDebugValue(`Portal count: ${portals.length}`);\n    const addPortal = React.useCallback((portal) => {\n        setPortals((existingPortals) => [...existingPortals, portal]);\n        let disposed = false;\n        return DockviewDisposable.from(() => {\n            if (disposed) {\n                throw new Error('invalid operation: resource already disposed');\n            }\n            disposed = true;\n            setPortals((existingPortals) => existingPortals.filter((p) => p !== portal));\n        });\n    }, []);\n    return [portals, addPortal];\n};\nfunction isReactComponent(component) {\n    /**\n     * Yes, we could use \"react-is\" but that would introduce an unwanted peer dependency\n     * so for now we will check in a rather crude fashion...\n     */\n    return (typeof component === 'function' /** Functional Componnts */ ||\n        !!(component === null || component === void 0 ? void 0 : component.$$typeof) /** React.memo(...) Components */);\n}\n\nclass ReactPanelContentPart {\n    get element() {\n        return this._element;\n    }\n    constructor(id, component, reactPortalStore) {\n        this.id = id;\n        this.component = component;\n        this.reactPortalStore = reactPortalStore;\n        this._onDidFocus = new DockviewEmitter();\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = new DockviewEmitter();\n        this.onDidBlur = this._onDidBlur.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-react-part';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n    focus() {\n        // TODO\n    }\n    init(parameters) {\n        this.part = new ReactPart(this.element, this.reactPortalStore, this.component, {\n            params: parameters.params,\n            api: parameters.api,\n            containerApi: parameters.containerApi,\n        });\n    }\n    update(event) {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.update({ params: event.params });\n    }\n    layout(_width, _height) {\n        // noop\n    }\n    dispose() {\n        var _a;\n        this._onDidFocus.dispose();\n        this._onDidBlur.dispose();\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n}\n\nclass ReactPanelHeaderPart {\n    get element() {\n        return this._element;\n    }\n    constructor(id, component, reactPortalStore) {\n        this.id = id;\n        this.component = component;\n        this.reactPortalStore = reactPortalStore;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-react-part';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n    focus() {\n        //noop\n    }\n    init(parameters) {\n        this.part = new ReactPart(this.element, this.reactPortalStore, this.component, {\n            params: parameters.params,\n            api: parameters.api,\n            containerApi: parameters.containerApi,\n            tabLocation: parameters.tabLocation,\n        });\n    }\n    update(event) {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.update({ params: event.params });\n    }\n    layout(_width, _height) {\n        // noop - retrieval from api\n    }\n    dispose() {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n}\n\nclass ReactWatermarkPart {\n    get element() {\n        return this._element;\n    }\n    constructor(id, component, reactPortalStore) {\n        this.id = id;\n        this.component = component;\n        this.reactPortalStore = reactPortalStore;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-react-part';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n    init(parameters) {\n        this.part = new ReactPart(this.element, this.reactPortalStore, this.component, {\n            group: parameters.group,\n            containerApi: parameters.containerApi,\n        });\n    }\n    focus() {\n        // noop\n    }\n    update(params) {\n        var _a, _b, _c;\n        if (this.parameters) {\n            this.parameters.params = params.params;\n        }\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.update({ params: (_c = (_b = this.parameters) === null || _b === void 0 ? void 0 : _b.params) !== null && _c !== void 0 ? _c : {} });\n    }\n    layout(_width, _height) {\n        // noop - retrieval from api\n    }\n    dispose() {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n}\n\nclass ReactHeaderActionsRendererPart {\n    get element() {\n        return this._element;\n    }\n    get part() {\n        return this._part;\n    }\n    constructor(component, reactPortalStore, _group) {\n        this.component = component;\n        this.reactPortalStore = reactPortalStore;\n        this._group = _group;\n        this.mutableDisposable = new DockviewMutableDisposable();\n        this._element = document.createElement('div');\n        this._element.className = 'dv-react-part';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n    init(parameters) {\n        this.mutableDisposable.value = new DockviewCompositeDisposable(this._group.model.onDidAddPanel(() => {\n            this.updatePanels();\n        }), this._group.model.onDidRemovePanel(() => {\n            this.updatePanels();\n        }), this._group.model.onDidActivePanelChange(() => {\n            this.updateActivePanel();\n        }), parameters.api.onDidActiveChange(() => {\n            this.updateGroupActive();\n        }));\n        this._part = new ReactPart(this.element, this.reactPortalStore, this.component, {\n            api: parameters.api,\n            containerApi: parameters.containerApi,\n            panels: this._group.model.panels,\n            activePanel: this._group.model.activePanel,\n            isGroupActive: this._group.api.isActive,\n            group: this._group,\n            headerPosition: this._group.model.headerPosition,\n        });\n    }\n    dispose() {\n        var _a;\n        this.mutableDisposable.dispose();\n        (_a = this._part) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n    update(event) {\n        var _a;\n        (_a = this._part) === null || _a === void 0 ? void 0 : _a.update(event.params);\n    }\n    updatePanels() {\n        this.update({ params: { panels: this._group.model.panels } });\n    }\n    updateActivePanel() {\n        this.update({\n            params: {\n                activePanel: this._group.model.activePanel,\n            },\n        });\n    }\n    updateGroupActive() {\n        this.update({\n            params: {\n                isGroupActive: this._group.api.isActive,\n            },\n        });\n    }\n}\n\nfunction createGroupControlElement(component, store) {\n    return component\n        ? (groupPanel) => {\n            return new ReactHeaderActionsRendererPart(component, store, groupPanel);\n        }\n        : undefined;\n}\nconst DEFAULT_REACT_TAB = 'props.defaultTabComponent';\nfunction extractCoreOptions$3(props) {\n    const coreOptions = PROPERTY_KEYS_DOCKVIEW.reduce((obj, key) => {\n        if (key in props) {\n            obj[key] = props[key];\n        }\n        return obj;\n    }, {});\n    return coreOptions;\n}\nconst DockviewReact = React.forwardRef((props, ref) => {\n    const domRef = React.useRef(null);\n    const dockviewRef = React.useRef();\n    const [portals, addPortal] = usePortalsLifecycle();\n    React.useImperativeHandle(ref, () => domRef.current, []);\n    const prevProps = React.useRef({});\n    React.useEffect(() => {\n        const changes = {};\n        PROPERTY_KEYS_DOCKVIEW.forEach((propKey) => {\n            const key = propKey;\n            const propValue = props[key];\n            if (key in props && propValue !== prevProps.current[key]) {\n                changes[key] = propValue;\n            }\n        });\n        if (dockviewRef.current) {\n            dockviewRef.current.updateOptions(changes);\n        }\n        prevProps.current = props;\n    }, PROPERTY_KEYS_DOCKVIEW.map((key) => props[key]));\n    React.useEffect(() => {\n        var _a;\n        if (!domRef.current) {\n            return;\n        }\n        const frameworkTabComponents = (_a = props.tabComponents) !== null && _a !== void 0 ? _a : {};\n        if (props.defaultTabComponent) {\n            frameworkTabComponents[DEFAULT_REACT_TAB] =\n                props.defaultTabComponent;\n        }\n        const frameworkOptions = {\n            createLeftHeaderActionComponent: createGroupControlElement(props.leftHeaderActionsComponent, { addPortal }),\n            createRightHeaderActionComponent: createGroupControlElement(props.rightHeaderActionsComponent, { addPortal }),\n            createPrefixHeaderActionComponent: createGroupControlElement(props.prefixHeaderActionsComponent, { addPortal }),\n            createComponent: (options) => {\n                return new ReactPanelContentPart(options.id, props.components[options.name], {\n                    addPortal,\n                });\n            },\n            createTabComponent(options) {\n                return new ReactPanelHeaderPart(options.id, frameworkTabComponents[options.name], {\n                    addPortal,\n                });\n            },\n            createWatermarkComponent: props.watermarkComponent\n                ? () => {\n                    return new ReactWatermarkPart('watermark', props.watermarkComponent, {\n                        addPortal,\n                    });\n                }\n                : undefined,\n            defaultTabComponent: props.defaultTabComponent\n                ? DEFAULT_REACT_TAB\n                : undefined,\n        };\n        const api = createDockview(domRef.current, Object.assign(Object.assign({}, extractCoreOptions$3(props)), frameworkOptions));\n        const { clientWidth, clientHeight } = domRef.current;\n        api.layout(clientWidth, clientHeight);\n        if (props.onReady) {\n            props.onReady({ api });\n        }\n        dockviewRef.current = api;\n        return () => {\n            dockviewRef.current = undefined;\n            api.dispose();\n        };\n    }, []);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const disposable = dockviewRef.current.onDidDrop((event) => {\n            if (props.onDidDrop) {\n                props.onDidDrop(event);\n            }\n        });\n        return () => {\n            disposable.dispose();\n        };\n    }, [props.onDidDrop]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const disposable = dockviewRef.current.onWillDrop((event) => {\n            if (props.onWillDrop) {\n                props.onWillDrop(event);\n            }\n        });\n        return () => {\n            disposable.dispose();\n        };\n    }, [props.onWillDrop]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return;\n        }\n        dockviewRef.current.updateOptions({\n            createComponent: (options) => {\n                return new ReactPanelContentPart(options.id, props.components[options.name], {\n                    addPortal,\n                });\n            },\n        });\n    }, [props.components]);\n    React.useEffect(() => {\n        var _a;\n        if (!dockviewRef.current) {\n            return;\n        }\n        const frameworkTabComponents = (_a = props.tabComponents) !== null && _a !== void 0 ? _a : {};\n        if (props.defaultTabComponent) {\n            frameworkTabComponents[DEFAULT_REACT_TAB] =\n                props.defaultTabComponent;\n        }\n        dockviewRef.current.updateOptions({\n            defaultTabComponent: props.defaultTabComponent\n                ? DEFAULT_REACT_TAB\n                : undefined,\n            createTabComponent(options) {\n                return new ReactPanelHeaderPart(options.id, frameworkTabComponents[options.name], {\n                    addPortal,\n                });\n            },\n        });\n    }, [props.tabComponents, props.defaultTabComponent]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return;\n        }\n        dockviewRef.current.updateOptions({\n            createWatermarkComponent: props.watermarkComponent\n                ? () => {\n                    return new ReactWatermarkPart('watermark', props.watermarkComponent, {\n                        addPortal,\n                    });\n                }\n                : undefined,\n        });\n    }, [props.watermarkComponent]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return;\n        }\n        dockviewRef.current.updateOptions({\n            createRightHeaderActionComponent: createGroupControlElement(props.rightHeaderActionsComponent, { addPortal }),\n        });\n    }, [props.rightHeaderActionsComponent]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return;\n        }\n        dockviewRef.current.updateOptions({\n            createLeftHeaderActionComponent: createGroupControlElement(props.leftHeaderActionsComponent, { addPortal }),\n        });\n    }, [props.leftHeaderActionsComponent]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return;\n        }\n        dockviewRef.current.updateOptions({\n            createPrefixHeaderActionComponent: createGroupControlElement(props.prefixHeaderActionsComponent, { addPortal }),\n        });\n    }, [props.prefixHeaderActionsComponent]);\n    return (React.createElement(\"div\", { style: { height: '100%', width: '100%' }, ref: domRef }, portals));\n});\nDockviewReact.displayName = 'DockviewComponent';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nconst CloseButton = () => (React.createElement(\"svg\", { height: \"11\", width: \"11\", viewBox: \"0 0 28 28\", \"aria-hidden\": 'false', focusable: false, className: \"dv-svg\" },\n    React.createElement(\"path\", { d: \"M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z\" })));\n\nfunction useTitle(api) {\n    const [title, setTitle] = React.useState(api.title);\n    React.useEffect(() => {\n        const disposable = api.onDidTitleChange((event) => {\n            setTitle(event.title);\n        });\n        // Depending on the order in which React effects are run, the title may already be out of sync (cf. issue #1003).\n        if (title !== api.title) {\n            setTitle(api.title);\n        }\n        return () => {\n            disposable.dispose();\n        };\n    }, [api]);\n    return title;\n}\nconst DockviewDefaultTab = (_a) => {\n    var { api, containerApi: _containerApi, params: _params, hideClose, closeActionOverride, onPointerDown, onPointerUp, onPointerLeave, tabLocation } = _a, rest = __rest(_a, [\"api\", \"containerApi\", \"params\", \"hideClose\", \"closeActionOverride\", \"onPointerDown\", \"onPointerUp\", \"onPointerLeave\", \"tabLocation\"]);\n    const title = useTitle(api);\n    const isMiddleMouseButton = React.useRef(false);\n    const onClose = React.useCallback((event) => {\n        event.preventDefault();\n        if (closeActionOverride) {\n            closeActionOverride();\n        }\n        else {\n            api.close();\n        }\n    }, [api, closeActionOverride]);\n    const onBtnPointerDown = React.useCallback((event) => {\n        event.preventDefault();\n    }, []);\n    const _onPointerDown = React.useCallback((event) => {\n        isMiddleMouseButton.current = event.button === 1;\n        onPointerDown === null || onPointerDown === void 0 ? void 0 : onPointerDown(event);\n    }, [onPointerDown]);\n    const _onPointerUp = React.useCallback((event) => {\n        if (isMiddleMouseButton && event.button === 1 && !hideClose) {\n            isMiddleMouseButton.current = false;\n            onClose(event);\n        }\n        onPointerUp === null || onPointerUp === void 0 ? void 0 : onPointerUp(event);\n    }, [onPointerUp, onClose, hideClose]);\n    const _onPointerLeave = React.useCallback((event) => {\n        isMiddleMouseButton.current = false;\n        onPointerLeave === null || onPointerLeave === void 0 ? void 0 : onPointerLeave(event);\n    }, [onPointerLeave]);\n    return (React.createElement(\"div\", Object.assign({ \"data-testid\": \"dockview-dv-default-tab\" }, rest, { onPointerDown: _onPointerDown, onPointerUp: _onPointerUp, onPointerLeave: _onPointerLeave, className: \"dv-default-tab\" }),\n        React.createElement(\"span\", { className: \"dv-default-tab-content\" }, title),\n        !hideClose && (React.createElement(\"div\", { className: \"dv-default-tab-action\", onPointerDown: onBtnPointerDown, onClick: onClose },\n            React.createElement(CloseButton, null)))));\n};\n\nclass ReactPanelView extends SplitviewPanel {\n    constructor(id, component, reactComponent, reactPortalStore) {\n        super(id, component);\n        this.reactComponent = reactComponent;\n        this.reactPortalStore = reactPortalStore;\n    }\n    getComponent() {\n        var _a, _b;\n        return new ReactPart(this.element, this.reactPortalStore, this.reactComponent, {\n            params: (_b = (_a = this._params) === null || _a === void 0 ? void 0 : _a.params) !== null && _b !== void 0 ? _b : {},\n            api: this.api,\n            containerApi: new SplitviewApi(this._params.accessor),\n        });\n    }\n}\n\nfunction extractCoreOptions$2(props) {\n    const coreOptions = PROPERTY_KEYS_SPLITVIEW.reduce((obj, key) => {\n        if (key in props) {\n            obj[key] = props[key];\n        }\n        return obj;\n    }, {});\n    return coreOptions;\n}\nconst SplitviewReact = React.forwardRef((props, ref) => {\n    const domRef = React.useRef(null);\n    const splitviewRef = React.useRef();\n    const [portals, addPortal] = usePortalsLifecycle();\n    React.useImperativeHandle(ref, () => domRef.current, []);\n    const prevProps = React.useRef({});\n    React.useEffect(() => {\n        const changes = {};\n        PROPERTY_KEYS_SPLITVIEW.forEach((propKey) => {\n            const key = propKey;\n            const propValue = props[key];\n            if (key in props && propValue !== prevProps.current[key]) {\n                changes[key] = propValue;\n            }\n        });\n        if (splitviewRef.current) {\n            splitviewRef.current.updateOptions(changes);\n        }\n        prevProps.current = props;\n    }, PROPERTY_KEYS_SPLITVIEW.map((key) => props[key]));\n    React.useEffect(() => {\n        if (!domRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const frameworkOptions = {\n            createComponent: (options) => {\n                return new ReactPanelView(options.id, options.name, props.components[options.name], { addPortal });\n            },\n        };\n        const api = createSplitview(domRef.current, Object.assign(Object.assign({}, extractCoreOptions$2(props)), frameworkOptions));\n        const { clientWidth, clientHeight } = domRef.current;\n        api.layout(clientWidth, clientHeight);\n        if (props.onReady) {\n            props.onReady({ api });\n        }\n        splitviewRef.current = api;\n        return () => {\n            splitviewRef.current = undefined;\n            api.dispose();\n        };\n    }, []);\n    React.useEffect(() => {\n        if (!splitviewRef.current) {\n            return;\n        }\n        splitviewRef.current.updateOptions({\n            createComponent: (options) => {\n                return new ReactPanelView(options.id, options.name, props.components[options.name], { addPortal });\n            },\n        });\n    }, [props.components]);\n    return (React.createElement(\"div\", { style: { height: '100%', width: '100%' }, ref: domRef }, portals));\n});\nSplitviewReact.displayName = 'SplitviewComponent';\n\nclass ReactGridPanelView extends GridviewPanel {\n    constructor(id, component, reactComponent, reactPortalStore) {\n        super(id, component);\n        this.reactComponent = reactComponent;\n        this.reactPortalStore = reactPortalStore;\n    }\n    getComponent() {\n        var _a, _b;\n        return new ReactPart(this.element, this.reactPortalStore, this.reactComponent, {\n            params: (_b = (_a = this._params) === null || _a === void 0 ? void 0 : _a.params) !== null && _b !== void 0 ? _b : {},\n            api: this.api,\n            // TODO: fix casting hack\n            containerApi: new GridviewApi(this._params\n                .accessor),\n        });\n    }\n}\n\nfunction extractCoreOptions$1(props) {\n    const coreOptions = PROPERTY_KEYS_GRIDVIEW.reduce((obj, key) => {\n        if (key in props) {\n            obj[key] = props[key];\n        }\n        return obj;\n    }, {});\n    return coreOptions;\n}\nconst GridviewReact = React.forwardRef((props, ref) => {\n    const domRef = React.useRef(null);\n    const gridviewRef = React.useRef();\n    const [portals, addPortal] = usePortalsLifecycle();\n    React.useImperativeHandle(ref, () => domRef.current, []);\n    const prevProps = React.useRef({});\n    React.useEffect(() => {\n        const changes = {};\n        PROPERTY_KEYS_GRIDVIEW.forEach((propKey) => {\n            const key = propKey;\n            const propValue = props[key];\n            if (key in props && propValue !== prevProps.current[key]) {\n                changes[key] = propValue;\n            }\n        });\n        if (gridviewRef.current) {\n            gridviewRef.current.updateOptions(changes);\n        }\n        prevProps.current = props;\n    }, PROPERTY_KEYS_GRIDVIEW.map((key) => props[key]));\n    React.useEffect(() => {\n        if (!domRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const frameworkOptions = {\n            createComponent: (options) => {\n                return new ReactGridPanelView(options.id, options.name, props.components[options.name], { addPortal });\n            },\n        };\n        const api = createGridview(domRef.current, Object.assign(Object.assign({}, extractCoreOptions$1(props)), frameworkOptions));\n        const { clientWidth, clientHeight } = domRef.current;\n        api.layout(clientWidth, clientHeight);\n        if (props.onReady) {\n            props.onReady({ api });\n        }\n        gridviewRef.current = api;\n        return () => {\n            gridviewRef.current = undefined;\n            api.dispose();\n        };\n    }, []);\n    React.useEffect(() => {\n        if (!gridviewRef.current) {\n            return;\n        }\n        gridviewRef.current.updateOptions({\n            createComponent: (options) => {\n                return new ReactGridPanelView(options.id, options.name, props.components[options.name], { addPortal });\n            },\n        });\n    }, [props.components]);\n    return (React.createElement(\"div\", { style: { height: '100%', width: '100%' }, ref: domRef }, portals));\n});\nGridviewReact.displayName = 'GridviewComponent';\n\nclass PanePanelSection {\n    get element() {\n        return this._element;\n    }\n    constructor(id, component, reactPortalStore) {\n        this.id = id;\n        this.component = component;\n        this.reactPortalStore = reactPortalStore;\n        this._element = document.createElement('div');\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n    init(parameters) {\n        this.part = new ReactPart(this.element, this.reactPortalStore, this.component, {\n            params: parameters.params,\n            api: parameters.api,\n            title: parameters.title,\n            containerApi: parameters.containerApi,\n        });\n    }\n    toJSON() {\n        return {\n            id: this.id,\n        };\n    }\n    update(params) {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.update(params.params);\n    }\n    dispose() {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n}\n\nfunction extractCoreOptions(props) {\n    const coreOptions = PROPERTY_KEYS_PANEVIEW.reduce((obj, key) => {\n        if (key in props) {\n            obj[key] = props[key];\n        }\n        return obj;\n    }, {});\n    return coreOptions;\n}\nconst PaneviewReact = React.forwardRef((props, ref) => {\n    const domRef = React.useRef(null);\n    const paneviewRef = React.useRef();\n    const [portals, addPortal] = usePortalsLifecycle();\n    React.useImperativeHandle(ref, () => domRef.current, []);\n    const prevProps = React.useRef({});\n    React.useEffect(() => {\n        const changes = {};\n        PROPERTY_KEYS_PANEVIEW.forEach((propKey) => {\n            const key = propKey;\n            const propValue = props[key];\n            if (key in props && propValue !== prevProps.current[key]) {\n                changes[key] = propValue;\n            }\n        });\n        if (paneviewRef.current) {\n            paneviewRef.current.updateOptions(changes);\n        }\n        prevProps.current = props;\n    }, PROPERTY_KEYS_PANEVIEW.map((key) => props[key]));\n    React.useEffect(() => {\n        var _a;\n        if (!domRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const headerComponents = (_a = props.headerComponents) !== null && _a !== void 0 ? _a : {};\n        const frameworkOptions = {\n            createComponent: (options) => {\n                return new PanePanelSection(options.id, props.components[options.name], { addPortal });\n            },\n            createHeaderComponent: (options) => {\n                return new PanePanelSection(options.id, headerComponents[options.name], { addPortal });\n            },\n        };\n        const api = createPaneview(domRef.current, Object.assign(Object.assign({}, extractCoreOptions(props)), frameworkOptions));\n        const { clientWidth, clientHeight } = domRef.current;\n        api.layout(clientWidth, clientHeight);\n        if (props.onReady) {\n            props.onReady({ api });\n        }\n        paneviewRef.current = api;\n        return () => {\n            paneviewRef.current = undefined;\n            api.dispose();\n        };\n    }, []);\n    React.useEffect(() => {\n        if (!paneviewRef.current) {\n            return;\n        }\n        paneviewRef.current.updateOptions({\n            createComponent: (options) => {\n                return new PanePanelSection(options.id, props.components[options.name], { addPortal });\n            },\n        });\n    }, [props.components]);\n    React.useEffect(() => {\n        var _a;\n        if (!paneviewRef.current) {\n            return;\n        }\n        const headerComponents = (_a = props.headerComponents) !== null && _a !== void 0 ? _a : {};\n        paneviewRef.current.updateOptions({\n            createHeaderComponent: (options) => {\n                return new PanePanelSection(options.id, headerComponents[options.name], { addPortal });\n            },\n        });\n    }, [props.headerComponents]);\n    React.useEffect(() => {\n        if (!paneviewRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const disposable = paneviewRef.current.onDidDrop((event) => {\n            if (props.onDidDrop) {\n                props.onDidDrop(event);\n            }\n        });\n        return () => {\n            disposable.dispose();\n        };\n    }, [props.onDidDrop]);\n    return (React.createElement(\"div\", { style: { height: '100%', width: '100%' }, ref: domRef }, portals));\n});\nPaneviewReact.displayName = 'PaneviewComponent';\n\nexport { DockviewDefaultTab, DockviewReact, GridviewReact, PaneviewReact, ReactPart, ReactPartContext, SplitviewReact, isReactComponent, usePortalsLifecycle };\n"],"names":["CloseButton","createSvgElementFromPath","params","width","height","viewbox","path","_jsx","viewBox","focusable","className","children","d","CodeSandboxButton","props","url","React","id","_jsxs","_Fragment","hideThemePicker","ThemePicker","style","display","alignItems","href","target","rel","fontWeight","paddingRight","Spinner","ReactIcon","marginRight","src","useBaseUrl","JavascriptIcon","themes","useLocalStorageItem","key","defaultValue","item","setItem","localStorage","getItem","listener","event","window","addEventListener","removeEventListener","theme","setTheme","dispatchEvent","StorageEvent","padding","backgroundColor","color","onChange","e","value","map","MultiFrameworkContainer2","ref","framework","setFramework","animation","setAnimation","setTimeout","current","disposable","typescript","dispose","sandboxId","position","background","zIndex","top","left","justifyContent","react","margin","fontSize","cursor","border","flexGrow","MultiFrameworkContainer","BrowserOnly","codifyType","tabs","type","values","_","isComparator","code","join","lhs","rhs","typeArguments","codify","Error","kind","signature","repeat","name","returnType","flags","isProtected","isReadonly","isOptional","typeParameters","length","typeParameter","typeCode","extends","default","parameters","parameter","properties","Math","max","signatures","filter","console","log","newJson","docsJson_","Text","content","piece","i","text","substring","Tags","tags","tag","Summary","summary","blockTags","Row","comment","doc","flexDirection","fontFamily","CodeBlock","language","docs","methods","v","flat","flatMap","concat","child","includes","DocRef","declaration","filteredDocs","SampleData","parent","droppable","TreeComponent","treeData","setTreeData","useState","Tree","tree","rootId","onDrop","newTreeData","onDragEnd","render","node","_ref","depth","isOpen","onToggle","marginLeft","onClick","components","title","treeview","DndProvider","backend","MultiBackend","options","getBackendOptions","DockviewReact","onReady","panel","api","addPanel","component","group","locked","header","hidden","referencePanel","direction","frontMatter","sidebar_position","contentTitle","metadata","assets","toc","_createMdxContent","_components","h1","h2","p","pre","CodeRunner","_missingMdxReference","MDXContent","wrapper","MDXLayout","Event","Disposable","css","insertAt","document","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","styleInject","TransferObject","PanelTransfer","constructor","viewId","groupId","panelId","super","this","PaneTransfer","paneId","LocalSelectionTransfer","getInstance","INSTANCE","hasData","proto","clearData","undefined","data","getData","setData","getPanelData","panelTransfer","prototype","getPaneData","paneTransfer","any","disposables","forEach","DockviewEvent","_defaultPrevented","defaultPrevented","preventDefault","AcceptableEvent","_isAccepted","isAccepted","accept","Stacktrace","create","_a","stack","print","warn","Listener","callback","stacktrace","Emitter","setLeakageMonitorEnabled","isEnabled","ENABLE_TRACKING","MEMORY_LEAK_WATCHER","clear","_last","_listeners","_disposed","_event","replay","push","index","indexOf","splice","add","fire","queueMicrotask","delete","addDisposableListener","element","events","Map","size","set","AsapEvent","_onFired","_currentFireCount","_queued","onEvent","fireCountAtTimeOfEventSubscription","NONE","from","func","CompositeDisposable","isDisposed","_isDisposed","args","_disposables","Set","addDisposables","arg","removeDisposable","MutableDisposable","_disposable","OverflowObserver","el","_onDidChange","onDidChange","_value","watchElementResize","entry","hasScrollX","scrollWidth","clientWidth","hasScrollY","scrollHeight","clientHeight","cb","observer","ResizeObserver","entires","requestAnimationFrame","firstEntry","observe","unobserve","disconnect","removeClasses","classes","classname","classList","contains","remove","addClasses","toggleClass","isToggled","hasClass","isAncestor","testChild","testAncestor","parentNode","trackFocus","FocusTracker","_onDidFocus","onDidFocus","_onDidBlur","onDidBlur","hasFocus","activeElement","loosingFocus","onFocus","onBlur","_refreshStateHandler","refreshState","QUASI_PREVENT_DEFAULT_KEY","quasiDefaultPrevented","getDomNodePagePosition","domNode","getBoundingClientRect","scrollX","scrollY","disableIframePointEvents","rootNode","iframes","tagNames","findIframesInNode","nodeType","Node","ELEMENT_NODE","tagName","shadowRoot","documentElement","allTagsNamesInclusiveOfShadowDoms","original","WeakMap","iframe","pointerEvents","release","get","Classnames","_classNames","setClassNames","classNames","split","trim","tail","arr","slice","sequenceEquals","arr1","arr2","pushToStart","unshift","pushToEnd","array","findIndex","t","clamp","min","sequentialNumberGenerator","next","toString","range","to","result","ViewItem","_size","cachedVisibleSize","_cachedVisibleSize","visible","minimumSize","view","viewMinimumSize","maximumSize","viewMaximumSize","priority","snap","enabled","container","setVisible","toggle","Orientation","SashState","LayoutPriority","Sizing","Distribute","Split","Invisible","Splitview","contentSize","_contentSize","orthogonalSize","_orthogonalSize","viewItems","proportions","_proportions","orientation","_orientation","tmp","HORIZONTAL","reduce","r","Number","POSITIVE_INFINITY","startSnappingEnabled","_startSnappingEnabled","updateSashEnablement","endSnappingEnabled","_endSnappingEnabled","disabled","_disabled","_margin","_b","sashes","_onDidSashEnd","onDidSashEnd","_onDidAddView","onDidAddView","_onDidRemoveView","onDidRemoveView","resize","delta","sizes","x","lowPriorityIndexes","highPriorityIndexes","overloadMinDelta","NEGATIVE_INFINITY","overloadMaxDelta","snapBefore","snapAfter","upIndexes","downIndexes","upItems","upSizes","downItems","downSizes","minDeltaUp","maxDeltaUp","maxDeltaDown","minDeltaDown","minDelta","maxDelta","snapped","snapView","limitDelta","actualDelta","deltaUp","viewDelta","deltaDown","VERTICAL","createContainer","proportionalLayout","viewContainer","createViewContainer","sashContainer","createSashContainer","styles","descriptor","views","viewDescriptor","sizing","addView","saveProportions","separatorBorder","removeProperty","setProperty","isViewVisible","setViewVisible","viewItem","distributeEmptySpace","layoutViews","getViewSize","resizeView","indexes","Low","High","round","relayout","getViews","skipLayout","viewSize","newSize","removeChild","sash","onPointerStart","start","clientX","clientY","sashIndex","fn","firstIndex","s","snapBeforeIndex","findFirstSnapIndex","snapAfterIndex","snappedViewItem","halfSize","floor","onPointerMove","end","sashItem","distributeViewSizes","flexibleViewItems","flexibleSize","removeView","getViewCachedVisibleSize","moveView","layout","previousSize","total","proportion","lowPriorityIndex","emptyDelta","visibleViewItems","sashCount","marginReducedSize","totalLeftOffset","viewLeftOffsets","runningVisiblePanelCount","flag","visiblePanelsBeforeThisView","offset","sashWidth","previous","collapsesDown","expandsDown","reverseViews","reverse","collapsesUp","expandsUp","snappedBefore","snappedAfter","updateSash","MINIMUM","MAXIMUM","DISABLED","ENABLED","state","orientationClassname","PROPERTY_KEYS_SPLITVIEW","disableAutoResizing","Object","keys","Paneview","splitview","paneItems","skipAnimation","getPanes","pane","onDidChangeExpansionState","setupAnimation","paneItem","addPane","removePane","skipDispose","animationTimer","clearTimeout","LeafNode","minimumWidth","maximumWidth","minimumHeight","maximumHeight","minimumOrthogonalSize","maximumOrthogonalSize","BranchNode","c","Normal","priorities","some","childDescriptors","_childrenDisposable","_onDidVisibilityChange","onDidVisibilityChange","childDescriptor","setupChildrenEvents","_visible","isChildVisible","setChildVisible","wereAllChildrenHidden","areAllChildrenHidden","moveChild","_removeChild","_addChild","getChildSize","resizeChild","addChild","getChildCachedVisibleSize","findLeaf","candiateNode","last","cloneNode","flipNode","orthogonal","totalSize","childSize","getGridLocation","parentElement","test","firstElementChild","lastElementChild","nextElementSibling","indexInParent","getRelativeLocation","rootOrientation","location","getLocationOrientation","directionOrientation","getDirectionOrientation","rest","_index","serializeBranchNode","box","isGridBranchNode","toJSON","Gridview","_root","root","_locked","branch","pop","maximizedView","_maximizedNode","leaf","hasMaximizedView","maximizeView","getNode","exitMaximizedView","getView","hiddenOnMaximize","hideAllViewsBut","exclude","_onDidMaximizedNodeChange","isMaximized","showViewsInReverseOrder","serialize","maxmizedViewLocation","resullt","maximizedNode","_onDidViewVisibilityChange","deserialize","json","deserializer","_deserialize","_deserializeNode","serializedChild","fromJSON","call","oldRoot","normalize","childReference","insertOrthogonalSplitviewAtRoot","progmaticSelect","_getViews","nodeCachedVisibleSize","n","l","onDidViewVisibilityChange","onDidMaximizedNodeChange","parentLocation","pathToParent","grandParent","parentIndex","__","newSiblingSize","newSiblingCachedVisibleSize","newParent","newSibling","nodeToRemove","sibling","isSiblingVisible","siblingSizing","PROPERTY_KEYS_GRIDVIEW","hideBorders","Resizable","_element","disableResizing","_disableResizing","offsetParent","currentElement","DocumentFragment","host","isInDocument","contentRect","nextLayoutId$1","toTarget","BaseGrid","_id","_groups","groups","Array","gridview","activeGroup","_activeGroup","_onDidRemove","onDidRemove","_onDidAdd","onDidAdd","_onDidMaximizedChange","onDidMaximizedChange","_onDidActiveChange","onDidActiveChange","_bufferOnDidLayoutChange","onDidLayoutChange","_onDidViewVisibilityChangeMicroTaskQueue","onDidViewVisibilityChangeMicroTaskQueue","isVisible","updateOptions","_c","_d","maximizeGroup","doSetGroupActive","isMaximizedGroup","exitMaximizedGroup","hasMaximizedGroup","doAddGroup","doRemoveGroup","has","skipActive","getPanel","setActive","removeGroup","moveToNext","moveToPrevious","forceResize","SplitviewApi","panels","onDidLayoutFromJSON","removePanel","focus","movePanel","PaneviewApi","onDidDrop","onUnhandledDragOverEvent","GridviewApi","onDidAddPanel","onDidAddGroup","onDidRemovePanel","onDidRemoveGroup","onDidActivePanelChange","onDidActiveGroupChange","force","DockviewApi","totalPanels","onDidMovePanel","onWillDrop","onWillShowOverlay","onWillDragGroup","onWillDragPanel","onDidPopoutGroupSizeChange","onDidPopoutGroupPositionChange","onDidOpenPopoutWindowFail","activePanel","getGroupPanel","addGroup","closeAllGroups","getGroup","addFloatingGroup","onDidMaximizedGroupChange","addPopoutGroup","DragHandler","dataDisposable","pointerEventsDisposable","_onDragStart","onDragStart","configure","setDisabled","isCancelled","dataTransfer","effectAllowed","items","DragAndDropObserver","callbacks","registerListeners","onDragEnter","onDragOver","onDragLeave","WillShowOverlayEvent","nativeEvent","directionToPosition","positionToDirection","DEFAULT_ACTIVATION_SIZE","DEFAULT_SIZE","Droptarget","_state","_onDrop","_onWillShowOverlay","_acceptedTargetZonesSet","acceptedTargetZones","dnd","getOverrideTarget","getElements","_e","_f","_g","ACTUAL_TARGET","overrideTarget","removeDropTarget","getOverlayOutline","offsetWidth","offsetHeight","rect","currentTarget","y","quadrant","calculateQuadrant","isAlreadyUsed","canDisplayOverlay","willShowOverlayEvent","markAsUsed","targetElement","overlayElement","append","toggleClasses","stopPropagation","setTargetZones","setOverlayModel","model","overlayModel","USED_EVENT_ID","isSmallX","isSmallY","isLeft","isRight","isTop","isBottom","rightClass","leftClass","topClass","bottomClass","sizeOptions","outlineEl","elBox","ta","overlay","bigbox","rootTop","rootLeft","bounds","topPx","leftPx","widthPx","heightPx","checkBoundsChanged","visibility","transform","setGPUOptimizedBounds","changed","setGPUOptimizedBoundsFromStrings","overlayType","activationSizeOptions","activationSize","threshold","xp","yp","calculateQuadrantAsPercentage","calculateQuadrantAsPixels","PROPERTY_KEYS_PANEVIEW","disableDnd","PaneviewUnhandledDragOverEvent","WillFocusEvent","PanelApiImpl","isFocused","_isFocused","isActive","_isActive","_isVisible","_width","_height","_parameters","panelUpdatesDisposable","_onDidDimensionChange","onDidDimensionsChange","_onDidChangeFocus","onDidFocusChange","_onWillFocus","onWillFocus","_onWillVisibilityChange","onWillVisibilityChange","_onActiveChange","onActiveChange","_onDidParametersChange","onDidParametersChange","getParameters","initialize","update","updateParameters","SplitviewPanelApiImpl","_onDidConstraintsChangeInternal","onDidConstraintsChangeInternal","_onDidConstraintsChange","onDidConstraintsChange","_onDidSizeChange","onDidSizeChange","setConstraints","setSize","PaneviewPanelApiImpl","_pane","_onDidExpansionChange","onDidExpansionChange","_onMouseEnter","onMouseEnter","_onMouseLeave","onMouseLeave","setExpanded","isExpanded","BasePanelView","_params","tabIndex","outline","overflow","focusTracker","part","init","getComponent","assign","PaneviewPanel","headerSize","_minimumBodySize","_maximumBodySize","minimumBodySize","maximumBodySize","headerVisible","_headerVisible","_onDidChangeExpansionState","_isExpanded","headerComponent","isHeaderVisible","accessor","ev","isPanelExpanded","renderOnce","expanded","body","bodyPart","getBodyComponent","headerPart","getHeaderComponent","lineHeight","minHeight","maxHeight","DraggablePaneviewPanel","_onDidDrop","_onUnhandledDragOverEvent","initDragFeatures","accessorId","draggable","handler","firedEvent","containerApi","existingPanel","allPanels","fromIndex","toIndex","ContentContainer","dropTargetContainer","dropTarget","dndPanelOverlay","shiftKey","show","hide","renderPanel","asActive","doRender","isPanelActive","renderer","renderContainer","detatch","attach","referenceContainer","openPanel","closePanel","refreshFocusState","addGhostImage","ghostElement","setDragImage","TabDragHandler","Tab","_onPointDown","onPointerDown","_onDropped","dragHandler","getComputedStyle","newNode","getPropertyValue","getPropertyPriority","setContent","updateDragAndDropState","DockviewWillShowOverlayLocationEvent","GroupDragHandler","dragEvent","bgColor","borderRadius","textContent","VoidContainer","Scrollbar","_scrollOffset","_scrollbar","scrollableElement","deltaY","MouseWheelSpeed","calculateScrollbarStyles","originalClient","originalScrollOffset","onEnd","scrollLeft","scrollTop","_animationTimer","clientSize","scrollSize","px","percentageComplete","Tabs","showTabsOverflowControl","_showTabsOverflowControl","_tabsList","_observerDisposable","hasOverflow","toggleDropdown","reset","_tabs","_direction","selectedIndex","_onTabDragStart","onTabDragStart","_onOverflowTabsChange","onOverflowTabsChange","scrollbars","button","tab","setActivePanel","runningWidth","isActivePanel","find","isFloatingGroupsEnabled","disableFloatingGroups","isFloatingWithOnePanel","inDragMode","addTab","tabToRemove","childPosition","parentPosition","isChildEntirelyVisibleWithinParent","svg","createElementNS","setAttributeNS","createChevronRightButton","TabsContainer","_hidden","rightActionsContainer","dropdownPart","_overflowTabs","_dropdownDisposable","_onGroupDragStart","onGroupDragStart","singleTabMode","leftActionsContainer","preActionsContainer","disableTabsOverflowList","voidContainer","onDidOptionsChange","setRightActionsElement","rightActions","setLeftActionsElement","leftActions","setPrefixActionsElement","preActions","_isGroupActive","updateClassnames","icon","createDropdownElementHandle","prepend","capture","panelObject","createTabRenderer","popupService","close","scrollIntoView","relativeParent","findRelativeZIndexParent","openPopover","DockviewUnhandledDragOverEvent","PROPERTY_KEYS_DOCKVIEW","floatingGroupBounds","popoutUrl","defaultRenderer","defaultHeaderPosition","debug","rootOverlayModel","noPanelsOverlay","dndEdges","DockviewDidDropEvent","DockviewWillDropEvent","_kind","DockviewGroupPanelModel","_activePanel","_panels","isEmpty","hasWatermark","watermark","tabsContainer","isContentFocused","contentContainer","headerPosition","_headerPosition","_leftHeaderActions","_rightHeaderActions","_prefixHeaderActions","updateHeaderActions","_location","groupPanel","_onDidLocationChange","_rightHeaderActionsDisposable","_leftHeaderActionsDisposable","_prefixHeaderActionsDisposable","mostRecentlyUsed","_overwriteRenderContainer","_overwriteDropTargetContainer","_panelDisposables","_onMove","onMove","_onWillDrop","_onDidAddPanel","_onDidPanelTitleChange","onDidPanelTitleChange","_onDidPanelParametersChange","onDidPanelParametersChange","_onDidRemovePanel","_onDidActivePanelChange","_api","hideHeader","handleDropEvent","focusContent","rerender","overlayRenderContainer","rootDropTargetContainer","doAddPanel","updateContainer","createRightHeaderActionComponent","createLeftHeaderActionComponent","createPrefixHeaderActionComponent","activeView","normalizedIndex","suppressRoll","containsPanel","skipSetActive","updateParentGroup","doSetActivePanel","skipSetGroupActive","groupItemOrId","panelToRemove","_removePanel","closeAllPanels","arrPanelCpy","doClose","isLast","removeEmptyGroup","updateActions","isGroupActive","doRemovePanel","nextPanel","skipSetActiveGroup","hasExistingPanel","updateMru","onDidTitleChange","runEvents","createWatermarkComponent","willDropEvent","getKind","itemId","GridviewPanelApiImpl","GridviewPanel","_priority","_snap","__minimumWidth","__minimumHeight","__maximumHeight","__maximumWidth","_minimumWidth","_evaluatedMinimumWidth","updateConstraints","_maximumWidth","_evaluatedMaximumWidth","_minimumHeight","_evaluatedMinimumHeight","_maximumHeight","_evaluatedMaximumHeight","MAX_SAFE_INTEGER","maximum","minimum","NOT_INITIALIZED_MESSAGE","DockviewGroupPanelApiImpl","_group","onDidLocationChange","_pendingSize","getWindow","setHeaderPosition","getHeaderPosition","moveTo","moveGroupOrPanel","maximize","exitMaximized","DockviewGroupPanel","_explicitConstraints","activePanelMinimumWidth","activePanelMinimumHeight","activePanelMaximumWidth","activePanelMaximumHeight","_model","constraints","themeDark","themeLight","themeVisualStudio","themeAbyss","themeDracula","themeReplit","gap","themeAbyssSpaced","dndOverlayMounting","themeLightSpaced","DockviewPanelApiImpl","oldGroup","_onDidGroupChange","setupGroupEventListeners","tabComponent","_tabComponent","_onDidTitleChange","_onDidActiveGroupChange","onDidGroupChange","_onDidRendererChange","onDidRendererChange","groupEventsDisposable","setTitle","setRenderer","previousGroup","_trackGroupActive","hasBecomeHidden","hasBecomeVisible","DockviewPanel","_title","_renderer","contentComponent","updateFromStateModel","isPanelVisible","DefaultTab","_content","action","DockviewPanelModel","_tab","createContentComponent","createTabComponent","tabLocation","cmp","_updateEvent","componentName","createComponent","defaultTabComponent","DefaultDockviewDeserialzier","panelData","viewData","Watermark","arialLevelTracker","_orderedList","destroy","setAttribute","Overlay","minimumInViewportWidth","minimumInViewportHeight","_onDidChangeEnd","onDidChangeEnd","setupResize","setBounds","bottom","right","bringToFront","verticalAlignment","horiziontalAlignment","containerRect","overlayRect","xOffset","getMinimumWidth","yOffset","getMinimumHeight","parseFloat","setupDrag","dragTarget","move","track","resizeHandleElement","startPosition","originalY","originalHeight","originalX","originalWidth","moveTop","maxTop","MINIMUM_HEIGHT","moveBottom","moveLeft","maxLeft","MINIMUM_WIDTH","moveRight","minWidth","maxWidth","DockviewFloatingGroupPanel","DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE","DEFAULT_FLOATING_GROUP_POSITION","PositionCache","cache","currentFrameId","rafId","getPosition","cached","frameId","scheduleFrameUpdate","invalidate","OverlayRenderContainer","positionCache","pendingUpdates","updateAllPositions","createFocusableElement","focusContainer","box2","visibilityChanged","observerDisposable","correctLayerPosition","floatingGroup","floatingGroups","level","getAttribute","MutationObserver","attributeFilter","attributes","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","then","apply","SuppressedError","PopoutWindow","_window","_onWillClose","onWillClose","_onDidClose","onDidClose","dimensions","screenX","screenY","innerWidth","innerHeight","open","features","entries","externalWindow","createPopoutWindowContainer","onDidOpen","externalDocument","styleSheetList","styleSheets","link","cssTexts","cssRules","rule","err","addStyles","StrictEventsSequencing","PopupService","_active","_activeDisposable","anchorBox","offsetX","offsetY","HTMLElement","buffer","rootRect","translateX","translateY","shiftAbsoluteElementIntoView","DropTargetAnchorContainer","exists","_outline","anchor","createAnchor","targetBox","DEFAULT_ROOT_OVERLAY_MODEL","moveGroupWithoutDestroying","removedPanel","DockviewComponent","_options","_floatingGroups","popoutRestorationPromise","_popoutRestorationPromise","nextGroupId","_deserializer","_watermark","_onWillDragPanel","_onWillDragGroup","_onDidPopoutGroupSizeChange","_onDidPopoutGroupPositionChange","_onDidOpenPopoutWindowFail","_onDidLayoutFromJSON","_onDidMovePanel","_onDidMaximizedGroupChange","_popoutGroups","_onDidRemoveGroup","_onDidAddGroup","_onDidOptionsChange","_moving","_themeClassnames","_rootDropTarget","updateDropTargetModel","updateTheme","updateWatermark","debouncedUpdateAllPositions","orthogonalize","itemToPopout","toClassList","list","cls","startsWith","getDockviewTheme","overridePopoutGroup","getNextGroupId","popoutWindowDisposable","popoutContainer","referenceGroup","referenceLocation","isGroupAddedToDom","createGroup","error","movingLock","gready","floatingBox","returnedGroup","doSetGroupAndPanelActive","isValidReferenceGroup","popoutGroup","_onDidWindowPositionChange","emitter","timeout","previousScreenX","previousScreenY","checkMovement","closed","currentScreenX","currentScreenY","onDidWindowMoveEnd","resizeTimeout","onDidWindowResizeEnd","skipPopoutAssociated","skipPopoutReturn","catch","popoutReferenceGroupId","popoutReferenceGroup","skipRemoveGroup","anchoredBox","getAnchoredBox","minimumWidthWithinViewport","minimumHeightWithinViewport","querySelector","floatingGroupPanel","skipActiveGroup","createGroupAtLocation","oldDisableDnd","floating","includePanel","collection","floats","popoutGroups","gridReferenceGroup","grid","existingPanels","tempGroup","reuseExistingPanels","newPanels","keepEmptyGroups","isArray","createGroupFromSerializedState","createdPanels","serializedFloatingGroups","serializedFloatingGroup","serializedPopoutGroups","popoutPromises","serializedPopoutGroup","popoutPromise","all","hasActiveGroup","initial","initialWidth","initialHeight","findGroup","isPanelOptionsWithGroup","createPanel","inactive","floatingGroupOptions","relativeLocation","orientationAtLocation","coordinates","watermarkContainer","isGroupOptionsWithGroup","selectedGroup","refGroup","removedGroup","re","_updatePositionsFrameId","cancelAnimationFrame","isMoving","destinationGroup","sourceGroupId","sourceItemId","destinationTarget","destinationIndex","sourceGroup","targetLocation","targetParentLocation","sourceLocation","sourceParentLocation","newGroup","targetGroup","updatedReferenceLocation","dropLocation","isDestinationGroupEmpty","moveGroup","selectedFloatingGroup","selectedPopoutGroup","targetFloatingGroup","GridviewComponent","_onDidLayoutfromJSON","hasOrientationChanged","_key","serializedGridview","queue","registerPanel","f","reference","groupItem","SplitviewComponent","_splitview","_splitviewChangeDisposable","_onDidLayoutChange","skipFocus","doAddView","serializedSplitview","DefaultHeader","_expandedIcon","_collapsedIcon","apiRef","_expander","updateIcon","nextLayoutId","MAXIMUM_BODY_SIZE","PaneFramework","PaneviewComponent","paneview","_paneview","_viewDisposables","createHeaderComponent","serializedPaneview","SplitviewPanel","_minimumSize","_evaluatedMinimumSize","_maximumSize","_evaluatedMaximumSize","createDockview","createSplitview","createGridview","createPaneview","ReactComponentBridge","triggerRender","_props","componentProps","Date","now","displayName","uniquePortalKeyGenerator","ReactPartContext","ReactPart","portalStore","context","_initialProps","disposed","createPortal","componentInstance","$$typeof","bridgeComponent","Provider","portal","addPortal","usePortalsLifecycle","portals","setPortals","existingPortals","ReactPanelContentPart","reactPortalStore","ReactPanelHeaderPart","ReactWatermarkPart","ReactHeaderActionsRendererPart","_part","mutableDisposable","updatePanels","updateActivePanel","updateGroupActive","createGroupControlElement","store","DEFAULT_REACT_TAB","domRef","dockviewRef","prevProps","changes","propKey","propValue","frameworkTabComponents","tabComponents","frameworkOptions","leftHeaderActionsComponent","rightHeaderActionsComponent","prefixHeaderActionsComponent","watermarkComponent","obj","extractCoreOptions$3","DockviewDefaultTab","_containerApi","hideClose","closeActionOverride","onPointerUp","onPointerLeave","hasOwnProperty","getOwnPropertySymbols","propertyIsEnumerable","__rest","useTitle","isMiddleMouseButton","onClose","onBtnPointerDown","_onPointerDown","_onPointerUp","_onPointerLeave","ReactPanelView","reactComponent","SplitviewReact","splitviewRef","extractCoreOptions$2","ReactGridPanelView","GridviewReact","gridviewRef","extractCoreOptions$1","PanePanelSection","PaneviewReact","paneviewRef","headerComponents","extractCoreOptions"],"sourceRoot":""}