{"version":3,"file":"assets/js/ccc49370.fdd4659b.js","mappings":"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","sources":["webpack://dockview-docs/../../node_modules/@docusaurus/theme-classic/lib/theme/BlogPostPaginator/index.js","webpack://dockview-docs/../../node_modules/@docusaurus/theme-classic/lib/theme/BlogPostPage/Metadata/index.js","webpack://dockview-docs/../../node_modules/@docusaurus/theme-classic/lib/theme/BlogPostPage/index.js","webpack://dockview-docs/../../node_modules/@docusaurus/theme-classic/lib/theme/TOC/styles.module.css","webpack://dockview-docs/../../node_modules/@docusaurus/theme-classic/lib/theme/TOC/index.js","webpack://dockview-docs/../../node_modules/@docusaurus/theme-common/src/utils/tocUtils.ts","webpack://dockview-docs/../../node_modules/@docusaurus/theme-common/src/hooks/useTOCHighlight.ts","webpack://dockview-docs/../../node_modules/@docusaurus/theme-classic/lib/theme/TOCItems/Tree.js","webpack://dockview-docs/../../node_modules/@docusaurus/theme-classic/lib/theme/TOCItems/index.js","webpack://dockview-docs/../../node_modules/@docusaurus/theme-common/src/utils/unlistedUtils.tsx","webpack://dockview-docs/../../node_modules/@docusaurus/theme-classic/lib/theme/Unlisted/index.js","webpack://dockview-docs/./src/theme/Admonition/Layout/styles.module.css","webpack://dockview-docs/./src/theme/Admonition/Layout/index.js","webpack://dockview-docs/./src/theme/Admonition/Icon/Note.js","webpack://dockview-docs/./src/theme/Admonition/Type/Note.js","webpack://dockview-docs/./src/theme/Admonition/Icon/Tip.js","webpack://dockview-docs/./src/theme/Admonition/Type/Tip.js","webpack://dockview-docs/./src/theme/Admonition/Icon/Info.js","webpack://dockview-docs/./src/theme/Admonition/Type/Info.js","webpack://dockview-docs/./src/theme/Admonition/Icon/Warning.js","webpack://dockview-docs/./src/theme/Admonition/Type/Warning.js","webpack://dockview-docs/./src/theme/Admonition/Icon/Danger.js","webpack://dockview-docs/./src/theme/Admonition/Type/Danger.js","webpack://dockview-docs/./src/theme/Admonition/Type/Caution.js","webpack://dockview-docs/./src/theme/Admonition/Types.js","webpack://dockview-docs/./src/theme/Admonition/index.js","webpack://dockview-docs/./src/theme/MDXComponents.js","webpack://dockview-docs/./src/components/frameworkSpecific.tsx","webpack://dockview-docs/./src/components/ui/codeRunner.tsx","webpack://dockview-docs/../dockview-core/dist/package/main.esm.mjs","webpack://dockview-docs/../dockview/dist/package/main.esm.mjs"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport Translate, {translate} from '@docusaurus/Translate';\nimport PaginatorNavLink from '@theme/PaginatorNavLink';\nexport default function BlogPostPaginator(props) {\n  const {nextItem, prevItem} = props;\n  return (\n    <nav\n      className=\"pagination-nav docusaurus-mt-lg\"\n      aria-label={translate({\n        id: 'theme.blog.post.paginator.navAriaLabel',\n        message: 'Blog post page navigation',\n        description: 'The ARIA label for the blog posts pagination',\n      })}>\n      {prevItem && (\n        <PaginatorNavLink\n          {...prevItem}\n          subLabel={\n            <Translate\n              id=\"theme.blog.post.paginator.newerPost\"\n              description=\"The blog post button label to navigate to the newer/previous post\">\n              Newer Post\n            </Translate>\n          }\n        />\n      )}\n      {nextItem && (\n        <PaginatorNavLink\n          {...nextItem}\n          subLabel={\n            <Translate\n              id=\"theme.blog.post.paginator.olderPost\"\n              description=\"The blog post button label to navigate to the older/next post\">\n              Older Post\n            </Translate>\n          }\n          isNext\n        />\n      )}\n    </nav>\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport {PageMetadata} from '@docusaurus/theme-common';\nimport {useBlogPost} from '@docusaurus/theme-common/internal';\nexport default function BlogPostPageMetadata() {\n  const {assets, metadata} = useBlogPost();\n  const {title, description, date, tags, authors, frontMatter} = metadata;\n  const {keywords} = frontMatter;\n  const image = assets.image ?? frontMatter.image;\n  return (\n    <PageMetadata\n      title={title}\n      description={description}\n      keywords={keywords}\n      image={image}>\n      <meta property=\"og:type\" content=\"article\" />\n      <meta property=\"article:published_time\" content={date} />\n      {/* TODO double check those article meta array syntaxes, see https://ogp.me/#array */}\n      {authors.some((author) => author.url) && (\n        <meta\n          property=\"article:author\"\n          content={authors\n            .map((author) => author.url)\n            .filter(Boolean)\n            .join(',')}\n        />\n      )}\n      {tags.length > 0 && (\n        <meta\n          property=\"article:tag\"\n          content={tags.map((tag) => tag.label).join(',')}\n        />\n      )}\n    </PageMetadata>\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport clsx from 'clsx';\nimport {HtmlClassNameProvider, ThemeClassNames} from '@docusaurus/theme-common';\nimport {BlogPostProvider, useBlogPost} from '@docusaurus/theme-common/internal';\nimport BlogLayout from '@theme/BlogLayout';\nimport BlogPostItem from '@theme/BlogPostItem';\nimport BlogPostPaginator from '@theme/BlogPostPaginator';\nimport BlogPostPageMetadata from '@theme/BlogPostPage/Metadata';\nimport TOC from '@theme/TOC';\nimport Unlisted from '@theme/Unlisted';\nfunction BlogPostPageContent({sidebar, children}) {\n  const {metadata, toc} = useBlogPost();\n  const {nextItem, prevItem, frontMatter, unlisted} = metadata;\n  const {\n    hide_table_of_contents: hideTableOfContents,\n    toc_min_heading_level: tocMinHeadingLevel,\n    toc_max_heading_level: tocMaxHeadingLevel,\n  } = frontMatter;\n  return (\n    <BlogLayout\n      sidebar={sidebar}\n      toc={\n        !hideTableOfContents && toc.length > 0 ? (\n          <TOC\n            toc={toc}\n            minHeadingLevel={tocMinHeadingLevel}\n            maxHeadingLevel={tocMaxHeadingLevel}\n          />\n        ) : undefined\n      }>\n      {unlisted && <Unlisted />}\n      <BlogPostItem>{children}</BlogPostItem>\n\n      {(nextItem || prevItem) && (\n        <BlogPostPaginator nextItem={nextItem} prevItem={prevItem} />\n      )}\n    </BlogLayout>\n  );\n}\nexport default function BlogPostPage(props) {\n  const BlogPostContent = props.content;\n  return (\n    <BlogPostProvider content={props.content} isBlogPostPage>\n      <HtmlClassNameProvider\n        className={clsx(\n          ThemeClassNames.wrapper.blogPages,\n          ThemeClassNames.page.blogPostPage,\n        )}>\n        <BlogPostPageMetadata />\n        <BlogPostPageContent sidebar={props.sidebar}>\n          <BlogPostContent />\n        </BlogPostPageContent>\n      </HtmlClassNameProvider>\n    </BlogPostProvider>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"tableOfContents\":\"tableOfContents_TN1Q\",\"docItemContainer\":\"docItemContainer_JtJJ\"};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport clsx from 'clsx';\nimport TOCItems from '@theme/TOCItems';\nimport styles from './styles.module.css';\n// Using a custom className\n// This prevents TOCInline/TOCCollapsible getting highlighted by mistake\nconst LINK_CLASS_NAME = 'table-of-contents__link toc-highlight';\nconst LINK_ACTIVE_CLASS_NAME = 'table-of-contents__link--active';\nexport default function TOC({className, ...props}) {\n  return (\n    <div className={clsx(styles.tableOfContents, 'thin-scrollbar', className)}>\n      <TOCItems\n        {...props}\n        linkClassName={LINK_CLASS_NAME}\n        linkActiveClassName={LINK_ACTIVE_CLASS_NAME}\n      />\n    </div>\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {useMemo} from 'react';\nimport type {TOCItem} from '@docusaurus/mdx-loader';\n\nexport type TOCTreeNode = {\n  readonly value: string;\n  readonly id: string;\n  readonly level: number;\n  readonly children: readonly TOCTreeNode[];\n};\n\nfunction treeifyTOC(flatTOC: readonly TOCItem[]): TOCTreeNode[] {\n  const headings = flatTOC.map((heading) => ({\n    ...heading,\n    parentIndex: -1,\n    children: [] as TOCTreeNode[],\n  }));\n\n  // Keep track of which previous index would be the current heading's direct\n  // parent. Each entry <i> is the last index of the `headings` array at heading\n  // level <i>. We will modify these indices as we iterate through all headings.\n  // e.g. if an ### H3 was last seen at index 2, then prevIndexForLevel[3] === 2\n  // indices 0 and 1 will remain unused.\n  const prevIndexForLevel = Array<number>(7).fill(-1);\n\n  headings.forEach((curr, currIndex) => {\n    // Take the last seen index for each ancestor level. the highest index will\n    // be the direct ancestor of the current heading.\n    const ancestorLevelIndexes = prevIndexForLevel.slice(2, curr.level);\n    curr.parentIndex = Math.max(...ancestorLevelIndexes);\n    // Mark that curr.level was last seen at the current index.\n    prevIndexForLevel[curr.level] = currIndex;\n  });\n\n  const rootNodes: TOCTreeNode[] = [];\n\n  // For a given parentIndex, add each Node into that parent's `children` array\n  headings.forEach((heading) => {\n    const {parentIndex, ...rest} = heading;\n    if (parentIndex >= 0) {\n      headings[parentIndex]!.children.push(rest);\n    } else {\n      rootNodes.push(rest);\n    }\n  });\n  return rootNodes;\n}\n\n/**\n * Takes a flat TOC list (from the MDX loader) and treeifies it into what the\n * TOC components expect. Memoized for performance.\n */\nexport function useTreeifiedTOC(toc: TOCItem[]): readonly TOCTreeNode[] {\n  return useMemo(() => treeifyTOC(toc), [toc]);\n}\n\nfunction filterTOC({\n  toc,\n  minHeadingLevel,\n  maxHeadingLevel,\n}: {\n  toc: readonly TOCTreeNode[];\n  minHeadingLevel: number;\n  maxHeadingLevel: number;\n}): TOCTreeNode[] {\n  function isValid(item: TOCTreeNode) {\n    return item.level >= minHeadingLevel && item.level <= maxHeadingLevel;\n  }\n\n  return toc.flatMap((item) => {\n    const filteredChildren = filterTOC({\n      toc: item.children,\n      minHeadingLevel,\n      maxHeadingLevel,\n    });\n    if (isValid(item)) {\n      return [\n        {\n          ...item,\n          children: filteredChildren,\n        },\n      ];\n    }\n    return filteredChildren;\n  });\n}\n\n/**\n * Takes a flat TOC list (from the MDX loader) and treeifies it into what the\n * TOC components expect, applying the `minHeadingLevel` and `maxHeadingLevel`.\n * Memoized for performance.\n *\n * **Important**: this is not the same as `useTreeifiedTOC(toc.filter(...))`,\n * because we have to filter the TOC after it has been treeified. This is mostly\n * to ensure that weird TOC structures preserve their semantics. For example, an\n * h3-h2-h4 sequence should not be treeified as an \"h3 > h4\" hierarchy with\n * min=3, max=4, but should rather be \"[h3, h4]\" (since the h2 heading has split\n * the two headings and they are not parent-children)\n */\nexport function useFilteredAndTreeifiedTOC({\n  toc,\n  minHeadingLevel,\n  maxHeadingLevel,\n}: {\n  toc: readonly TOCItem[];\n  minHeadingLevel: number;\n  maxHeadingLevel: number;\n}): readonly TOCTreeNode[] {\n  return useMemo(\n    () => filterTOC({toc: treeifyTOC(toc), minHeadingLevel, maxHeadingLevel}),\n    [toc, minHeadingLevel, maxHeadingLevel],\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {useEffect, useRef} from 'react';\nimport {useThemeConfig} from '../utils/useThemeConfig';\n\n// TODO make the hardcoded theme-classic classnames configurable (or add them\n// to ThemeClassNames?)\n\n/**\n * If the anchor has no height and is just a \"marker\" in the DOM; we'll use the\n * parent (normally the link text) rect boundaries instead\n */\nfunction getVisibleBoundingClientRect(element: HTMLElement): DOMRect {\n  const rect = element.getBoundingClientRect();\n  const hasNoHeight = rect.top === rect.bottom;\n  if (hasNoHeight) {\n    return getVisibleBoundingClientRect(element.parentNode as HTMLElement);\n  }\n  return rect;\n}\n\n/**\n * Considering we divide viewport into 2 zones of each 50vh, this returns true\n * if an element is in the first zone (i.e., appear in viewport, near the top)\n */\nfunction isInViewportTopHalf(boundingRect: DOMRect) {\n  return boundingRect.top > 0 && boundingRect.bottom < window.innerHeight / 2;\n}\n\nfunction getAnchors({\n  minHeadingLevel,\n  maxHeadingLevel,\n}: {\n  minHeadingLevel: number;\n  maxHeadingLevel: number;\n}): HTMLElement[] {\n  const selectors = [];\n  for (let i = minHeadingLevel; i <= maxHeadingLevel; i += 1) {\n    selectors.push(`h${i}.anchor`);\n  }\n  return Array.from(document.querySelectorAll(selectors.join()));\n}\n\nfunction getActiveAnchor(\n  anchors: HTMLElement[],\n  {\n    anchorTopOffset,\n  }: {\n    anchorTopOffset: number;\n  },\n): Element | null {\n  // Naming is hard: The \"nextVisibleAnchor\" is the first anchor that appear\n  // under the viewport top boundary. It does not mean this anchor is visible\n  // yet, but if user continues scrolling down, it will be the first to become\n  // visible\n  const nextVisibleAnchor = anchors.find((anchor) => {\n    const boundingRect = getVisibleBoundingClientRect(anchor);\n    return boundingRect.top >= anchorTopOffset;\n  });\n\n  if (nextVisibleAnchor) {\n    const boundingRect = getVisibleBoundingClientRect(nextVisibleAnchor);\n    // If anchor is in the top half of the viewport: it is the one we consider\n    // \"active\" (unless it's too close to the top and and soon to be scrolled\n    // outside viewport)\n    if (isInViewportTopHalf(boundingRect)) {\n      return nextVisibleAnchor;\n    }\n    // If anchor is in the bottom half of the viewport, or under the viewport,\n    // we consider the active anchor is the previous one. This is because the\n    // main text appearing in the user screen mostly belong to the previous\n    // anchor. Returns null for the first anchor, see\n    // https://github.com/facebook/docusaurus/issues/5318\n    return anchors[anchors.indexOf(nextVisibleAnchor) - 1] ?? null;\n  }\n  // No anchor under viewport top (i.e. we are at the bottom of the page),\n  // highlight the last anchor found\n  return anchors[anchors.length - 1] ?? null;\n}\n\nfunction getLinkAnchorValue(link: HTMLAnchorElement): string {\n  return decodeURIComponent(link.href.substring(link.href.indexOf('#') + 1));\n}\n\nfunction getLinks(linkClassName: string) {\n  return Array.from(\n    document.getElementsByClassName(linkClassName),\n  ) as HTMLAnchorElement[];\n}\n\nfunction getNavbarHeight(): number {\n  // Not ideal to obtain actual height this way\n  // Using TS ! (not ?) because otherwise a bad selector would be un-noticed\n  return document.querySelector('.navbar')!.clientHeight;\n}\n\nfunction useAnchorTopOffsetRef() {\n  const anchorTopOffsetRef = useRef<number>(0);\n  const {\n    navbar: {hideOnScroll},\n  } = useThemeConfig();\n\n  useEffect(() => {\n    anchorTopOffsetRef.current = hideOnScroll ? 0 : getNavbarHeight();\n  }, [hideOnScroll]);\n\n  return anchorTopOffsetRef;\n}\n\nexport type TOCHighlightConfig = {\n  /** A class name that all TOC links share. */\n  linkClassName: string;\n  /** The class name applied to the active (highlighted) link. */\n  linkActiveClassName: string;\n  /**\n   * The minimum heading level that the TOC includes. Only headings that are in\n   * this range will be eligible as \"active heading\".\n   */\n  minHeadingLevel: number;\n  /** @see {@link TOCHighlightConfig.minHeadingLevel} */\n  maxHeadingLevel: number;\n};\n\n/**\n * Side-effect that applies the active class name to the TOC heading that the\n * user is currently viewing. Disabled when `config` is undefined.\n */\nexport function useTOCHighlight(config: TOCHighlightConfig | undefined): void {\n  const lastActiveLinkRef = useRef<HTMLAnchorElement | undefined>(undefined);\n\n  const anchorTopOffsetRef = useAnchorTopOffsetRef();\n\n  useEffect(() => {\n    if (!config) {\n      // No-op, highlighting is disabled\n      return () => {};\n    }\n\n    const {\n      linkClassName,\n      linkActiveClassName,\n      minHeadingLevel,\n      maxHeadingLevel,\n    } = config;\n\n    function updateLinkActiveClass(link: HTMLAnchorElement, active: boolean) {\n      if (active) {\n        if (lastActiveLinkRef.current && lastActiveLinkRef.current !== link) {\n          lastActiveLinkRef.current.classList.remove(linkActiveClassName);\n        }\n        link.classList.add(linkActiveClassName);\n        lastActiveLinkRef.current = link;\n        // link.scrollIntoView({block: 'nearest'});\n      } else {\n        link.classList.remove(linkActiveClassName);\n      }\n    }\n\n    function updateActiveLink() {\n      const links = getLinks(linkClassName);\n      const anchors = getAnchors({minHeadingLevel, maxHeadingLevel});\n      const activeAnchor = getActiveAnchor(anchors, {\n        anchorTopOffset: anchorTopOffsetRef.current,\n      });\n      const activeLink = links.find(\n        (link) => activeAnchor && activeAnchor.id === getLinkAnchorValue(link),\n      );\n\n      links.forEach((link) => {\n        updateLinkActiveClass(link, link === activeLink);\n      });\n    }\n\n    document.addEventListener('scroll', updateActiveLink);\n    document.addEventListener('resize', updateActiveLink);\n\n    updateActiveLink();\n\n    return () => {\n      document.removeEventListener('scroll', updateActiveLink);\n      document.removeEventListener('resize', updateActiveLink);\n    };\n  }, [config, anchorTopOffsetRef]);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport Link from '@docusaurus/Link';\n// Recursive component rendering the toc tree\nfunction TOCItemTree({toc, className, linkClassName, isChild}) {\n  if (!toc.length) {\n    return null;\n  }\n  return (\n    <ul className={isChild ? undefined : className}>\n      {toc.map((heading) => (\n        <li key={heading.id}>\n          <Link\n            to={`#${heading.id}`}\n            className={linkClassName ?? undefined}\n            // Developer provided the HTML, so assume it's safe.\n            dangerouslySetInnerHTML={{__html: heading.value}}\n          />\n          <TOCItemTree\n            isChild\n            toc={heading.children}\n            className={className}\n            linkClassName={linkClassName}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n}\n// Memo only the tree root is enough\nexport default React.memo(TOCItemTree);\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, {useMemo} from 'react';\nimport {useThemeConfig} from '@docusaurus/theme-common';\nimport {\n  useTOCHighlight,\n  useFilteredAndTreeifiedTOC,\n} from '@docusaurus/theme-common/internal';\nimport TOCItemTree from '@theme/TOCItems/Tree';\nexport default function TOCItems({\n  toc,\n  className = 'table-of-contents table-of-contents__left-border',\n  linkClassName = 'table-of-contents__link',\n  linkActiveClassName = undefined,\n  minHeadingLevel: minHeadingLevelOption,\n  maxHeadingLevel: maxHeadingLevelOption,\n  ...props\n}) {\n  const themeConfig = useThemeConfig();\n  const minHeadingLevel =\n    minHeadingLevelOption ?? themeConfig.tableOfContents.minHeadingLevel;\n  const maxHeadingLevel =\n    maxHeadingLevelOption ?? themeConfig.tableOfContents.maxHeadingLevel;\n  const tocTree = useFilteredAndTreeifiedTOC({\n    toc,\n    minHeadingLevel,\n    maxHeadingLevel,\n  });\n  const tocHighlightConfig = useMemo(() => {\n    if (linkClassName && linkActiveClassName) {\n      return {\n        linkClassName,\n        linkActiveClassName,\n        minHeadingLevel,\n        maxHeadingLevel,\n      };\n    }\n    return undefined;\n  }, [linkClassName, linkActiveClassName, minHeadingLevel, maxHeadingLevel]);\n  useTOCHighlight(tocHighlightConfig);\n  return (\n    <TOCItemTree\n      toc={tocTree}\n      className={className}\n      linkClassName={linkClassName}\n      {...props}\n    />\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport Translate from '@docusaurus/Translate';\nimport Head from '@docusaurus/Head';\n\nexport function UnlistedBannerTitle(): JSX.Element {\n  return (\n    <Translate\n      id=\"theme.unlistedContent.title\"\n      description=\"The unlisted content banner title\">\n      Unlisted page\n    </Translate>\n  );\n}\n\nexport function UnlistedBannerMessage(): JSX.Element {\n  return (\n    <Translate\n      id=\"theme.unlistedContent.message\"\n      description=\"The unlisted content banner message\">\n      This page is unlisted. Search engines will not index it, and only users\n      having a direct link can access it.\n    </Translate>\n  );\n}\n\nexport function UnlistedMetadata(): JSX.Element {\n  return (\n    <Head>\n      <meta name=\"robots\" content=\"noindex, nofollow\" />\n    </Head>\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport clsx from 'clsx';\nimport {\n  ThemeClassNames,\n  UnlistedBannerTitle,\n  UnlistedBannerMessage,\n  UnlistedMetadata,\n} from '@docusaurus/theme-common';\nimport Admonition from '@theme/Admonition';\nfunction UnlistedBanner({className}) {\n  return (\n    <Admonition\n      type=\"caution\"\n      title={<UnlistedBannerTitle />}\n      className={clsx(className, ThemeClassNames.common.unlistedBanner)}>\n      <UnlistedBannerMessage />\n    </Admonition>\n  );\n}\nexport default function Unlisted(props) {\n  return (\n    <>\n      {/*\n        Unlisted metadata declared here for simplicity.\n        Ensures we never forget to add the correct noindex metadata.\n        Also gives a central place for user to swizzle override default metadata.\n        */}\n      <UnlistedMetadata />\n      <UnlistedBanner {...props} />\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"admonition\":\"admonition_Gfwi\",\"admonitionHeading\":\"admonitionHeading_f1Ed\",\"admonitionIcon\":\"admonitionIcon_kpSf\",\"admonitionContent\":\"admonitionContent_UjKb\"};","import React from 'react';\nimport clsx from 'clsx';\nimport { ThemeClassNames } from '@docusaurus/theme-common';\nimport styles from './styles.module.css';\nfunction AdmonitionContainer({ type, className, children }) {\n    return (\n        <div\n            className={clsx(\n                ThemeClassNames.common.admonition,\n                ThemeClassNames.common.admonitionType(type),\n                styles.admonition,\n                className\n            )}\n        >\n            {children}\n        </div>\n    );\n}\nfunction AdmonitionHeading({ icon, title }) {\n    return (\n        <div className={styles.admonitionHeading}>\n            <span className={styles.admonitionIcon}>{icon}</span>\n            {/* {title} */}\n        </div>\n    );\n}\nfunction AdmonitionContent({ children }) {\n    return children ? (\n        <div className={styles.admonitionContent}>{children}</div>\n    ) : null;\n}\nexport default function AdmonitionLayout(props) {\n    const { type, icon, title, children, className } = props;\n    return (\n        <AdmonitionContainer type={type} className={className}>\n            <AdmonitionHeading title={title} icon={icon} />\n            <AdmonitionContent>{children}</AdmonitionContent>\n        </AdmonitionContainer>\n    );\n}\n","import React from 'react';\nexport default function AdmonitionIconNote(props) {\n  return (\n    <svg viewBox=\"0 0 14 16\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        d=\"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport Translate from '@docusaurus/Translate';\nimport AdmonitionLayout from '@theme/Admonition/Layout';\nimport IconNote from '@theme/Admonition/Icon/Note';\nconst infimaClassName = 'alert alert--secondary';\nconst defaultProps = {\n  icon: <IconNote />,\n  title: (\n    <Translate\n      id=\"theme.admonition.note\"\n      description=\"The default label used for the Note admonition (:::note)\">\n      note\n    </Translate>\n  ),\n};\nexport default function AdmonitionTypeNote(props) {\n  return (\n    <AdmonitionLayout\n      {...defaultProps}\n      {...props}\n      className={clsx(infimaClassName, props.className)}>\n      {props.children}\n    </AdmonitionLayout>\n  );\n}\n","import React from 'react';\nexport default function AdmonitionIconTip(props) {\n  return (\n    <svg viewBox=\"0 0 12 16\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        d=\"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport Translate from '@docusaurus/Translate';\nimport AdmonitionLayout from '@theme/Admonition/Layout';\nimport IconTip from '@theme/Admonition/Icon/Tip';\nconst infimaClassName = 'alert alert--success';\nconst defaultProps = {\n  icon: <IconTip />,\n  title: (\n    <Translate\n      id=\"theme.admonition.tip\"\n      description=\"The default label used for the Tip admonition (:::tip)\">\n      tip\n    </Translate>\n  ),\n};\nexport default function AdmonitionTypeTip(props) {\n  return (\n    <AdmonitionLayout\n      {...defaultProps}\n      {...props}\n      className={clsx(infimaClassName, props.className)}>\n      {props.children}\n    </AdmonitionLayout>\n  );\n}\n","import React from 'react';\nexport default function AdmonitionIconInfo(props) {\n  return (\n    <svg viewBox=\"0 0 14 16\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport Translate from '@docusaurus/Translate';\nimport AdmonitionLayout from '@theme/Admonition/Layout';\nimport IconInfo from '@theme/Admonition/Icon/Info';\nconst infimaClassName = 'alert alert--info';\nconst defaultProps = {\n  icon: <IconInfo />,\n  title: (\n    <Translate\n      id=\"theme.admonition.info\"\n      description=\"The default label used for the Info admonition (:::info)\">\n      info\n    </Translate>\n  ),\n};\nexport default function AdmonitionTypeInfo(props) {\n  return (\n    <AdmonitionLayout\n      {...defaultProps}\n      {...props}\n      className={clsx(infimaClassName, props.className)}>\n      {props.children}\n    </AdmonitionLayout>\n  );\n}\n","import React from 'react';\nexport default function AdmonitionIconCaution(props) {\n  return (\n    <svg viewBox=\"0 0 16 16\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        d=\"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport Translate from '@docusaurus/Translate';\nimport AdmonitionLayout from '@theme/Admonition/Layout';\nimport IconWarning from '@theme/Admonition/Icon/Warning';\nconst infimaClassName = 'alert alert--warning';\nconst defaultProps = {\n  icon: <IconWarning />,\n  title: (\n    <Translate\n      id=\"theme.admonition.warning\"\n      description=\"The default label used for the Warning admonition (:::warning)\">\n      warning\n    </Translate>\n  ),\n};\nexport default function AdmonitionTypeWarning(props) {\n  return (\n    <AdmonitionLayout\n      {...defaultProps}\n      {...props}\n      className={clsx(infimaClassName, props.className)}>\n      {props.children}\n    </AdmonitionLayout>\n  );\n}\n","import React from 'react';\nexport default function AdmonitionIconDanger(props) {\n  return (\n    <svg viewBox=\"0 0 12 16\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        d=\"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport Translate from '@docusaurus/Translate';\nimport AdmonitionLayout from '@theme/Admonition/Layout';\nimport IconDanger from '@theme/Admonition/Icon/Danger';\nconst infimaClassName = 'alert alert--danger';\nconst defaultProps = {\n  icon: <IconDanger />,\n  title: (\n    <Translate\n      id=\"theme.admonition.danger\"\n      description=\"The default label used for the Danger admonition (:::danger)\">\n      danger\n    </Translate>\n  ),\n};\nexport default function AdmonitionTypeDanger(props) {\n  return (\n    <AdmonitionLayout\n      {...defaultProps}\n      {...props}\n      className={clsx(infimaClassName, props.className)}>\n      {props.children}\n    </AdmonitionLayout>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport Translate from '@docusaurus/Translate';\nimport AdmonitionLayout from '@theme/Admonition/Layout';\nimport IconWarning from '@theme/Admonition/Icon/Warning';\nconst infimaClassName = 'alert alert--warning';\nconst defaultProps = {\n  icon: <IconWarning />,\n  title: (\n    <Translate\n      id=\"theme.admonition.caution\"\n      description=\"The default label used for the Caution admonition (:::caution)\">\n      caution\n    </Translate>\n  ),\n};\n// TODO remove before v4: Caution replaced by Warning\n// see https://github.com/facebook/docusaurus/issues/7558\nexport default function AdmonitionTypeCaution(props) {\n  return (\n    <AdmonitionLayout\n      {...defaultProps}\n      {...props}\n      className={clsx(infimaClassName, props.className)}>\n      {props.children}\n    </AdmonitionLayout>\n  );\n}\n","import React from 'react';\nimport AdmonitionTypeNote from '@theme/Admonition/Type/Note';\nimport AdmonitionTypeTip from '@theme/Admonition/Type/Tip';\nimport AdmonitionTypeInfo from '@theme/Admonition/Type/Info';\nimport AdmonitionTypeWarning from '@theme/Admonition/Type/Warning';\nimport AdmonitionTypeDanger from '@theme/Admonition/Type/Danger';\nimport AdmonitionTypeCaution from '@theme/Admonition/Type/Caution';\nconst admonitionTypes = {\n  note: AdmonitionTypeNote,\n  tip: AdmonitionTypeTip,\n  info: AdmonitionTypeInfo,\n  warning: AdmonitionTypeWarning,\n  danger: AdmonitionTypeDanger,\n};\n// Undocumented legacy admonition type aliases\n// Provide hardcoded/untranslated retrocompatible label\n// See also https://github.com/facebook/docusaurus/issues/7767\nconst admonitionAliases = {\n  secondary: (props) => <AdmonitionTypeNote title=\"secondary\" {...props} />,\n  important: (props) => <AdmonitionTypeInfo title=\"important\" {...props} />,\n  success: (props) => <AdmonitionTypeTip title=\"success\" {...props} />,\n  caution: AdmonitionTypeCaution,\n};\nexport default {\n  ...admonitionTypes,\n  ...admonitionAliases,\n};\n","import React from 'react';\nimport {processAdmonitionProps} from '@docusaurus/theme-common';\nimport AdmonitionTypes from '@theme/Admonition/Types';\nfunction getAdmonitionTypeComponent(type) {\n  const component = AdmonitionTypes[type];\n  if (component) {\n    return component;\n  }\n  console.warn(\n    `No admonition component found for admonition type \"${type}\". Using Info as fallback.`,\n  );\n  return AdmonitionTypes.info;\n}\nexport default function Admonition(unprocessedProps) {\n  const props = processAdmonitionProps(unprocessedProps);\n  const AdmonitionTypeComponent = getAdmonitionTypeComponent(props.type);\n  return <AdmonitionTypeComponent {...props} />;\n}\n","import React from 'react';\n// Import the original mapper\nimport MDXComponents from '@theme-original/MDXComponents';\nimport { FrameworkSpecific } from '@site/src/components/frameworkSpecific';\nimport { CodeRunner } from '../components/ui/codeRunner';\n\nexport default {\n    // Re-use the default mapping\n    ...MDXComponents,\n    // Map the \"<Highlight>\" tag to our Highlight component\n    // `Highlight` will receive all props that were passed to `<Highlight>` in MDX\n    FrameworkSpecific,\n    CodeRunner,\n};\n","import BrowserOnly from '@docusaurus/BrowserOnly';\nimport { DockviewEmitter } from 'dockview';\nimport * as React from 'react';\nimport * as DropdownMenu from '@radix-ui/react-dropdown-menu';\nimport useBaseUrl from '@docusaurus/useBaseUrl';\nimport './frameworkSpecific.css';\n\nexport interface FrameworkDescriptor {\n    value: string;\n    label: string;\n    icon: string;\n}\n\nconst frameworks: FrameworkDescriptor[] = [\n    { value: 'JavaScript', label: 'JavaScript', icon: 'img/js-icon.svg' },\n    { value: 'React', label: 'React', icon: 'img/react-icon.svg' },\n    { value: 'Vue', label: 'Vue', icon: 'img/vue-icon.svg' },\n    // { value: 'Angular', label: 'Angular' },\n];\n\nconst activeFrameworkGlobal = new DockviewEmitter<string>({ replay: true });\n\nexport function useActiveFramework(): [\n    FrameworkDescriptor,\n    (value: string) => void\n] {\n    const [value, setValue] = React.useState<string>(\n        localStorage.getItem('dv-docs-framework') ?? frameworks[0].value\n    );\n\n    React.useEffect(() => {\n        const disposable = activeFrameworkGlobal.event((value) => [\n            setValue(value),\n        ]);\n\n        activeFrameworkGlobal.fire(\n            localStorage.getItem('dv-docs-framework') ?? frameworks[0].value\n        );\n\n        return () => {\n            disposable.dispose();\n        };\n    }, []);\n\n    const setter = React.useCallback((value: string) => {\n        localStorage.setItem('dv-docs-framework', value);\n        setValue(value);\n        activeFrameworkGlobal.fire(value);\n    }, []);\n\n    const option = frameworks.find((_) => _.value === value);\n\n    return [option, setter];\n}\n\n\n\nconst FrameworkSelector1 = () => {\n    const [activeFramework, setActiveFramework] = useActiveFramework();\n\n    const onChange = (event: React.ChangeEvent<HTMLSelectElement>) => [\n        setActiveFramework(event.target.value),\n    ];\n\n    return (\n        <DropdownMenu.Root>\n            <DropdownMenu.Trigger asChild={true}>\n                <div className=\"framework-menu-item-select\">\n                    <span style={{ padding: '0px 8px' }}>\n                        {activeFramework.label}\n                    </span>\n                    <img\n                        width={20}\n                        height={20}\n                        src={useBaseUrl(activeFramework.icon)}\n                        style={{ marginRight: '8px' }}\n                    />\n                </div>\n            </DropdownMenu.Trigger>\n            <DropdownMenu.Content\n                side=\"bottom\"\n                align=\"end\"\n                sideOffset={10}\n                className=\"DropdownMenuContent\"\n            >\n                {frameworks.map((framework) => {\n                    return (\n                        <DropdownMenu.Item\n                            onClick={() => setActiveFramework(framework.label)}\n                            className=\"DropdownMenuItem\"\n                        >\n                            <div className=\"framework-menu-item\">\n                                <span style={{ paddingRight: '8px' }}>\n                                    {framework.label}\n                                </span>\n                                <img\n                                    width={20}\n                                    height={20}\n                                    src={useBaseUrl(framework.icon)}\n                                />\n                            </div>\n                        </DropdownMenu.Item>\n                    );\n                })}\n            </DropdownMenu.Content>\n        </DropdownMenu.Root>\n    );\n};\n\nexport const FrameworkSelector = () => {\n    return <BrowserOnly>{() => <FrameworkSelector1 />}</BrowserOnly>;\n};\n\nconst FrameworkSpecific1 = (props: {\n    framework: string;\n    children: React.ReactNode;\n}) => {\n    const [activeFramework] = useActiveFramework();\n\n    if (activeFramework.value === props.framework) {\n        return props.children;\n    }\n\n    return null;\n};\n\nexport const FrameworkSpecific = (props: {\n    framework: string;\n    children: React.ReactNode;\n}) => {\n    return <BrowserOnly>{() => <FrameworkSpecific1 {...props} />}</BrowserOnly>;\n};\n","import * as React from 'react';\nimport { useActiveFramework } from '../frameworkSpecific';\nimport BrowserOnly from '@docusaurus/BrowserOnly';\n\nconst BASE_SANDBOX_URL =\n    'https://codesandbox.io/s/github/mathuo/dockview/tree/gh-pages';\n\nexport const _CodeRunner = (props: { id: string; height: number }) => {\n    const [framework] = useActiveFramework();\n\n    let frameworkName = framework.label.toLowerCase();\n\n    if (frameworkName === 'javascript') {\n        frameworkName = 'typescript';\n    }\n\n    const sandboxUrl = `${BASE_SANDBOX_URL}/templates/${\n        props.id\n    }/${framework.label.toLowerCase()}`;\n    const path = `/templates/${props.id}/${frameworkName}/index.html`;\n    return (\n        <iframe\n            src={path}\n            style={{ width: '100%', height: `${props.height ?? 300}px` }}\n        />\n    );\n};\n\nexport const CodeRunner = (props: { id: string; height: number }) => {\n    return <BrowserOnly>{() => <_CodeRunner {...props} />}</BrowserOnly>;\n};\n\nconst CodeSandbox = (props: { url: string }) => {\n    return (\n        <span\n            className=\"codesandbox-button\"\n            style={{ display: 'flex', alignItems: 'center' }}\n        >\n            <span className=\"codesandbox-button-pretext\">{`Open in `}</span>\n            <a\n                href={props.url}\n                target={'_blank'}\n                rel=\"noopener\"\n                className=\"codesandbox-button-content\"\n            >\n                <span\n                    style={{\n                        fontWeight: 'bold',\n                        paddingRight: '4px',\n                    }}\n                >\n                    CodeSandbox\n                </span>\n            </a>\n        </span>\n    );\n};\n","/**\n * dockview-core\n * @version 5.0.0\n * @link https://github.com/mathuo/dockview\n * @license MIT\n */\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".dv-scrollable {\\n  position: relative;\\n  overflow: hidden;\\n}\\n.dv-scrollable .dv-scrollbar {\\n  position: absolute;\\n  border-radius: 2px;\\n  background-color: transparent;\\n  /* GPU optimizations */\\n  will-change: background-color, transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition-property: background-color;\\n  transition-timing-function: ease-in-out;\\n  transition-duration: 1s;\\n  transition-delay: 0s;\\n}\\n.dv-scrollable .dv-scrollbar-horizontal {\\n  bottom: 0px;\\n  left: 0px;\\n  height: 4px;\\n}\\n.dv-scrollable .dv-scrollbar-vertical {\\n  right: 0px;\\n  top: 0px;\\n  width: 4px;\\n}\\n.dv-scrollable:hover .dv-scrollbar, .dv-scrollable.dv-scrollable-resizing .dv-scrollbar, .dv-scrollable.dv-scrollable-scrolling .dv-scrollbar {\\n  background-color: var(--dv-scrollbar-background-color, rgba(255, 255, 255, 0.25));\\n}\\n.dv-svg {\\n  display: inline-block;\\n  fill: currentcolor;\\n  line-height: 1;\\n  stroke: currentcolor;\\n  stroke-width: 0;\\n}\\n.dockview-theme-dark {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #1e1e1e;\\n  --dv-tabs-and-actions-container-background-color: #252526;\\n  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-tab-divider-color: #1e1e1e;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: #969696;\\n  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;\\n  --dv-inactivegroup-hiddenpanel-tab-color: #626262;\\n  --dv-separator-border: rgb(68, 68, 68);\\n  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);\\n}\\n.dockview-theme-dark .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-light {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: white;\\n  --dv-tabs-and-actions-container-background-color: #f3f3f3;\\n  --dv-activegroup-visiblepanel-tab-background-color: white;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #ececec;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: white;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #ececec;\\n  --dv-tab-divider-color: white;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-activegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.7);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(51, 51, 51, 0.7);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.35);\\n  --dv-separator-border: rgba(128, 128, 128, 0.35);\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);\\n}\\n.dockview-theme-light .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-vs {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #1e1e1e;\\n  --dv-tabs-and-actions-container-background-color: #252526;\\n  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-tab-divider-color: #1e1e1e;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: #969696;\\n  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;\\n  --dv-inactivegroup-hiddenpanel-tab-color: #626262;\\n  --dv-separator-border: rgb(68, 68, 68);\\n  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);\\n  --dv-tabs-and-actions-container-background-color: #2d2d30;\\n  --dv-tabs-and-actions-container-height: 20px;\\n  --dv-tabs-and-actions-container-font-size: 11px;\\n  --dv-activegroup-visiblepanel-tab-background-color: #007acc;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #3f3f46;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: white;\\n  --dv-inactivegroup-visiblepanel-tab-color: white;\\n  --dv-inactivegroup-hiddenpanel-tab-color: white;\\n}\\n.dockview-theme-vs .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container {\\n  box-sizing: content-box;\\n  border-bottom: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {\\n  border-top: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {\\n  border-top: 2px solid var(--dv-activegroup-hiddenpanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container {\\n  box-sizing: content-box;\\n  border-bottom: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {\\n  border-top: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {\\n  border-top: 2px solid var(--dv-inactivegroup-hiddenpanel-tab-background-color);\\n}\\n\\n.dockview-theme-abyss {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-color-abyss-dark: #000c18;\\n  --dv-color-abyss: #10192c;\\n  --dv-color-abyss-light: #1c1c2a;\\n  --dv-color-abyss-lighter: #2b2b4a;\\n  --dv-color-abyss-accent: rgb(91, 30, 207);\\n  --dv-color-abyss-primary-text: white;\\n  --dv-color-abyss-secondary-text: rgb(148, 151, 169);\\n  --dv-group-view-background-color: var(--dv-color-abyss-dark);\\n  --dv-tabs-and-actions-container-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-activegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-dark\\n  );\\n  --dv-activegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);\\n  --dv-inactivegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-dark\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);\\n  --dv-tab-divider-color: var(--dv-color-abyss-lighter);\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.5);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(255, 255, 255, 0.5);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.25);\\n  --dv-separator-border: var(--dv-color-abyss-lighter);\\n  --dv-paneview-header-border-color: var(--dv-color-abyss-lighter);\\n  --dv-paneview-active-outline-color: #596f99;\\n}\\n.dockview-theme-abyss .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-dracula {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #282a36;\\n  --dv-tabs-and-actions-container-background-color: #191a21;\\n  --dv-activegroup-visiblepanel-tab-background-color: #282a36;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #21222c;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #282a36;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #21222c;\\n  --dv-tab-divider-color: #191a21;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(248, 248, 242);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(98, 114, 164);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(248, 248, 242, 0.5);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(98, 114, 164, 0.5);\\n  --dv-separator-border: #bd93f9;\\n  --dv-paneview-header-border-color: #bd93f9;\\n  --dv-paneview-active-outline-color: #6272a4;\\n}\\n.dockview-theme-dracula .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  position: relative;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  content: \\\"\\\";\\n  width: 100%;\\n  height: 1px;\\n  background-color: #94527e;\\n  z-index: 999;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  position: relative;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {\\n  position: absolute;\\n  left: 0px;\\n  bottom: 0px;\\n  content: \\\"\\\";\\n  width: 100%;\\n  height: 1px;\\n  background-color: #5e3d5a;\\n  z-index: 999;\\n}\\n\\n.dockview-theme-replit {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  box-sizing: border-box;\\n  padding: 10px;\\n  background-color: #ebeced;\\n  --dv-group-view-background-color: #ebeced;\\n  --dv-tabs-and-actions-container-background-color: #fcfcfc;\\n  --dv-activegroup-visiblepanel-tab-background-color: #f0f1f2;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #fcfcfc;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #f0f1f2;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #fcfcfc;\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(51, 51, 51);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgb(51, 51, 51);\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-sash-color: #cfd1d3;\\n  --dv-active-sash-color: #babbbb;\\n}\\n.dockview-theme-replit .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-replit .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-replit .dv-resize-container {\\n  border-radius: 10px !important;\\n  border: none;\\n}\\n.dockview-theme-replit .dv-groupview {\\n  overflow: hidden;\\n  border-radius: 10px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container {\\n  border-bottom: 1px solid rgba(128, 128, 128, 0.35);\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab {\\n  margin: 4px;\\n  border-radius: 8px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab:hover {\\n  background-color: #e4e5e6 !important;\\n}\\n.dockview-theme-replit .dv-groupview .dv-content-container {\\n  background-color: #fcfcfc;\\n}\\n.dockview-theme-replit .dv-groupview.dv-active-group {\\n  border: 1px solid rgba(128, 128, 128, 0.35);\\n}\\n.dockview-theme-replit .dv-groupview.dv-inactive-group {\\n  border: 1px solid transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled)::after {\\n  content: \\\"\\\";\\n  height: 4px;\\n  width: 40px;\\n  border-radius: 2px;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  background-color: var(--dv-sash-color);\\n  position: absolute;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active::after {\\n  background-color: var(--dv-active-sash-color);\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled)::after {\\n  content: \\\"\\\";\\n  height: 40px;\\n  width: 4px;\\n  border-radius: 2px;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  background-color: var(--dv-sash-color);\\n  position: absolute;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active::after {\\n  background-color: var(--dv-active-sash-color);\\n}\\n\\n.dockview-theme-abyss-spaced {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-tab-font-size: 12px;\\n  --dv-border-radius: 20px;\\n  --dv-tab-margin: 0.5rem 0.25rem;\\n  --dv-tabs-and-actions-container-height: 44px;\\n  --dv-border-radius: 20px;\\n  box-sizing: border-box;\\n  --dv-color-abyss-dark: rgb(11, 6, 17);\\n  --dv-color-abyss: #16121f;\\n  --dv-color-abyss-light: #201d2b;\\n  --dv-color-abyss-lighter: #2a2837;\\n  --dv-color-abyss-accent: rgb(91, 30, 207);\\n  --dv-color-abyss-primary-text: white;\\n  --dv-color-abyss-secondary-text: rgb(148, 151, 169);\\n  --dv-drag-over-border: 2px solid var(--dv-color-abyss-accent);\\n  --dv-drag-over-background-color: \\\"\\\";\\n  --dv-group-view-background-color: var(--dv-color-abyss-dark);\\n  --dv-tabs-and-actions-container-background-color: var(--dv-color-abyss);\\n  --dv-activegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-lighter\\n  );\\n  --dv-activegroup-hiddenpanel-tab-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-inactivegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-lighter\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: var(--dv-color-abyss-primary-text);\\n  --dv-activegroup-hiddenpanel-tab-color: var(\\n      --dv-color-abyss-secondary-text\\n  );\\n  --dv-inactivegroup-visiblepanel-tab-color: var(\\n      --dv-color-abyss-primary-text\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-color: var(\\n      --dv-color-abyss-secondary-text\\n  );\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-active-sash-color: var(--dv-color-abyss-accent);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.5);\\n  padding: 10px;\\n  background-color: var(--dv-color-abyss-dark);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-sash {\\n  border-radius: 4px;\\n}\\n.dockview-theme-abyss-spaced .dv-drop-target-anchor {\\n  border-radius: calc(var(--dv-border-radius) / 4);\\n}\\n.dockview-theme-abyss-spaced .dv-drop-target-anchor.dv-drop-target-content {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container {\\n  border-radius: var(--dv-border-radius) !important;\\n  border: none;\\n}\\n.dockview-theme-abyss-spaced .dv-tabs-overflow-container,\\n.dockview-theme-abyss-spaced .dv-tabs-overflow-dropdown-default {\\n  border-radius: 8px;\\n  height: unset !important;\\n}\\n.dockview-theme-abyss-spaced .dv-tab {\\n  border-radius: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-groupview {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-abyss-spaced .dv-groupview .dv-tabs-and-actions-container {\\n  padding: 0px calc(var(--dv-border-radius) / 2);\\n}\\n.dockview-theme-abyss-spaced .dv-groupview .dv-content-container {\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container .dv-groupview {\\n  border: 2px solid var(--dv-color-abyss-dark);\\n}\\n\\n.dockview-theme-light-spaced {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-tab-font-size: 12px;\\n  --dv-border-radius: 20px;\\n  --dv-tab-margin: 0.5rem 0.25rem;\\n  --dv-tabs-and-actions-container-height: 44px;\\n  --dv-border-radius: 20px;\\n  box-sizing: border-box;\\n  --dv-drag-over-border: 2px solid rgb(91, 30, 207);\\n  --dv-drag-over-background-color: \\\"\\\";\\n  --dv-group-view-background-color: #f6f5f9;\\n  --dv-tabs-and-actions-container-background-color: white;\\n  --dv-activegroup-visiblepanel-tab-background-color: #ededf0;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #f9f9fa;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #ededf0;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #f9f9fa;\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(104, 107, 130);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(148, 151, 169);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgb(104, 107, 130);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgb(148, 151, 169);\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-active-sash-color: rgb(91, 30, 207);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.1);\\n  padding: 10px;\\n  background-color: #f6f5f9;\\n  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);\\n}\\n.dockview-theme-light-spaced .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-light-spaced .dv-sash {\\n  border-radius: 4px;\\n}\\n.dockview-theme-light-spaced .dv-drop-target-anchor {\\n  border-radius: calc(var(--dv-border-radius) / 4);\\n}\\n.dockview-theme-light-spaced .dv-drop-target-anchor.dv-drop-target-content {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-light-spaced .dv-resize-container {\\n  border-radius: var(--dv-border-radius) !important;\\n  border: none;\\n}\\n.dockview-theme-light-spaced .dv-tabs-overflow-container,\\n.dockview-theme-light-spaced .dv-tabs-overflow-dropdown-default {\\n  border-radius: 8px;\\n  height: unset !important;\\n}\\n.dockview-theme-light-spaced .dv-tab {\\n  border-radius: 8px;\\n}\\n.dockview-theme-light-spaced .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-light-spaced .dv-groupview {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-light-spaced .dv-groupview .dv-tabs-and-actions-container {\\n  padding: 0px calc(var(--dv-border-radius) / 2);\\n}\\n.dockview-theme-light-spaced .dv-groupview .dv-content-container {\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n}\\n.dockview-theme-light-spaced .dv-resize-container .dv-groupview {\\n  border: 2px solid rgba(255, 255, 255, 0.1);\\n}\\n.dv-drop-target-container {\\n  position: absolute;\\n  z-index: 9999;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  pointer-events: none;\\n  overflow: hidden;\\n  --dv-transition-duration: 300ms;\\n}\\n.dv-drop-target-container .dv-drop-target-anchor {\\n  position: relative;\\n  border: var(--dv-drag-over-border);\\n  background-color: var(--dv-drag-over-background-color);\\n  opacity: 1;\\n  /* GPU optimizations */\\n  will-change: transform, opacity;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  contain: layout paint;\\n  transition: opacity var(--dv-transition-duration) ease-in, transform var(--dv-transition-duration) ease-out;\\n}\\n.dv-drop-target {\\n  position: relative;\\n  --dv-transition-duration: 70ms;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 1000;\\n  pointer-events: none;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection {\\n  position: relative;\\n  box-sizing: border-box;\\n  height: 100%;\\n  width: 100%;\\n  border: var(--dv-drag-over-border);\\n  background-color: var(--dv-drag-over-background-color);\\n  transition: top var(--dv-transition-duration) ease-out, left var(--dv-transition-duration) ease-out, width var(--dv-transition-duration) ease-out, height var(--dv-transition-duration) ease-out, opacity var(--dv-transition-duration) ease-out;\\n  will-change: transform;\\n  pointer-events: none;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-top.dv-drop-target-small-vertical {\\n  border-top: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-bottom.dv-drop-target-small-vertical {\\n  border-bottom: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-left.dv-drop-target-small-horizontal {\\n  border-left: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-right.dv-drop-target-small-horizontal {\\n  border-right: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-dockview {\\n  position: relative;\\n  background-color: var(--dv-group-view-background-color);\\n  contain: layout;\\n}\\n.dv-dockview .dv-watermark-container {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 1;\\n}\\n.dv-dockview .dv-overlay-render-container {\\n  position: relative;\\n}\\n\\n.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {\\n  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n}\\n.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  background-color: var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-inactivegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {\\n  background-color: var(--dv-inactivegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-inactivegroup-hiddenpanel-tab-color);\\n}\\n\\n/**\\n * when a tab is dragged we lose the above stylings because they are conditional on parent elements\\n * therefore we also set some stylings for the dragging event\\n **/\\n.dv-tab.dv-tab-dragging {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview {\\n  display: flex;\\n  height: 100%;\\n  background-color: var(--dv-group-view-background-color);\\n  overflow: hidden;\\n  flex-direction: column;\\n}\\n.dv-groupview:focus {\\n  outline: none;\\n}\\n.dv-groupview > .dv-content-container {\\n  flex-grow: 1;\\n  min-height: 0;\\n  outline: none;\\n}\\n.dv-groupview.dv-groupview-header-bottom {\\n  flex-direction: column-reverse;\\n}\\n.dv-groupview.dv-groupview-header-left {\\n  flex-direction: row;\\n}\\n.dv-groupview.dv-groupview-header-right {\\n  flex-direction: row-reverse;\\n}\\n.dv-root-wrapper {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-grid-view,\\n.dv-branch-node {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-top {\\n  background-color: red;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-bottom {\\n  background-color: green;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-left {\\n  background-color: yellow;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-right {\\n  background-color: blue;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-topleft,\\n.dv-debug .dv-resize-container .dv-resize-handle-topright,\\n.dv-debug .dv-resize-container .dv-resize-handle-bottomleft,\\n.dv-debug .dv-resize-container .dv-resize-handle-bottomright {\\n  background-color: cyan;\\n}\\n\\n.dv-resize-container {\\n  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);\\n  position: absolute;\\n  z-index: calc(var(--dv-overlay-z-index) - 2);\\n  border: 1px solid var(--dv-tab-divider-color);\\n  box-shadow: var(--dv-floating-box-shadow);\\n  /* GPU optimizations for floating group movement */\\n  will-change: transform, opacity;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n}\\n.dv-resize-container.dv-hidden {\\n  display: none;\\n}\\n.dv-resize-container.dv-resize-container-dragging {\\n  opacity: 0.5;\\n  /* Enhanced GPU acceleration during drag */\\n  will-change: transform, opacity;\\n}\\n.dv-resize-container .dv-resize-handle-top {\\n  height: 4px;\\n  width: calc(100% - 8px);\\n  left: 4px;\\n  top: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ns-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottom {\\n  height: 4px;\\n  width: calc(100% - 8px);\\n  left: 4px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ns-resize;\\n}\\n.dv-resize-container .dv-resize-handle-left {\\n  height: calc(100% - 8px);\\n  width: 4px;\\n  left: -2px;\\n  top: 4px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ew-resize;\\n}\\n.dv-resize-container .dv-resize-handle-right {\\n  height: calc(100% - 8px);\\n  width: 4px;\\n  right: -2px;\\n  top: 4px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ew-resize;\\n}\\n.dv-resize-container .dv-resize-handle-topleft {\\n  height: 4px;\\n  width: 4px;\\n  top: -2px;\\n  left: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: nw-resize;\\n}\\n.dv-resize-container .dv-resize-handle-topright {\\n  height: 4px;\\n  width: 4px;\\n  right: -2px;\\n  top: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ne-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottomleft {\\n  height: 4px;\\n  width: 4px;\\n  left: -2px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: sw-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottomright {\\n  height: 4px;\\n  width: 4px;\\n  right: -2px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: se-resize;\\n}\\n.dv-render-overlay {\\n  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);\\n  position: absolute;\\n  z-index: 1;\\n  width: 100%;\\n  height: 100%;\\n  contain: layout paint;\\n  isolation: isolate;\\n  /* GPU optimizations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n}\\n.dv-render-overlay.dv-render-overlay-float {\\n  z-index: calc(var(--dv-overlay-z-index) - 1);\\n}\\n\\n.dv-debug .dv-render-overlay {\\n  outline: 1px solid red;\\n  outline-offset: -1;\\n}\\n.dv-pane-container {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-pane-container.dv-animated .dv-view {\\n  /* GPU optimizations for smooth pane animations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition: transform 0.15s ease-out;\\n}\\n.dv-pane-container .dv-view {\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 0px !important;\\n}\\n.dv-pane-container .dv-view:not(:first-child)::before {\\n  background-color: transparent !important;\\n}\\n.dv-pane-container .dv-view:not(:first-child) .dv-pane > .dv-pane-header {\\n  border-top: 1px solid var(--dv-paneview-header-border-color);\\n}\\n.dv-pane-container .dv-view .dv-default-header {\\n  background-color: var(--dv-group-view-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n  display: flex;\\n  padding: 0px 8px;\\n  cursor: pointer;\\n}\\n.dv-pane-container .dv-view .dv-default-header .dv-pane-header-icon {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.dv-pane-container .dv-view .dv-default-header > span {\\n  padding-left: 8px;\\n  flex-grow: 1;\\n}\\n.dv-pane-container:first-of-type > .dv-pane > .dv-pane-header {\\n  border-top: none !important;\\n}\\n.dv-pane-container .dv-pane {\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n  height: 100%;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header {\\n  box-sizing: border-box;\\n  user-select: none;\\n  position: relative;\\n  outline: none;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header.dv-pane-draggable {\\n  cursor: pointer;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header:focus:before, .dv-pane-container .dv-pane .dv-pane-header:focus-within:before {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 5;\\n  content: \\\"\\\";\\n  pointer-events: none;\\n  outline: 1px solid;\\n  outline-width: -1px;\\n  outline-style: solid;\\n  outline-offset: -1px;\\n  outline-color: var(--dv-paneview-active-outline-color);\\n}\\n.dv-pane-container .dv-pane .dv-pane-body {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  flex-grow: 1;\\n  position: relative;\\n  outline: none;\\n}\\n.dv-pane-container .dv-pane .dv-pane-body:focus:before, .dv-pane-container .dv-pane .dv-pane-body:focus-within:before {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 5;\\n  content: \\\"\\\";\\n  pointer-events: none;\\n  outline: 1px solid;\\n  outline-width: -1px;\\n  outline-style: solid;\\n  outline-offset: -1px;\\n  outline-color: var(--dv-paneview-active-outline-color);\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-enabled {\\n  background-color: black;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-disabled {\\n  background-color: orange;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-maximum {\\n  background-color: green;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-minimum {\\n  background-color: red;\\n}\\n\\n.dv-split-view-container {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-splitview-disabled > .dv-sash-container > .dv-sash {\\n  pointer-events: none;\\n}\\n.dv-split-view-container.dv-animation .dv-view,\\n.dv-split-view-container.dv-animation .dv-sash {\\n  /* GPU optimizations for smooth animations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition: transform 0.15s ease-out;\\n}\\n.dv-split-view-container.dv-horizontal {\\n  height: 100%;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash {\\n  height: 100%;\\n  width: 4px;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-enabled {\\n  cursor: ew-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-disabled {\\n  cursor: default;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-maximum {\\n  cursor: w-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-minimum {\\n  cursor: e-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-view-container > .dv-view:not(:first-child)::before {\\n  height: 100%;\\n  width: 1px;\\n}\\n.dv-split-view-container.dv-vertical {\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash {\\n  width: 100%;\\n  height: 4px;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-enabled {\\n  cursor: ns-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-disabled {\\n  cursor: default;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-maximum {\\n  cursor: n-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-minimum {\\n  cursor: s-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view {\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view:not(:first-child)::before {\\n  height: 1px;\\n  width: 100%;\\n}\\n.dv-split-view-container .dv-sash-container {\\n  height: 100%;\\n  width: 100%;\\n  position: absolute;\\n}\\n.dv-split-view-container .dv-sash-container .dv-sash {\\n  position: absolute;\\n  z-index: 99;\\n  outline: none;\\n  user-select: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  touch-action: none;\\n  background-color: var(--dv-sash-color, transparent);\\n}\\n.dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):active, .dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):hover {\\n  background-color: var(--dv-active-sash-color, transparent);\\n  transition-property: background-color;\\n  transition-timing-function: ease-in-out;\\n  transition-duration: var(--dv-active-sash-transition-duration, 0.1s);\\n  transition-delay: var(--dv-active-sash-transition-delay, 0.5s);\\n}\\n.dv-split-view-container .dv-view-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-split-view-container .dv-view-container .dv-view {\\n  height: 100%;\\n  box-sizing: border-box;\\n  overflow: auto;\\n  position: absolute;\\n}\\n.dv-split-view-container.dv-separator-border .dv-view:not(:first-child)::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 5;\\n  pointer-events: none;\\n  background-color: var(--dv-separator-border);\\n}\\n.dv-dragged {\\n  transform: translate3d(0px, 0px, 0px); /* forces tab to be drawn on a separate layer (see https://github.com/microsoft/vscode/issues/18733) */\\n}\\n\\n.dv-tab {\\n  flex-shrink: 0;\\n}\\n.dv-tab:focus-within, .dv-tab:focus {\\n  position: relative;\\n}\\n.dv-tab:focus-within::after, .dv-tab:focus::after {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 100%;\\n  width: 100%;\\n  top: 0px;\\n  left: 0px;\\n  pointer-events: none;\\n  outline: 1px solid var(--dv-tab-divider-color) !important;\\n  outline-offset: -1px;\\n  z-index: 5;\\n}\\n.dv-tab.dv-tab-dragging .dv-default-tab-action {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-tab.dv-active-tab .dv-default-tab .dv-default-tab-action {\\n  visibility: visible;\\n}\\n.dv-tab.dv-inactive-tab .dv-default-tab .dv-default-tab-action {\\n  visibility: hidden;\\n}\\n.dv-tab.dv-inactive-tab .dv-default-tab:hover .dv-default-tab-action {\\n  visibility: visible;\\n}\\n.dv-tab .dv-default-tab {\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-content {\\n  flex-grow: 1;\\n  margin-right: 4px;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-action {\\n  padding: 4px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  box-sizing: border-box;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-action:hover {\\n  border-radius: 2px;\\n  background-color: var(--dv-icon-hover-background-color);\\n}\\n.dv-tabs-overflow-dropdown-default {\\n  height: 100%;\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n  margin: var(--dv-tab-margin);\\n  display: flex;\\n  align-items: center;\\n  flex-shrink: 0;\\n  padding: 0.25rem 0.5rem;\\n  cursor: pointer;\\n}\\n.dv-tabs-overflow-dropdown-default > span {\\n  padding-left: 0.25rem;\\n}\\n.dv-tabs-overflow-dropdown-default > svg {\\n  transform: rotate(90deg);\\n}\\n.dv-tabs-container {\\n  display: flex;\\n  height: 100%;\\n  overflow: auto;\\n  scrollbar-width: thin;\\n  /* GPU optimizations for smooth scrolling */\\n  will-change: scroll-position;\\n  transform: translate3d(0, 0, 0);\\n  /* Track */\\n  /* Handle */\\n}\\n.dv-tabs-container.dv-tabs-container-vertical {\\n  width: 100%;\\n  height: fit-content;\\n  max-height: 100%;\\n  writing-mode: vertical-rl;\\n}\\n.dv-tabs-container.dv-horizontal .dv-tab:not(:first-child)::before, .dv-tabs-container.dv-vertical .dv-tab:not(:first-child)::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 5;\\n  pointer-events: none;\\n  background-color: var(--dv-tab-divider-color);\\n}\\n.dv-tabs-container.dv-horizontal .dv-tab:not(:first-child)::before {\\n  width: 1px;\\n  height: 100%;\\n}\\n.dv-tabs-container.dv-vertical .dv-tab:not(:first-child)::before {\\n  width: 100%;\\n  height: 1px;\\n}\\n.dv-tabs-container::-webkit-scrollbar {\\n  height: 3px;\\n}\\n.dv-tabs-container::-webkit-scrollbar-track {\\n  background: transparent;\\n}\\n.dv-tabs-container::-webkit-scrollbar-thumb {\\n  background: var(--dv-tabs-container-scrollbar-color);\\n}\\n\\n.dv-scrollable > .dv-tabs-container {\\n  overflow: hidden;\\n}\\n\\n.dv-tab {\\n  -webkit-user-drag: element;\\n  outline: none;\\n  padding: 0.25rem 0.5rem;\\n  cursor: pointer;\\n  position: relative;\\n  box-sizing: border-box;\\n  font-size: var(--dv-tab-font-size);\\n  margin: var(--dv-tab-margin);\\n}\\n\\n.dv-tabs-container-vertical .dv-tab {\\n  padding: 0.5rem 0.25rem;\\n}\\n\\n.dv-tabs-overflow-container {\\n  flex-direction: column;\\n  height: unset;\\n  max-height: min(50vh, 400px);\\n  overflow-y: auto;\\n  border: 1px solid var(--dv-tab-divider-color);\\n  background-color: var(--dv-group-view-background-color);\\n  /* Scrollbar styling for webkit browsers */\\n  /* Firefox scrollbar */\\n  scrollbar-width: thin;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar {\\n  width: 6px;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar-track {\\n  background: transparent;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar-thumb {\\n  background: var(--dv-tabs-container-scrollbar-color);\\n  border-radius: 3px;\\n}\\n.dv-tabs-overflow-container .dv-tab:not(:last-child) {\\n  border-bottom: 1px solid var(--dv-tab-divider-color);\\n}\\n.dv-tabs-overflow-container .dv-active-tab {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-tabs-overflow-container .dv-inactive-tab {\\n  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n}\\n.dv-tabs-and-actions-container {\\n  display: flex;\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n  flex-shrink: 0;\\n  box-sizing: border-box;\\n  height: var(--dv-tabs-and-actions-container-height);\\n  font-size: var(--dv-tabs-and-actions-container-font-size);\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-scrollable {\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container {\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container .dv-tab {\\n  flex-grow: 1;\\n  padding: 0px;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-void-container {\\n  flex-grow: 0;\\n}\\n.dv-tabs-and-actions-container .dv-void-container {\\n  display: flex;\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container .dv-void-container.dv-draggable {\\n  cursor: grab;\\n}\\n.dv-tabs-and-actions-container .dv-right-actions-container {\\n  display: flex;\\n}\\n.dv-tabs-and-actions-container .dv-right-actions-container.dv-right-actions-container-vertical {\\n  flex-direction: column;\\n}\\n.dv-tabs-and-actions-container.dv-groupview-header-vertical {\\n  flex-direction: column;\\n  height: auto;\\n  width: var(--dv-tabs-and-actions-container-height);\\n}\\n.dv-watermark {\\n  display: flex;\\n  height: 100%;\\n}\";\nstyleInject(css_248z);\n\nclass TransferObject {\n}\nclass PanelTransfer extends TransferObject {\n    constructor(viewId, groupId, panelId) {\n        super();\n        this.viewId = viewId;\n        this.groupId = groupId;\n        this.panelId = panelId;\n    }\n}\nclass PaneTransfer extends TransferObject {\n    constructor(viewId, paneId) {\n        super();\n        this.viewId = viewId;\n        this.paneId = paneId;\n    }\n}\n/**\n * A singleton to store transfer data during drag & drop operations that are only valid within the application.\n */\nclass LocalSelectionTransfer {\n    constructor() {\n        // protect against external instantiation\n    }\n    static getInstance() {\n        return LocalSelectionTransfer.INSTANCE;\n    }\n    hasData(proto) {\n        return proto && proto === this.proto;\n    }\n    clearData(proto) {\n        if (this.hasData(proto)) {\n            this.proto = undefined;\n            this.data = undefined;\n        }\n    }\n    getData(proto) {\n        if (this.hasData(proto)) {\n            return this.data;\n        }\n        return undefined;\n    }\n    setData(data, proto) {\n        if (proto) {\n            this.data = data;\n            this.proto = proto;\n        }\n    }\n}\nLocalSelectionTransfer.INSTANCE = new LocalSelectionTransfer();\nfunction getPanelData() {\n    const panelTransfer = LocalSelectionTransfer.getInstance();\n    const isPanelEvent = panelTransfer.hasData(PanelTransfer.prototype);\n    if (!isPanelEvent) {\n        return undefined;\n    }\n    return panelTransfer.getData(PanelTransfer.prototype)[0];\n}\nfunction getPaneData() {\n    const paneTransfer = LocalSelectionTransfer.getInstance();\n    const isPanelEvent = paneTransfer.hasData(PaneTransfer.prototype);\n    if (!isPanelEvent) {\n        return undefined;\n    }\n    return paneTransfer.getData(PaneTransfer.prototype)[0];\n}\n\nvar Event;\n(function (Event) {\n    Event.any = (...children) => {\n        return (listener) => {\n            const disposables = children.map((child) => child(listener));\n            return {\n                dispose: () => {\n                    disposables.forEach((d) => {\n                        d.dispose();\n                    });\n                },\n            };\n        };\n    };\n})(Event || (Event = {}));\nclass DockviewEvent {\n    constructor() {\n        this._defaultPrevented = false;\n    }\n    get defaultPrevented() {\n        return this._defaultPrevented;\n    }\n    preventDefault() {\n        this._defaultPrevented = true;\n    }\n}\nclass AcceptableEvent {\n    constructor() {\n        this._isAccepted = false;\n    }\n    get isAccepted() {\n        return this._isAccepted;\n    }\n    accept() {\n        this._isAccepted = true;\n    }\n}\nclass LeakageMonitor {\n    constructor() {\n        this.events = new Map();\n    }\n    get size() {\n        return this.events.size;\n    }\n    add(event, stacktrace) {\n        this.events.set(event, stacktrace);\n    }\n    delete(event) {\n        this.events.delete(event);\n    }\n    clear() {\n        this.events.clear();\n    }\n}\nclass Stacktrace {\n    static create() {\n        var _a;\n        return new Stacktrace((_a = new Error().stack) !== null && _a !== void 0 ? _a : '');\n    }\n    constructor(value) {\n        this.value = value;\n    }\n    print() {\n        console.warn('dockview: stacktrace', this.value);\n    }\n}\nclass Listener {\n    constructor(callback, stacktrace) {\n        this.callback = callback;\n        this.stacktrace = stacktrace;\n    }\n}\n// relatively simple event emitter taken from https://github.com/microsoft/vscode/blob/master/src/vs/base/common/event.ts\nclass Emitter {\n    static setLeakageMonitorEnabled(isEnabled) {\n        if (isEnabled !== Emitter.ENABLE_TRACKING) {\n            Emitter.MEMORY_LEAK_WATCHER.clear();\n        }\n        Emitter.ENABLE_TRACKING = isEnabled;\n    }\n    get value() {\n        return this._last;\n    }\n    constructor(options) {\n        this.options = options;\n        this._listeners = [];\n        this._disposed = false;\n    }\n    get event() {\n        if (!this._event) {\n            this._event = (callback) => {\n                var _a;\n                if (((_a = this.options) === null || _a === void 0 ? void 0 : _a.replay) && this._last !== undefined) {\n                    callback(this._last);\n                }\n                const listener = new Listener(callback, Emitter.ENABLE_TRACKING ? Stacktrace.create() : undefined);\n                this._listeners.push(listener);\n                return {\n                    dispose: () => {\n                        const index = this._listeners.indexOf(listener);\n                        if (index > -1) {\n                            this._listeners.splice(index, 1);\n                        }\n                        else if (Emitter.ENABLE_TRACKING) ;\n                    },\n                };\n            };\n            if (Emitter.ENABLE_TRACKING) {\n                Emitter.MEMORY_LEAK_WATCHER.add(this._event, Stacktrace.create());\n            }\n        }\n        return this._event;\n    }\n    fire(e) {\n        var _a;\n        if ((_a = this.options) === null || _a === void 0 ? void 0 : _a.replay) {\n            this._last = e;\n        }\n        for (const listener of this._listeners) {\n            listener.callback(e);\n        }\n    }\n    dispose() {\n        if (!this._disposed) {\n            this._disposed = true;\n            if (this._listeners.length > 0) {\n                if (Emitter.ENABLE_TRACKING) {\n                    queueMicrotask(() => {\n                        var _a;\n                        // don't check until stack of execution is completed to allow for out-of-order disposals within the same execution block\n                        for (const listener of this._listeners) {\n                            console.warn('dockview: stacktrace', (_a = listener.stacktrace) === null || _a === void 0 ? void 0 : _a.print());\n                        }\n                    });\n                }\n                this._listeners = [];\n            }\n            if (Emitter.ENABLE_TRACKING && this._event) {\n                Emitter.MEMORY_LEAK_WATCHER.delete(this._event);\n            }\n        }\n    }\n}\nEmitter.ENABLE_TRACKING = false;\nEmitter.MEMORY_LEAK_WATCHER = new LeakageMonitor();\nfunction addDisposableListener(element, type, listener, options) {\n    element.addEventListener(type, listener, options);\n    return {\n        dispose: () => {\n            element.removeEventListener(type, listener, options);\n        },\n    };\n}\n/**\n *\n * Event Emitter that fires events from a Microtask callback, only one event will fire per event-loop cycle.\n *\n * It's kind of like using an `asapScheduler` in RxJs with additional logic to only fire once per event-loop cycle.\n * This implementation exists to avoid external dependencies.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/queueMicrotask\n * @see https://rxjs.dev/api/index/const/asapScheduler\n */\nclass AsapEvent {\n    constructor() {\n        this._onFired = new Emitter();\n        this._currentFireCount = 0;\n        this._queued = false;\n        this.onEvent = (e) => {\n            /**\n             * when the event is first subscribed to take note of the current fire count\n             */\n            const fireCountAtTimeOfEventSubscription = this._currentFireCount;\n            return this._onFired.event(() => {\n                /**\n                 * if the current fire count is greater than the fire count at event subscription\n                 * then the event has been fired since we subscribed and it's ok to \"on_next\" the event.\n                 *\n                 * if the count is not greater then what we are recieving is an event from the microtask\n                 * queue that was triggered before we actually subscribed and therfore we should ignore it.\n                 */\n                if (this._currentFireCount > fireCountAtTimeOfEventSubscription) {\n                    e();\n                }\n            });\n        };\n    }\n    fire() {\n        this._currentFireCount++;\n        if (this._queued) {\n            return;\n        }\n        this._queued = true;\n        queueMicrotask(() => {\n            this._queued = false;\n            this._onFired.fire();\n        });\n    }\n    dispose() {\n        this._onFired.dispose();\n    }\n}\n\nvar Disposable;\n(function (Disposable) {\n    Disposable.NONE = {\n        dispose: () => {\n            // noop\n        },\n    };\n    function from(func) {\n        return {\n            dispose: () => {\n                func();\n            },\n        };\n    }\n    Disposable.from = from;\n})(Disposable || (Disposable = {}));\nclass CompositeDisposable {\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    constructor(...args) {\n        this._isDisposed = false;\n        this._disposables = new Set(args);\n    }\n    addDisposables(...args) {\n        args.forEach((arg) => this._disposables.add(arg));\n    }\n    removeDisposable(disposable) {\n        this._disposables.delete(disposable);\n    }\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        this._disposables.forEach((arg) => arg.dispose());\n        this._disposables.clear();\n    }\n}\nclass MutableDisposable {\n    constructor() {\n        this._disposable = Disposable.NONE;\n    }\n    set value(disposable) {\n        if (this._disposable) {\n            this._disposable.dispose();\n        }\n        this._disposable = disposable;\n    }\n    dispose() {\n        if (this._disposable) {\n            this._disposable.dispose();\n            this._disposable = Disposable.NONE;\n        }\n    }\n}\n\nclass OverflowObserver extends CompositeDisposable {\n    constructor(el) {\n        super();\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._value = null;\n        this.addDisposables(this._onDidChange, watchElementResize(el, (entry) => {\n            const hasScrollX = entry.target.scrollWidth > entry.target.clientWidth;\n            const hasScrollY = entry.target.scrollHeight > entry.target.clientHeight;\n            this._value = { hasScrollX, hasScrollY };\n            this._onDidChange.fire(this._value);\n        }));\n    }\n}\nfunction watchElementResize(element, cb) {\n    const observer = new ResizeObserver((entires) => {\n        /**\n         * Fast browser window resize produces Error: ResizeObserver loop limit exceeded.\n         * The error isn't visible in browser console, doesn't affect functionality, but degrades performance.\n         * See https://stackoverflow.com/questions/49384120/resizeobserver-loop-limit-exceeded/58701523#58701523\n         */\n        requestAnimationFrame(() => {\n            const firstEntry = entires[0];\n            cb(firstEntry);\n        });\n    });\n    observer.observe(element);\n    return {\n        dispose: () => {\n            observer.unobserve(element);\n            observer.disconnect();\n        },\n    };\n}\nconst removeClasses = (element, ...classes) => {\n    for (const classname of classes) {\n        if (element.classList.contains(classname)) {\n            element.classList.remove(classname);\n        }\n    }\n};\nconst addClasses = (element, ...classes) => {\n    for (const classname of classes) {\n        if (!element.classList.contains(classname)) {\n            element.classList.add(classname);\n        }\n    }\n};\nconst toggleClass = (element, className, isToggled) => {\n    const hasClass = element.classList.contains(className);\n    if (isToggled && !hasClass) {\n        element.classList.add(className);\n    }\n    if (!isToggled && hasClass) {\n        element.classList.remove(className);\n    }\n};\nfunction isAncestor(testChild, testAncestor) {\n    while (testChild) {\n        if (testChild === testAncestor) {\n            return true;\n        }\n        testChild = testChild.parentNode;\n    }\n    return false;\n}\nfunction trackFocus(element) {\n    return new FocusTracker(element);\n}\n/**\n * Track focus on an element. Ensure tabIndex is set when an HTMLElement is not focusable by default\n */\nclass FocusTracker extends CompositeDisposable {\n    constructor(element) {\n        super();\n        this._onDidFocus = new Emitter();\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = new Emitter();\n        this.onDidBlur = this._onDidBlur.event;\n        this.addDisposables(this._onDidFocus, this._onDidBlur);\n        let hasFocus = isAncestor(document.activeElement, element);\n        let loosingFocus = false;\n        const onFocus = () => {\n            loosingFocus = false;\n            if (!hasFocus) {\n                hasFocus = true;\n                this._onDidFocus.fire();\n            }\n        };\n        const onBlur = () => {\n            if (hasFocus) {\n                loosingFocus = true;\n                window.setTimeout(() => {\n                    if (loosingFocus) {\n                        loosingFocus = false;\n                        hasFocus = false;\n                        this._onDidBlur.fire();\n                    }\n                }, 0);\n            }\n        };\n        this._refreshStateHandler = () => {\n            const currentNodeHasFocus = isAncestor(document.activeElement, element);\n            if (currentNodeHasFocus !== hasFocus) {\n                if (hasFocus) {\n                    onBlur();\n                }\n                else {\n                    onFocus();\n                }\n            }\n        };\n        this.addDisposables(addDisposableListener(element, 'focus', onFocus, true));\n        this.addDisposables(addDisposableListener(element, 'blur', onBlur, true));\n    }\n    refreshState() {\n        this._refreshStateHandler();\n    }\n}\n// quasi: apparently, but not really; seemingly\nconst QUASI_PREVENT_DEFAULT_KEY = 'dv-quasiPreventDefault';\n// mark an event directly for other listeners to check\nfunction quasiPreventDefault(event) {\n    event[QUASI_PREVENT_DEFAULT_KEY] = true;\n}\n// check if this event has been marked\nfunction quasiDefaultPrevented(event) {\n    return event[QUASI_PREVENT_DEFAULT_KEY];\n}\nfunction addStyles(document, styleSheetList) {\n    const styleSheets = Array.from(styleSheetList);\n    for (const styleSheet of styleSheets) {\n        if (styleSheet.href) {\n            const link = document.createElement('link');\n            link.href = styleSheet.href;\n            link.type = styleSheet.type;\n            link.rel = 'stylesheet';\n            document.head.appendChild(link);\n        }\n        let cssTexts = [];\n        try {\n            if (styleSheet.cssRules) {\n                cssTexts = Array.from(styleSheet.cssRules).map((rule) => rule.cssText);\n            }\n        }\n        catch (err) {\n            // security errors (lack of permissions), ignore\n        }\n        for (const rule of cssTexts) {\n            const style = document.createElement('style');\n            style.appendChild(document.createTextNode(rule));\n            document.head.appendChild(style);\n        }\n    }\n}\nfunction getDomNodePagePosition(domNode) {\n    const { left, top, width, height } = domNode.getBoundingClientRect();\n    return {\n        left: left + window.scrollX,\n        top: top + window.scrollY,\n        width: width,\n        height: height,\n    };\n}\n/**\n * Check whether an element is in the DOM (including the Shadow DOM)\n * @see https://terodox.tech/how-to-tell-if-an-element-is-in-the-dom-including-the-shadow-dom/\n */\nfunction isInDocument(element) {\n    let currentElement = element;\n    while (currentElement === null || currentElement === void 0 ? void 0 : currentElement.parentNode) {\n        if (currentElement.parentNode === document) {\n            return true;\n        }\n        else if (currentElement.parentNode instanceof DocumentFragment) {\n            // handle shadow DOMs\n            currentElement = currentElement.parentNode.host;\n        }\n        else {\n            currentElement = currentElement.parentNode;\n        }\n    }\n    return false;\n}\nfunction addTestId(element, id) {\n    element.setAttribute('data-testid', id);\n}\n/**\n * Should be more efficient than element.querySelectorAll(\"*\") since there\n * is no need to store every element in-memory using this approach\n */\nfunction allTagsNamesInclusiveOfShadowDoms(tagNames) {\n    const iframes = [];\n    function findIframesInNode(node) {\n        if (node.nodeType === Node.ELEMENT_NODE) {\n            if (tagNames.includes(node.tagName)) {\n                iframes.push(node);\n            }\n            if (node.shadowRoot) {\n                findIframesInNode(node.shadowRoot);\n            }\n            for (const child of node.children) {\n                findIframesInNode(child);\n            }\n        }\n    }\n    findIframesInNode(document.documentElement);\n    return iframes;\n}\nfunction disableIframePointEvents(rootNode = document) {\n    const iframes = allTagsNamesInclusiveOfShadowDoms(['IFRAME', 'WEBVIEW']);\n    const original = new WeakMap(); // don't hold onto HTMLElement references longer than required\n    for (const iframe of iframes) {\n        original.set(iframe, iframe.style.pointerEvents);\n        iframe.style.pointerEvents = 'none';\n    }\n    return {\n        release: () => {\n            var _a;\n            for (const iframe of iframes) {\n                iframe.style.pointerEvents = (_a = original.get(iframe)) !== null && _a !== void 0 ? _a : 'auto';\n            }\n            iframes.splice(0, iframes.length); // don't hold onto HTMLElement references longer than required\n        },\n    };\n}\nfunction getDockviewTheme(element) {\n    function toClassList(element) {\n        const list = [];\n        for (let i = 0; i < element.classList.length; i++) {\n            list.push(element.classList.item(i));\n        }\n        return list;\n    }\n    let theme = undefined;\n    let parent = element;\n    while (parent !== null) {\n        theme = toClassList(parent).find((cls) => cls.startsWith('dockview-theme-'));\n        if (typeof theme === 'string') {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return theme;\n}\nclass Classnames {\n    constructor(element) {\n        this.element = element;\n        this._classNames = [];\n    }\n    setClassNames(classNames) {\n        for (const className of this._classNames) {\n            toggleClass(this.element, className, false);\n        }\n        this._classNames = classNames\n            .split(' ')\n            .filter((v) => v.trim().length > 0);\n        for (const className of this._classNames) {\n            toggleClass(this.element, className, true);\n        }\n    }\n}\nconst DEBOUCE_DELAY = 100;\nfunction isChildEntirelyVisibleWithinParent(child, parent) {\n    const childPosition = getDomNodePagePosition(child);\n    const parentPosition = getDomNodePagePosition(parent);\n    // Check horizontal visibility\n    if (childPosition.left < parentPosition.left) {\n        return false;\n    }\n    if (childPosition.left + childPosition.width >\n        parentPosition.left + parentPosition.width) {\n        return false;\n    }\n    // Check vertical visibility\n    if (childPosition.top < parentPosition.top) {\n        return false;\n    }\n    if (childPosition.top + childPosition.height >\n        parentPosition.top + parentPosition.height) {\n        return false;\n    }\n    return true;\n}\nfunction onDidWindowMoveEnd(window) {\n    const emitter = new Emitter();\n    let previousScreenX = window.screenX;\n    let previousScreenY = window.screenY;\n    let timeout;\n    const checkMovement = () => {\n        if (window.closed) {\n            return;\n        }\n        const currentScreenX = window.screenX;\n        const currentScreenY = window.screenY;\n        if (currentScreenX !== previousScreenX ||\n            currentScreenY !== previousScreenY) {\n            clearTimeout(timeout);\n            timeout = setTimeout(() => {\n                emitter.fire();\n            }, DEBOUCE_DELAY);\n            previousScreenX = currentScreenX;\n            previousScreenY = currentScreenY;\n        }\n        requestAnimationFrame(checkMovement);\n    };\n    checkMovement();\n    return emitter;\n}\nfunction onDidWindowResizeEnd(element, cb) {\n    let resizeTimeout;\n    const disposable = new CompositeDisposable(addDisposableListener(element, 'resize', () => {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(() => {\n            cb();\n        }, DEBOUCE_DELAY);\n    }));\n    return disposable;\n}\nfunction shiftAbsoluteElementIntoView(element, root, options = { buffer: 10 }) {\n    const buffer = options.buffer;\n    const rect = element.getBoundingClientRect();\n    const rootRect = root.getBoundingClientRect();\n    let translateX = 0;\n    let translateY = 0;\n    const left = rect.left - rootRect.left;\n    const top = rect.top - rootRect.top;\n    const bottom = rect.bottom - rootRect.bottom;\n    const right = rect.right - rootRect.right;\n    // Check horizontal overflow\n    if (left < buffer) {\n        translateX = buffer - left;\n    }\n    else if (right > buffer) {\n        translateX = -buffer - right;\n    }\n    // Check vertical overflow\n    if (top < buffer) {\n        translateY = buffer - top;\n    }\n    else if (bottom > buffer) {\n        translateY = -bottom - buffer;\n    }\n    // Apply the translation if needed\n    if (translateX !== 0 || translateY !== 0) {\n        element.style.transform = `translate(${translateX}px, ${translateY}px)`;\n    }\n}\nfunction findRelativeZIndexParent(el) {\n    let tmp = el;\n    while (tmp && (tmp.style.zIndex === 'auto' || tmp.style.zIndex === '')) {\n        tmp = tmp.parentElement;\n    }\n    return tmp;\n}\n\nfunction tail(arr) {\n    if (arr.length === 0) {\n        throw new Error('Invalid tail call');\n    }\n    return [arr.slice(0, arr.length - 1), arr[arr.length - 1]];\n}\nfunction sequenceEquals(arr1, arr2) {\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n    for (let i = 0; i < arr1.length; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Pushes an element to the start of the array, if found.\n */\nfunction pushToStart(arr, value) {\n    const index = arr.indexOf(value);\n    if (index > -1) {\n        arr.splice(index, 1);\n        arr.unshift(value);\n    }\n}\n/**\n * Pushes an element to the end of the array, if found.\n */\nfunction pushToEnd(arr, value) {\n    const index = arr.indexOf(value);\n    if (index > -1) {\n        arr.splice(index, 1);\n        arr.push(value);\n    }\n}\nfunction firstIndex(array, fn) {\n    for (let i = 0; i < array.length; i++) {\n        const element = array[i];\n        if (fn(element)) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction remove(array, value) {\n    const index = array.findIndex((t) => t === value);\n    if (index > -1) {\n        array.splice(index, 1);\n        return true;\n    }\n    return false;\n}\n\nconst clamp = (value, min, max) => {\n    if (min > max) {\n        /**\n         * caveat: an error should be thrown here if this was a proper `clamp` function but we need to handle\n         * cases where `min` > `max` and in those cases return `min`.\n         */\n        return min;\n    }\n    return Math.min(max, Math.max(value, min));\n};\nconst sequentialNumberGenerator = () => {\n    let value = 1;\n    return { next: () => (value++).toString() };\n};\nconst range = (from, to) => {\n    const result = [];\n    if (typeof to !== 'number') {\n        to = from;\n        from = 0;\n    }\n    if (from <= to) {\n        for (let i = from; i < to; i++) {\n            result.push(i);\n        }\n    }\n    else {\n        for (let i = from; i > to; i--) {\n            result.push(i);\n        }\n    }\n    return result;\n};\n\nclass ViewItem {\n    set size(size) {\n        this._size = size;\n    }\n    get size() {\n        return this._size;\n    }\n    get cachedVisibleSize() {\n        return this._cachedVisibleSize;\n    }\n    get visible() {\n        return typeof this._cachedVisibleSize === 'undefined';\n    }\n    get minimumSize() {\n        return this.visible ? this.view.minimumSize : 0;\n    }\n    get viewMinimumSize() {\n        return this.view.minimumSize;\n    }\n    get maximumSize() {\n        return this.visible ? this.view.maximumSize : 0;\n    }\n    get viewMaximumSize() {\n        return this.view.maximumSize;\n    }\n    get priority() {\n        return this.view.priority;\n    }\n    get snap() {\n        return !!this.view.snap;\n    }\n    set enabled(enabled) {\n        this.container.style.pointerEvents = enabled ? '' : 'none';\n    }\n    constructor(container, view, size, disposable) {\n        this.container = container;\n        this.view = view;\n        this.disposable = disposable;\n        this._cachedVisibleSize = undefined;\n        if (typeof size === 'number') {\n            this._size = size;\n            this._cachedVisibleSize = undefined;\n            container.classList.add('visible');\n        }\n        else {\n            this._size = 0;\n            this._cachedVisibleSize = size.cachedVisibleSize;\n        }\n    }\n    setVisible(visible, size) {\n        var _a;\n        if (visible === this.visible) {\n            return;\n        }\n        if (visible) {\n            this.size = clamp((_a = this._cachedVisibleSize) !== null && _a !== void 0 ? _a : 0, this.viewMinimumSize, this.viewMaximumSize);\n            this._cachedVisibleSize = undefined;\n        }\n        else {\n            this._cachedVisibleSize =\n                typeof size === 'number' ? size : this.size;\n            this.size = 0;\n        }\n        this.container.classList.toggle('visible', visible);\n        if (this.view.setVisible) {\n            this.view.setVisible(visible);\n        }\n    }\n    dispose() {\n        this.disposable.dispose();\n        return this.view;\n    }\n}\n\n/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/splitview\n *--------------------------------------------------------------------------------------------*/\nvar Orientation;\n(function (Orientation) {\n    Orientation[\"HORIZONTAL\"] = \"HORIZONTAL\";\n    Orientation[\"VERTICAL\"] = \"VERTICAL\";\n})(Orientation || (Orientation = {}));\nvar SashState;\n(function (SashState) {\n    SashState[SashState[\"MAXIMUM\"] = 0] = \"MAXIMUM\";\n    SashState[SashState[\"MINIMUM\"] = 1] = \"MINIMUM\";\n    SashState[SashState[\"DISABLED\"] = 2] = \"DISABLED\";\n    SashState[SashState[\"ENABLED\"] = 3] = \"ENABLED\";\n})(SashState || (SashState = {}));\nvar LayoutPriority;\n(function (LayoutPriority) {\n    LayoutPriority[\"Low\"] = \"low\";\n    LayoutPriority[\"High\"] = \"high\";\n    LayoutPriority[\"Normal\"] = \"normal\";\n})(LayoutPriority || (LayoutPriority = {}));\nvar Sizing;\n(function (Sizing) {\n    Sizing.Distribute = { type: 'distribute' };\n    function Split(index) {\n        return { type: 'split', index };\n    }\n    Sizing.Split = Split;\n    function Invisible(cachedVisibleSize) {\n        return { type: 'invisible', cachedVisibleSize };\n    }\n    Sizing.Invisible = Invisible;\n})(Sizing || (Sizing = {}));\nclass Splitview {\n    get contentSize() {\n        return this._contentSize;\n    }\n    get size() {\n        return this._size;\n    }\n    set size(value) {\n        this._size = value;\n    }\n    get orthogonalSize() {\n        return this._orthogonalSize;\n    }\n    set orthogonalSize(value) {\n        this._orthogonalSize = value;\n    }\n    get length() {\n        return this.viewItems.length;\n    }\n    get proportions() {\n        return this._proportions ? [...this._proportions] : undefined;\n    }\n    get orientation() {\n        return this._orientation;\n    }\n    set orientation(value) {\n        this._orientation = value;\n        const tmp = this.size;\n        this.size = this.orthogonalSize;\n        this.orthogonalSize = tmp;\n        removeClasses(this.element, 'dv-horizontal', 'dv-vertical');\n        this.element.classList.add(this.orientation == Orientation.HORIZONTAL\n            ? 'dv-horizontal'\n            : 'dv-vertical');\n    }\n    get minimumSize() {\n        return this.viewItems.reduce((r, item) => r + item.minimumSize, 0);\n    }\n    get maximumSize() {\n        return this.length === 0\n            ? Number.POSITIVE_INFINITY\n            : this.viewItems.reduce((r, item) => r + item.maximumSize, 0);\n    }\n    get startSnappingEnabled() {\n        return this._startSnappingEnabled;\n    }\n    set startSnappingEnabled(startSnappingEnabled) {\n        if (this._startSnappingEnabled === startSnappingEnabled) {\n            return;\n        }\n        this._startSnappingEnabled = startSnappingEnabled;\n        this.updateSashEnablement();\n    }\n    get endSnappingEnabled() {\n        return this._endSnappingEnabled;\n    }\n    set endSnappingEnabled(endSnappingEnabled) {\n        if (this._endSnappingEnabled === endSnappingEnabled) {\n            return;\n        }\n        this._endSnappingEnabled = endSnappingEnabled;\n        this.updateSashEnablement();\n    }\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        this._disabled = value;\n        toggleClass(this.element, 'dv-splitview-disabled', value);\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(value) {\n        this._margin = value;\n        toggleClass(this.element, 'dv-splitview-has-margin', value !== 0);\n    }\n    constructor(container, options) {\n        var _a, _b;\n        this.container = container;\n        this.viewItems = [];\n        this.sashes = [];\n        this._size = 0;\n        this._orthogonalSize = 0;\n        this._contentSize = 0;\n        this._proportions = undefined;\n        this._startSnappingEnabled = true;\n        this._endSnappingEnabled = true;\n        this._disabled = false;\n        this._margin = 0;\n        this._onDidSashEnd = new Emitter();\n        this.onDidSashEnd = this._onDidSashEnd.event;\n        this._onDidAddView = new Emitter();\n        this.onDidAddView = this._onDidAddView.event;\n        this._onDidRemoveView = new Emitter();\n        this.onDidRemoveView = this._onDidRemoveView.event;\n        this.resize = (index, delta, sizes = this.viewItems.map((x) => x.size), lowPriorityIndexes, highPriorityIndexes, overloadMinDelta = Number.NEGATIVE_INFINITY, overloadMaxDelta = Number.POSITIVE_INFINITY, snapBefore, snapAfter) => {\n            if (index < 0 || index > this.viewItems.length) {\n                return 0;\n            }\n            const upIndexes = range(index, -1);\n            const downIndexes = range(index + 1, this.viewItems.length);\n            //\n            if (highPriorityIndexes) {\n                for (const i of highPriorityIndexes) {\n                    pushToStart(upIndexes, i);\n                    pushToStart(downIndexes, i);\n                }\n            }\n            if (lowPriorityIndexes) {\n                for (const i of lowPriorityIndexes) {\n                    pushToEnd(upIndexes, i);\n                    pushToEnd(downIndexes, i);\n                }\n            }\n            //\n            const upItems = upIndexes.map((i) => this.viewItems[i]);\n            const upSizes = upIndexes.map((i) => sizes[i]);\n            //\n            const downItems = downIndexes.map((i) => this.viewItems[i]);\n            const downSizes = downIndexes.map((i) => sizes[i]);\n            //\n            const minDeltaUp = upIndexes.reduce((_, i) => _ + this.viewItems[i].minimumSize - sizes[i], 0);\n            const maxDeltaUp = upIndexes.reduce((_, i) => _ + this.viewItems[i].maximumSize - sizes[i], 0);\n            //\n            const maxDeltaDown = downIndexes.length === 0\n                ? Number.POSITIVE_INFINITY\n                : downIndexes.reduce((_, i) => _ + sizes[i] - this.viewItems[i].minimumSize, 0);\n            const minDeltaDown = downIndexes.length === 0\n                ? Number.NEGATIVE_INFINITY\n                : downIndexes.reduce((_, i) => _ + sizes[i] - this.viewItems[i].maximumSize, 0);\n            //\n            const minDelta = Math.max(minDeltaUp, minDeltaDown);\n            const maxDelta = Math.min(maxDeltaDown, maxDeltaUp);\n            //\n            let snapped = false;\n            if (snapBefore) {\n                const snapView = this.viewItems[snapBefore.index];\n                const visible = delta >= snapBefore.limitDelta;\n                snapped = visible !== snapView.visible;\n                snapView.setVisible(visible, snapBefore.size);\n            }\n            if (!snapped && snapAfter) {\n                const snapView = this.viewItems[snapAfter.index];\n                const visible = delta < snapAfter.limitDelta;\n                snapped = visible !== snapView.visible;\n                snapView.setVisible(visible, snapAfter.size);\n            }\n            if (snapped) {\n                return this.resize(index, delta, sizes, lowPriorityIndexes, highPriorityIndexes, overloadMinDelta, overloadMaxDelta);\n            }\n            //\n            const tentativeDelta = clamp(delta, minDelta, maxDelta);\n            let actualDelta = 0;\n            //\n            let deltaUp = tentativeDelta;\n            for (let i = 0; i < upItems.length; i++) {\n                const item = upItems[i];\n                const size = clamp(upSizes[i] + deltaUp, item.minimumSize, item.maximumSize);\n                const viewDelta = size - upSizes[i];\n                actualDelta += viewDelta;\n                deltaUp -= viewDelta;\n                item.size = size;\n            }\n            //\n            let deltaDown = actualDelta;\n            for (let i = 0; i < downItems.length; i++) {\n                const item = downItems[i];\n                const size = clamp(downSizes[i] - deltaDown, item.minimumSize, item.maximumSize);\n                const viewDelta = size - downSizes[i];\n                deltaDown += viewDelta;\n                item.size = size;\n            }\n            //\n            return delta;\n        };\n        this._orientation = (_a = options.orientation) !== null && _a !== void 0 ? _a : Orientation.VERTICAL;\n        this.element = this.createContainer();\n        this.margin = (_b = options.margin) !== null && _b !== void 0 ? _b : 0;\n        this.proportionalLayout =\n            options.proportionalLayout === undefined\n                ? true\n                : !!options.proportionalLayout;\n        this.viewContainer = this.createViewContainer();\n        this.sashContainer = this.createSashContainer();\n        this.element.appendChild(this.sashContainer);\n        this.element.appendChild(this.viewContainer);\n        this.container.appendChild(this.element);\n        this.style(options.styles);\n        // We have an existing set of view, add them now\n        if (options.descriptor) {\n            this._size = options.descriptor.size;\n            options.descriptor.views.forEach((viewDescriptor, index) => {\n                const sizing = viewDescriptor.visible === undefined ||\n                    viewDescriptor.visible\n                    ? viewDescriptor.size\n                    : {\n                        type: 'invisible',\n                        cachedVisibleSize: viewDescriptor.size,\n                    };\n                const view = viewDescriptor.view;\n                this.addView(view, sizing, index, true\n                // true skip layout\n                );\n            });\n            // Initialize content size and proportions for first layout\n            this._contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n            this.saveProportions();\n        }\n    }\n    style(styles) {\n        if ((styles === null || styles === void 0 ? void 0 : styles.separatorBorder) === 'transparent') {\n            removeClasses(this.element, 'dv-separator-border');\n            this.element.style.removeProperty('--dv-separator-border');\n        }\n        else {\n            addClasses(this.element, 'dv-separator-border');\n            if (styles === null || styles === void 0 ? void 0 : styles.separatorBorder) {\n                this.element.style.setProperty('--dv-separator-border', styles.separatorBorder);\n            }\n        }\n    }\n    isViewVisible(index) {\n        if (index < 0 || index >= this.viewItems.length) {\n            throw new Error('Index out of bounds');\n        }\n        const viewItem = this.viewItems[index];\n        return viewItem.visible;\n    }\n    setViewVisible(index, visible) {\n        if (index < 0 || index >= this.viewItems.length) {\n            throw new Error('Index out of bounds');\n        }\n        const viewItem = this.viewItems[index];\n        viewItem.setVisible(visible, viewItem.size);\n        this.distributeEmptySpace(index);\n        this.layoutViews();\n        this.saveProportions();\n    }\n    getViewSize(index) {\n        if (index < 0 || index >= this.viewItems.length) {\n            return -1;\n        }\n        return this.viewItems[index].size;\n    }\n    resizeView(index, size) {\n        if (index < 0 || index >= this.viewItems.length) {\n            return;\n        }\n        const indexes = range(this.viewItems.length).filter((i) => i !== index);\n        const lowPriorityIndexes = [\n            ...indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low),\n            index,\n        ];\n        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);\n        const item = this.viewItems[index];\n        size = Math.round(size);\n        size = clamp(size, item.minimumSize, Math.min(item.maximumSize, this._size));\n        item.size = size;\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\n    }\n    getViews() {\n        return this.viewItems.map((x) => x.view);\n    }\n    onDidChange(item, size) {\n        const index = this.viewItems.indexOf(item);\n        if (index < 0 || index >= this.viewItems.length) {\n            return;\n        }\n        size = typeof size === 'number' ? size : item.size;\n        size = clamp(size, item.minimumSize, item.maximumSize);\n        item.size = size;\n        const indexes = range(this.viewItems.length).filter((i) => i !== index);\n        const lowPriorityIndexes = [\n            ...indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low),\n            index,\n        ];\n        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);\n        /**\n         * add this view we are changing to the low-index list since we have determined the size\n         * here and don't want it changed\n         */\n        this.relayout([...lowPriorityIndexes, index], highPriorityIndexes);\n    }\n    addView(view, size = { type: 'distribute' }, index = this.viewItems.length, skipLayout) {\n        const container = document.createElement('div');\n        container.className = 'dv-view';\n        container.appendChild(view.element);\n        let viewSize;\n        if (typeof size === 'number') {\n            viewSize = size;\n        }\n        else if (size.type === 'split') {\n            viewSize = this.getViewSize(size.index) / 2;\n        }\n        else if (size.type === 'invisible') {\n            viewSize = { cachedVisibleSize: size.cachedVisibleSize };\n        }\n        else {\n            viewSize = view.minimumSize;\n        }\n        const disposable = view.onDidChange((newSize) => this.onDidChange(viewItem, newSize.size));\n        const viewItem = new ViewItem(container, view, viewSize, {\n            dispose: () => {\n                disposable.dispose();\n                this.viewContainer.removeChild(container);\n            },\n        });\n        if (index === this.viewItems.length) {\n            this.viewContainer.appendChild(container);\n        }\n        else {\n            this.viewContainer.insertBefore(container, this.viewContainer.children.item(index));\n        }\n        this.viewItems.splice(index, 0, viewItem);\n        if (this.viewItems.length > 1) {\n            //add sash\n            const sash = document.createElement('div');\n            sash.className = 'dv-sash';\n            const onPointerStart = (event) => {\n                for (const item of this.viewItems) {\n                    item.enabled = false;\n                }\n                const iframes = disableIframePointEvents();\n                const start = this._orientation === Orientation.HORIZONTAL\n                    ? event.clientX\n                    : event.clientY;\n                const sashIndex = firstIndex(this.sashes, (s) => s.container === sash);\n                //\n                const sizes = this.viewItems.map((x) => x.size);\n                //\n                let snapBefore;\n                let snapAfter;\n                const upIndexes = range(sashIndex, -1);\n                const downIndexes = range(sashIndex + 1, this.viewItems.length);\n                const minDeltaUp = upIndexes.reduce((r, i) => r + (this.viewItems[i].minimumSize - sizes[i]), 0);\n                const maxDeltaUp = upIndexes.reduce((r, i) => r + (this.viewItems[i].viewMaximumSize - sizes[i]), 0);\n                const maxDeltaDown = downIndexes.length === 0\n                    ? Number.POSITIVE_INFINITY\n                    : downIndexes.reduce((r, i) => r +\n                        (sizes[i] - this.viewItems[i].minimumSize), 0);\n                const minDeltaDown = downIndexes.length === 0\n                    ? Number.NEGATIVE_INFINITY\n                    : downIndexes.reduce((r, i) => r +\n                        (sizes[i] -\n                            this.viewItems[i].viewMaximumSize), 0);\n                const minDelta = Math.max(minDeltaUp, minDeltaDown);\n                const maxDelta = Math.min(maxDeltaDown, maxDeltaUp);\n                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\n                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);\n                if (typeof snapBeforeIndex === 'number') {\n                    const snappedViewItem = this.viewItems[snapBeforeIndex];\n                    const halfSize = Math.floor(snappedViewItem.viewMinimumSize / 2);\n                    snapBefore = {\n                        index: snapBeforeIndex,\n                        limitDelta: snappedViewItem.visible\n                            ? minDelta - halfSize\n                            : minDelta + halfSize,\n                        size: snappedViewItem.size,\n                    };\n                }\n                if (typeof snapAfterIndex === 'number') {\n                    const snappedViewItem = this.viewItems[snapAfterIndex];\n                    const halfSize = Math.floor(snappedViewItem.viewMinimumSize / 2);\n                    snapAfter = {\n                        index: snapAfterIndex,\n                        limitDelta: snappedViewItem.visible\n                            ? maxDelta + halfSize\n                            : maxDelta - halfSize,\n                        size: snappedViewItem.size,\n                    };\n                }\n                const onPointerMove = (event) => {\n                    const current = this._orientation === Orientation.HORIZONTAL\n                        ? event.clientX\n                        : event.clientY;\n                    const delta = current - start;\n                    this.resize(sashIndex, delta, sizes, undefined, undefined, minDelta, maxDelta, snapBefore, snapAfter);\n                    this.distributeEmptySpace();\n                    this.layoutViews();\n                };\n                const end = () => {\n                    for (const item of this.viewItems) {\n                        item.enabled = true;\n                    }\n                    iframes.release();\n                    this.saveProportions();\n                    document.removeEventListener('pointermove', onPointerMove);\n                    document.removeEventListener('pointerup', end);\n                    document.removeEventListener('pointercancel', end);\n                    document.removeEventListener('contextmenu', end);\n                    this._onDidSashEnd.fire(undefined);\n                };\n                document.addEventListener('pointermove', onPointerMove);\n                document.addEventListener('pointerup', end);\n                document.addEventListener('pointercancel', end);\n                document.addEventListener('contextmenu', end);\n            };\n            sash.addEventListener('pointerdown', onPointerStart);\n            const sashItem = {\n                container: sash,\n                disposable: () => {\n                    sash.removeEventListener('pointerdown', onPointerStart);\n                    this.sashContainer.removeChild(sash);\n                },\n            };\n            this.sashContainer.appendChild(sash);\n            this.sashes.push(sashItem);\n        }\n        if (!skipLayout) {\n            this.relayout([index]);\n        }\n        if (!skipLayout &&\n            typeof size !== 'number' &&\n            size.type === 'distribute') {\n            this.distributeViewSizes();\n        }\n        this._onDidAddView.fire(view);\n    }\n    distributeViewSizes() {\n        const flexibleViewItems = [];\n        let flexibleSize = 0;\n        for (const item of this.viewItems) {\n            if (item.maximumSize - item.minimumSize > 0) {\n                flexibleViewItems.push(item);\n                flexibleSize += item.size;\n            }\n        }\n        const size = Math.floor(flexibleSize / flexibleViewItems.length);\n        for (const item of flexibleViewItems) {\n            item.size = clamp(size, item.minimumSize, item.maximumSize);\n        }\n        const indexes = range(this.viewItems.length);\n        const lowPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low);\n        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\n    }\n    removeView(index, sizing, skipLayout = false) {\n        // Remove view\n        const viewItem = this.viewItems.splice(index, 1)[0];\n        viewItem.dispose();\n        // Remove sash\n        if (this.viewItems.length >= 1) {\n            const sashIndex = Math.max(index - 1, 0);\n            const sashItem = this.sashes.splice(sashIndex, 1)[0];\n            sashItem.disposable();\n        }\n        if (!skipLayout) {\n            this.relayout();\n        }\n        if (sizing && sizing.type === 'distribute') {\n            this.distributeViewSizes();\n        }\n        this._onDidRemoveView.fire(viewItem.view);\n        return viewItem.view;\n    }\n    getViewCachedVisibleSize(index) {\n        if (index < 0 || index >= this.viewItems.length) {\n            throw new Error('Index out of bounds');\n        }\n        const viewItem = this.viewItems[index];\n        return viewItem.cachedVisibleSize;\n    }\n    moveView(from, to) {\n        const cachedVisibleSize = this.getViewCachedVisibleSize(from);\n        const sizing = typeof cachedVisibleSize === 'undefined'\n            ? this.getViewSize(from)\n            : Sizing.Invisible(cachedVisibleSize);\n        const view = this.removeView(from, undefined, true);\n        this.addView(view, sizing, to);\n    }\n    layout(size, orthogonalSize) {\n        const previousSize = Math.max(this.size, this._contentSize);\n        this.size = size;\n        this.orthogonalSize = orthogonalSize;\n        if (!this.proportions) {\n            const indexes = range(this.viewItems.length);\n            const lowPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low);\n            const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);\n            this.resize(this.viewItems.length - 1, size - previousSize, undefined, lowPriorityIndexes, highPriorityIndexes);\n        }\n        else {\n            let total = 0;\n            for (let i = 0; i < this.viewItems.length; i++) {\n                const item = this.viewItems[i];\n                const proportion = this.proportions[i];\n                if (typeof proportion === 'number') {\n                    total += proportion;\n                }\n                else {\n                    size -= item.size;\n                }\n            }\n            for (let i = 0; i < this.viewItems.length; i++) {\n                const item = this.viewItems[i];\n                const proportion = this.proportions[i];\n                if (typeof proportion === 'number' && total > 0) {\n                    item.size = clamp(Math.round((proportion * size) / total), item.minimumSize, item.maximumSize);\n                }\n            }\n        }\n        this.distributeEmptySpace();\n        this.layoutViews();\n    }\n    relayout(lowPriorityIndexes, highPriorityIndexes) {\n        const contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        this.resize(this.viewItems.length - 1, this._size - contentSize, undefined, lowPriorityIndexes, highPriorityIndexes);\n        this.distributeEmptySpace();\n        this.layoutViews();\n        this.saveProportions();\n    }\n    distributeEmptySpace(lowPriorityIndex) {\n        const contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        let emptyDelta = this.size - contentSize;\n        const indexes = range(this.viewItems.length - 1, -1);\n        const lowPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low);\n        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);\n        for (const index of highPriorityIndexes) {\n            pushToStart(indexes, index);\n        }\n        for (const index of lowPriorityIndexes) {\n            pushToEnd(indexes, index);\n        }\n        if (typeof lowPriorityIndex === 'number') {\n            pushToEnd(indexes, lowPriorityIndex);\n        }\n        for (let i = 0; emptyDelta !== 0 && i < indexes.length; i++) {\n            const item = this.viewItems[indexes[i]];\n            const size = clamp(item.size + emptyDelta, item.minimumSize, item.maximumSize);\n            const viewDelta = size - item.size;\n            emptyDelta -= viewDelta;\n            item.size = size;\n        }\n    }\n    saveProportions() {\n        if (this.proportionalLayout && this._contentSize > 0) {\n            this._proportions = this.viewItems.map((i) => i.visible ? i.size / this._contentSize : undefined);\n        }\n    }\n    /**\n     * Margin explain:\n     *\n     * For `n` views in a splitview there will be `n-1` margins `m`.\n     *\n     * To fit the margins each view must reduce in size by `(m * (n - 1)) / n`.\n     *\n     * For each view `i` the offet must be adjusted by `m * i/(n - 1)`.\n     */\n    layoutViews() {\n        this._contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        this.updateSashEnablement();\n        if (this.viewItems.length === 0) {\n            return;\n        }\n        const visibleViewItems = this.viewItems.filter((i) => i.visible);\n        const sashCount = Math.max(0, visibleViewItems.length - 1);\n        const marginReducedSize = (this.margin * sashCount) / Math.max(1, visibleViewItems.length);\n        let totalLeftOffset = 0;\n        const viewLeftOffsets = [];\n        const sashWidth = 4; // hardcoded in css\n        const runningVisiblePanelCount = this.viewItems.reduce((arr, viewItem, i) => {\n            const flag = viewItem.visible ? 1 : 0;\n            if (i === 0) {\n                arr.push(flag);\n            }\n            else {\n                arr.push(arr[i - 1] + flag);\n            }\n            return arr;\n        }, []);\n        // calculate both view and cash positions\n        this.viewItems.forEach((view, i) => {\n            totalLeftOffset += this.viewItems[i].size;\n            viewLeftOffsets.push(totalLeftOffset);\n            const size = view.visible ? view.size - marginReducedSize : 0;\n            const visiblePanelsBeforeThisView = Math.max(0, runningVisiblePanelCount[i] - 1);\n            const offset = i === 0 || visiblePanelsBeforeThisView === 0\n                ? 0\n                : viewLeftOffsets[i - 1] +\n                    (visiblePanelsBeforeThisView / sashCount) *\n                        marginReducedSize;\n            if (i < this.viewItems.length - 1) {\n                // calculate sash position\n                const newSize = view.visible\n                    ? offset + size - sashWidth / 2 + this.margin / 2\n                    : offset;\n                if (this._orientation === Orientation.HORIZONTAL) {\n                    this.sashes[i].container.style.left = `${newSize}px`;\n                    this.sashes[i].container.style.top = `0px`;\n                }\n                if (this._orientation === Orientation.VERTICAL) {\n                    this.sashes[i].container.style.left = `0px`;\n                    this.sashes[i].container.style.top = `${newSize}px`;\n                }\n            }\n            // calculate view position\n            if (this._orientation === Orientation.HORIZONTAL) {\n                view.container.style.width = `${size}px`;\n                view.container.style.left = `${offset}px`;\n                view.container.style.top = '';\n                view.container.style.height = '';\n            }\n            if (this._orientation === Orientation.VERTICAL) {\n                view.container.style.height = `${size}px`;\n                view.container.style.top = `${offset}px`;\n                view.container.style.width = '';\n                view.container.style.left = '';\n            }\n            view.view.layout(view.size - marginReducedSize, this._orthogonalSize);\n        });\n    }\n    findFirstSnapIndex(indexes) {\n        // visible views first\n        for (const index of indexes) {\n            const viewItem = this.viewItems[index];\n            if (!viewItem.visible) {\n                continue;\n            }\n            if (viewItem.snap) {\n                return index;\n            }\n        }\n        // then, hidden views\n        for (const index of indexes) {\n            const viewItem = this.viewItems[index];\n            if (viewItem.visible &&\n                viewItem.maximumSize - viewItem.minimumSize > 0) {\n                return undefined;\n            }\n            if (!viewItem.visible && viewItem.snap) {\n                return index;\n            }\n        }\n        return undefined;\n    }\n    updateSashEnablement() {\n        let previous = false;\n        const collapsesDown = this.viewItems.map((i) => (previous = i.size - i.minimumSize > 0 || previous));\n        previous = false;\n        const expandsDown = this.viewItems.map((i) => (previous = i.maximumSize - i.size > 0 || previous));\n        const reverseViews = [...this.viewItems].reverse();\n        previous = false;\n        const collapsesUp = reverseViews\n            .map((i) => (previous = i.size - i.minimumSize > 0 || previous))\n            .reverse();\n        previous = false;\n        const expandsUp = reverseViews\n            .map((i) => (previous = i.maximumSize - i.size > 0 || previous))\n            .reverse();\n        let position = 0;\n        for (let index = 0; index < this.sashes.length; index++) {\n            const sash = this.sashes[index];\n            const viewItem = this.viewItems[index];\n            position += viewItem.size;\n            const min = !(collapsesDown[index] && expandsUp[index + 1]);\n            const max = !(expandsDown[index] && collapsesUp[index + 1]);\n            if (min && max) {\n                const upIndexes = range(index, -1);\n                const downIndexes = range(index + 1, this.viewItems.length);\n                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\n                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);\n                const snappedBefore = typeof snapBeforeIndex === 'number' &&\n                    !this.viewItems[snapBeforeIndex].visible;\n                const snappedAfter = typeof snapAfterIndex === 'number' &&\n                    !this.viewItems[snapAfterIndex].visible;\n                if (snappedBefore &&\n                    collapsesUp[index] &&\n                    (position > 0 || this.startSnappingEnabled)) {\n                    this.updateSash(sash, SashState.MINIMUM);\n                }\n                else if (snappedAfter &&\n                    collapsesDown[index] &&\n                    (position < this._contentSize || this.endSnappingEnabled)) {\n                    this.updateSash(sash, SashState.MAXIMUM);\n                }\n                else {\n                    this.updateSash(sash, SashState.DISABLED);\n                }\n            }\n            else if (min && !max) {\n                this.updateSash(sash, SashState.MINIMUM);\n            }\n            else if (!min && max) {\n                this.updateSash(sash, SashState.MAXIMUM);\n            }\n            else {\n                this.updateSash(sash, SashState.ENABLED);\n            }\n        }\n    }\n    updateSash(sash, state) {\n        toggleClass(sash.container, 'dv-disabled', state === SashState.DISABLED);\n        toggleClass(sash.container, 'dv-enabled', state === SashState.ENABLED);\n        toggleClass(sash.container, 'dv-maximum', state === SashState.MAXIMUM);\n        toggleClass(sash.container, 'dv-minimum', state === SashState.MINIMUM);\n    }\n    createViewContainer() {\n        const element = document.createElement('div');\n        element.className = 'dv-view-container';\n        return element;\n    }\n    createSashContainer() {\n        const element = document.createElement('div');\n        element.className = 'dv-sash-container';\n        return element;\n    }\n    createContainer() {\n        const element = document.createElement('div');\n        const orientationClassname = this._orientation === Orientation.HORIZONTAL\n            ? 'dv-horizontal'\n            : 'dv-vertical';\n        element.className = `dv-split-view-container ${orientationClassname}`;\n        return element;\n    }\n    dispose() {\n        this._onDidSashEnd.dispose();\n        this._onDidAddView.dispose();\n        this._onDidRemoveView.dispose();\n        for (let i = 0; i < this.element.children.length; i++) {\n            if (this.element.children.item(i) === this.element) {\n                this.element.removeChild(this.element);\n                break;\n            }\n        }\n        for (const viewItem of this.viewItems) {\n            viewItem.dispose();\n        }\n        this.element.remove();\n    }\n}\n\nconst PROPERTY_KEYS_SPLITVIEW = (() => {\n    /**\n     * by readong the keys from an empty value object TypeScript will error\n     * when we add or remove new properties to `DockviewOptions`\n     */\n    const properties = {\n        orientation: undefined,\n        descriptor: undefined,\n        proportionalLayout: undefined,\n        styles: undefined,\n        margin: undefined,\n        disableAutoResizing: undefined,\n        className: undefined,\n    };\n    return Object.keys(properties);\n})();\n\nclass Paneview extends CompositeDisposable {\n    get onDidAddView() {\n        return this.splitview.onDidAddView;\n    }\n    get onDidRemoveView() {\n        return this.splitview.onDidRemoveView;\n    }\n    get minimumSize() {\n        return this.splitview.minimumSize;\n    }\n    get maximumSize() {\n        return this.splitview.maximumSize;\n    }\n    get orientation() {\n        return this.splitview.orientation;\n    }\n    get size() {\n        return this.splitview.size;\n    }\n    get orthogonalSize() {\n        return this.splitview.orthogonalSize;\n    }\n    constructor(container, options) {\n        var _a;\n        super();\n        this.paneItems = [];\n        this.skipAnimation = false;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._orientation = (_a = options.orientation) !== null && _a !== void 0 ? _a : Orientation.VERTICAL;\n        this.element = document.createElement('div');\n        this.element.className = 'dv-pane-container';\n        container.appendChild(this.element);\n        this.splitview = new Splitview(this.element, {\n            orientation: this._orientation,\n            proportionalLayout: false,\n            descriptor: options.descriptor,\n        });\n        // if we've added views from the descriptor we need to\n        // add the panes to our Pane array and setup animation\n        this.getPanes().forEach((pane) => {\n            const disposable = new CompositeDisposable(pane.onDidChangeExpansionState(() => {\n                this.setupAnimation();\n                this._onDidChange.fire(undefined);\n            }));\n            const paneItem = {\n                pane,\n                disposable: {\n                    dispose: () => {\n                        disposable.dispose();\n                    },\n                },\n            };\n            this.paneItems.push(paneItem);\n            pane.orthogonalSize = this.splitview.orthogonalSize;\n        });\n        this.addDisposables(this._onDidChange, this.splitview.onDidSashEnd(() => {\n            this._onDidChange.fire(undefined);\n        }), this.splitview.onDidAddView(() => {\n            this._onDidChange.fire();\n        }), this.splitview.onDidRemoveView(() => {\n            this._onDidChange.fire();\n        }));\n    }\n    setViewVisible(index, visible) {\n        this.splitview.setViewVisible(index, visible);\n    }\n    addPane(pane, size, index = this.splitview.length, skipLayout = false) {\n        const disposable = pane.onDidChangeExpansionState(() => {\n            this.setupAnimation();\n            this._onDidChange.fire(undefined);\n        });\n        const paneItem = {\n            pane,\n            disposable: {\n                dispose: () => {\n                    disposable.dispose();\n                },\n            },\n        };\n        this.paneItems.splice(index, 0, paneItem);\n        pane.orthogonalSize = this.splitview.orthogonalSize;\n        this.splitview.addView(pane, size, index, skipLayout);\n    }\n    getViewSize(index) {\n        return this.splitview.getViewSize(index);\n    }\n    getPanes() {\n        return this.splitview.getViews();\n    }\n    removePane(index, options = { skipDispose: false }) {\n        const paneItem = this.paneItems.splice(index, 1)[0];\n        this.splitview.removeView(index);\n        if (!options.skipDispose) {\n            paneItem.disposable.dispose();\n            paneItem.pane.dispose();\n        }\n        return paneItem;\n    }\n    moveView(from, to) {\n        if (from === to) {\n            return;\n        }\n        const view = this.removePane(from, { skipDispose: true });\n        this.skipAnimation = true;\n        try {\n            this.addPane(view.pane, view.pane.size, to, false);\n        }\n        finally {\n            this.skipAnimation = false;\n        }\n    }\n    layout(size, orthogonalSize) {\n        this.splitview.layout(size, orthogonalSize);\n    }\n    setupAnimation() {\n        if (this.skipAnimation) {\n            return;\n        }\n        if (this.animationTimer) {\n            clearTimeout(this.animationTimer);\n            this.animationTimer = undefined;\n        }\n        addClasses(this.element, 'dv-animated');\n        this.animationTimer = setTimeout(() => {\n            this.animationTimer = undefined;\n            removeClasses(this.element, 'dv-animated');\n        }, 200);\n    }\n    dispose() {\n        super.dispose();\n        if (this.animationTimer) {\n            clearTimeout(this.animationTimer);\n            this.animationTimer = undefined;\n        }\n        this.paneItems.forEach((paneItem) => {\n            paneItem.disposable.dispose();\n            paneItem.pane.dispose();\n        });\n        this.paneItems = [];\n        this.splitview.dispose();\n        this.element.remove();\n    }\n}\n\n/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid\n *--------------------------------------------------------------------------------------------*/\nclass LeafNode {\n    get minimumWidth() {\n        return this.view.minimumWidth;\n    }\n    get maximumWidth() {\n        return this.view.maximumWidth;\n    }\n    get minimumHeight() {\n        return this.view.minimumHeight;\n    }\n    get maximumHeight() {\n        return this.view.maximumHeight;\n    }\n    get priority() {\n        return this.view.priority;\n    }\n    get snap() {\n        return this.view.snap;\n    }\n    get minimumSize() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumHeight\n            : this.minimumWidth;\n    }\n    get maximumSize() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumHeight\n            : this.maximumWidth;\n    }\n    get minimumOrthogonalSize() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumWidth\n            : this.minimumHeight;\n    }\n    get maximumOrthogonalSize() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumWidth\n            : this.maximumHeight;\n    }\n    get orthogonalSize() {\n        return this._orthogonalSize;\n    }\n    get size() {\n        return this._size;\n    }\n    get element() {\n        return this.view.element;\n    }\n    get width() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.orthogonalSize\n            : this.size;\n    }\n    get height() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.size\n            : this.orthogonalSize;\n    }\n    constructor(view, orientation, orthogonalSize, size = 0) {\n        this.view = view;\n        this.orientation = orientation;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._orthogonalSize = orthogonalSize;\n        this._size = size;\n        this._disposable = this.view.onDidChange((event) => {\n            if (event) {\n                this._onDidChange.fire({\n                    size: this.orientation === Orientation.VERTICAL\n                        ? event.width\n                        : event.height,\n                    orthogonalSize: this.orientation === Orientation.VERTICAL\n                        ? event.height\n                        : event.width,\n                });\n            }\n            else {\n                this._onDidChange.fire({});\n            }\n        });\n    }\n    setVisible(visible) {\n        if (this.view.setVisible) {\n            this.view.setVisible(visible);\n        }\n    }\n    layout(size, orthogonalSize) {\n        this._size = size;\n        this._orthogonalSize = orthogonalSize;\n        this.view.layout(this.width, this.height);\n    }\n    dispose() {\n        this._onDidChange.dispose();\n        this._disposable.dispose();\n    }\n}\n\n/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid\n *--------------------------------------------------------------------------------------------*/\nclass BranchNode extends CompositeDisposable {\n    get width() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.size\n            : this.orthogonalSize;\n    }\n    get height() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.orthogonalSize\n            : this.size;\n    }\n    get minimumSize() {\n        return this.children.length === 0\n            ? 0\n            : Math.max(...this.children.map((c, index) => this.splitview.isViewVisible(index)\n                ? c.minimumOrthogonalSize\n                : 0));\n    }\n    get maximumSize() {\n        return Math.min(...this.children.map((c, index) => this.splitview.isViewVisible(index)\n            ? c.maximumOrthogonalSize\n            : Number.POSITIVE_INFINITY));\n    }\n    get minimumOrthogonalSize() {\n        return this.splitview.minimumSize;\n    }\n    get maximumOrthogonalSize() {\n        return this.splitview.maximumSize;\n    }\n    get orthogonalSize() {\n        return this._orthogonalSize;\n    }\n    get size() {\n        return this._size;\n    }\n    get minimumWidth() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumOrthogonalSize\n            : this.minimumSize;\n    }\n    get minimumHeight() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumSize\n            : this.minimumOrthogonalSize;\n    }\n    get maximumWidth() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumOrthogonalSize\n            : this.maximumSize;\n    }\n    get maximumHeight() {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumSize\n            : this.maximumOrthogonalSize;\n    }\n    get priority() {\n        if (this.children.length === 0) {\n            return LayoutPriority.Normal;\n        }\n        const priorities = this.children.map((c) => typeof c.priority === 'undefined'\n            ? LayoutPriority.Normal\n            : c.priority);\n        if (priorities.some((p) => p === LayoutPriority.High)) {\n            return LayoutPriority.High;\n        }\n        else if (priorities.some((p) => p === LayoutPriority.Low)) {\n            return LayoutPriority.Low;\n        }\n        return LayoutPriority.Normal;\n    }\n    get disabled() {\n        return this.splitview.disabled;\n    }\n    set disabled(value) {\n        this.splitview.disabled = value;\n    }\n    get margin() {\n        return this.splitview.margin;\n    }\n    set margin(value) {\n        this.splitview.margin = value;\n        this.children.forEach((child) => {\n            if (child instanceof BranchNode) {\n                child.margin = value;\n            }\n        });\n    }\n    constructor(orientation, proportionalLayout, styles, size, orthogonalSize, disabled, margin, childDescriptors) {\n        super();\n        this.orientation = orientation;\n        this.proportionalLayout = proportionalLayout;\n        this.styles = styles;\n        this._childrenDisposable = Disposable.NONE;\n        this.children = [];\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._onDidVisibilityChange = new Emitter();\n        this.onDidVisibilityChange = this._onDidVisibilityChange.event;\n        this._orthogonalSize = orthogonalSize;\n        this._size = size;\n        this.element = document.createElement('div');\n        this.element.className = 'dv-branch-node';\n        if (!childDescriptors) {\n            this.splitview = new Splitview(this.element, {\n                orientation: this.orientation,\n                proportionalLayout,\n                styles,\n                margin,\n            });\n            this.splitview.layout(this.size, this.orthogonalSize);\n        }\n        else {\n            const descriptor = {\n                views: childDescriptors.map((childDescriptor) => {\n                    return {\n                        view: childDescriptor.node,\n                        size: childDescriptor.node.size,\n                        visible: childDescriptor.node instanceof LeafNode &&\n                            childDescriptor.visible !== undefined\n                            ? childDescriptor.visible\n                            : true,\n                    };\n                }),\n                size: this.orthogonalSize,\n            };\n            this.children = childDescriptors.map((c) => c.node);\n            this.splitview = new Splitview(this.element, {\n                orientation: this.orientation,\n                descriptor,\n                proportionalLayout,\n                styles,\n                margin,\n            });\n        }\n        this.disabled = disabled;\n        this.addDisposables(this._onDidChange, this._onDidVisibilityChange, this.splitview.onDidSashEnd(() => {\n            this._onDidChange.fire({});\n        }));\n        this.setupChildrenEvents();\n    }\n    setVisible(_visible) {\n        // noop\n    }\n    isChildVisible(index) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        return this.splitview.isViewVisible(index);\n    }\n    setChildVisible(index, visible) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        if (this.splitview.isViewVisible(index) === visible) {\n            return;\n        }\n        const wereAllChildrenHidden = this.splitview.contentSize === 0;\n        this.splitview.setViewVisible(index, visible);\n        // }\n        const areAllChildrenHidden = this.splitview.contentSize === 0;\n        // If all children are hidden then the parent should hide the entire splitview\n        // If the entire splitview is hidden then the parent should show the splitview when a child is shown\n        if ((visible && wereAllChildrenHidden) ||\n            (!visible && areAllChildrenHidden)) {\n            this._onDidVisibilityChange.fire({ visible });\n        }\n    }\n    moveChild(from, to) {\n        if (from === to) {\n            return;\n        }\n        if (from < 0 || from >= this.children.length) {\n            throw new Error('Invalid from index');\n        }\n        if (from < to) {\n            to--;\n        }\n        this.splitview.moveView(from, to);\n        const child = this._removeChild(from);\n        this._addChild(child, to);\n    }\n    getChildSize(index) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        return this.splitview.getViewSize(index);\n    }\n    resizeChild(index, size) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        this.splitview.resizeView(index, size);\n    }\n    layout(size, orthogonalSize) {\n        this._size = orthogonalSize;\n        this._orthogonalSize = size;\n        this.splitview.layout(orthogonalSize, size);\n    }\n    addChild(node, size, index, skipLayout) {\n        if (index < 0 || index > this.children.length) {\n            throw new Error('Invalid index');\n        }\n        this.splitview.addView(node, size, index, skipLayout);\n        this._addChild(node, index);\n    }\n    getChildCachedVisibleSize(index) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        return this.splitview.getViewCachedVisibleSize(index);\n    }\n    removeChild(index, sizing) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n        this.splitview.removeView(index, sizing);\n        return this._removeChild(index);\n    }\n    _addChild(node, index) {\n        this.children.splice(index, 0, node);\n        this.setupChildrenEvents();\n    }\n    _removeChild(index) {\n        const [child] = this.children.splice(index, 1);\n        this.setupChildrenEvents();\n        return child;\n    }\n    setupChildrenEvents() {\n        this._childrenDisposable.dispose();\n        this._childrenDisposable = new CompositeDisposable(Event.any(...this.children.map((c) => c.onDidChange))((e) => {\n            /**\n             * indicate a change has occured to allows any re-rendering but don't bubble\n             * event because that was specific to this branch\n             */\n            this._onDidChange.fire({ size: e.orthogonalSize });\n        }), ...this.children.map((c, i) => {\n            if (c instanceof BranchNode) {\n                return c.onDidVisibilityChange(({ visible }) => {\n                    this.setChildVisible(i, visible);\n                });\n            }\n            return Disposable.NONE;\n        }));\n    }\n    dispose() {\n        this._childrenDisposable.dispose();\n        this.splitview.dispose();\n        this.children.forEach((child) => child.dispose());\n        super.dispose();\n    }\n}\n\n/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid\n *--------------------------------------------------------------------------------------------*/\nfunction findLeaf(candiateNode, last) {\n    if (candiateNode instanceof LeafNode) {\n        return candiateNode;\n    }\n    if (candiateNode instanceof BranchNode) {\n        return findLeaf(candiateNode.children[last ? candiateNode.children.length - 1 : 0], last);\n    }\n    throw new Error('invalid node');\n}\nfunction cloneNode(node, size, orthogonalSize) {\n    if (node instanceof BranchNode) {\n        const result = new BranchNode(node.orientation, node.proportionalLayout, node.styles, size, orthogonalSize, node.disabled, node.margin);\n        for (let i = node.children.length - 1; i >= 0; i--) {\n            const child = node.children[i];\n            result.addChild(cloneNode(child, child.size, child.orthogonalSize), child.size, 0, true);\n        }\n        return result;\n    }\n    else {\n        return new LeafNode(node.view, node.orientation, orthogonalSize);\n    }\n}\nfunction flipNode(node, size, orthogonalSize) {\n    if (node instanceof BranchNode) {\n        const result = new BranchNode(orthogonal(node.orientation), node.proportionalLayout, node.styles, size, orthogonalSize, node.disabled, node.margin);\n        let totalSize = 0;\n        for (let i = node.children.length - 1; i >= 0; i--) {\n            const child = node.children[i];\n            const childSize = child instanceof BranchNode ? child.orthogonalSize : child.size;\n            let newSize = node.size === 0\n                ? 0\n                : Math.round((size * childSize) / node.size);\n            totalSize += newSize;\n            // The last view to add should adjust to rounding errors\n            if (i === 0) {\n                newSize += size - totalSize;\n            }\n            result.addChild(flipNode(child, orthogonalSize, newSize), newSize, 0, true);\n        }\n        return result;\n    }\n    else {\n        return new LeafNode(node.view, orthogonal(node.orientation), orthogonalSize);\n    }\n}\nfunction indexInParent(element) {\n    const parentElement = element.parentElement;\n    if (!parentElement) {\n        throw new Error('Invalid grid element');\n    }\n    let el = parentElement.firstElementChild;\n    let index = 0;\n    while (el !== element && el !== parentElement.lastElementChild && el) {\n        el = el.nextElementSibling;\n        index++;\n    }\n    return index;\n}\n/**\n * Find the grid location of a specific DOM element by traversing the parent\n * chain and finding each child index on the way.\n *\n * This will break as soon as DOM structures of the Splitview or Gridview change.\n */\nfunction getGridLocation(element) {\n    const parentElement = element.parentElement;\n    if (!parentElement) {\n        throw new Error('Invalid grid element');\n    }\n    if (/\\bdv-grid-view\\b/.test(parentElement.className)) {\n        return [];\n    }\n    const index = indexInParent(parentElement);\n    const ancestor = parentElement.parentElement.parentElement.parentElement;\n    return [...getGridLocation(ancestor), index];\n}\nfunction getRelativeLocation(rootOrientation, location, direction) {\n    const orientation = getLocationOrientation(rootOrientation, location);\n    const directionOrientation = getDirectionOrientation(direction);\n    if (orientation === directionOrientation) {\n        const [rest, _index] = tail(location);\n        let index = _index;\n        if (direction === 'right' || direction === 'bottom') {\n            index += 1;\n        }\n        return [...rest, index];\n    }\n    else {\n        const index = direction === 'right' || direction === 'bottom' ? 1 : 0;\n        return [...location, index];\n    }\n}\nfunction getDirectionOrientation(direction) {\n    return direction === 'top' || direction === 'bottom'\n        ? Orientation.VERTICAL\n        : Orientation.HORIZONTAL;\n}\nfunction getLocationOrientation(rootOrientation, location) {\n    return location.length % 2 === 0\n        ? orthogonal(rootOrientation)\n        : rootOrientation;\n}\nconst orthogonal = (orientation) => orientation === Orientation.HORIZONTAL\n    ? Orientation.VERTICAL\n    : Orientation.HORIZONTAL;\nfunction isGridBranchNode(node) {\n    return !!node.children;\n}\nconst serializeBranchNode = (node, orientation) => {\n    const size = orientation === Orientation.VERTICAL ? node.box.width : node.box.height;\n    if (!isGridBranchNode(node)) {\n        if (typeof node.cachedVisibleSize === 'number') {\n            return {\n                type: 'leaf',\n                data: node.view.toJSON(),\n                size: node.cachedVisibleSize,\n                visible: false,\n            };\n        }\n        return { type: 'leaf', data: node.view.toJSON(), size };\n    }\n    return {\n        type: 'branch',\n        data: node.children.map((c) => serializeBranchNode(c, orthogonal(orientation))),\n        size,\n    };\n};\nclass Gridview {\n    get length() {\n        return this._root ? this._root.children.length : 0;\n    }\n    get orientation() {\n        return this.root.orientation;\n    }\n    set orientation(orientation) {\n        if (this.root.orientation === orientation) {\n            return;\n        }\n        const { size, orthogonalSize } = this.root;\n        this.root = flipNode(this.root, orthogonalSize, size);\n        this.root.layout(size, orthogonalSize);\n    }\n    get width() {\n        return this.root.width;\n    }\n    get height() {\n        return this.root.height;\n    }\n    get minimumWidth() {\n        return this.root.minimumWidth;\n    }\n    get minimumHeight() {\n        return this.root.minimumHeight;\n    }\n    get maximumWidth() {\n        return this.root.maximumHeight;\n    }\n    get maximumHeight() {\n        return this.root.maximumHeight;\n    }\n    get locked() {\n        return this._locked;\n    }\n    set locked(value) {\n        this._locked = value;\n        const branch = [this.root];\n        /**\n         * simple depth-first-search to cover all nodes\n         *\n         * @see https://en.wikipedia.org/wiki/Depth-first_search\n         */\n        while (branch.length > 0) {\n            const node = branch.pop();\n            if (node instanceof BranchNode) {\n                node.disabled = value;\n                branch.push(...node.children);\n            }\n        }\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(value) {\n        this._margin = value;\n        this.root.margin = value;\n    }\n    maximizedView() {\n        var _a;\n        return (_a = this._maximizedNode) === null || _a === void 0 ? void 0 : _a.leaf.view;\n    }\n    hasMaximizedView() {\n        return this._maximizedNode !== undefined;\n    }\n    maximizeView(view) {\n        var _a;\n        const location = getGridLocation(view.element);\n        const [_, node] = this.getNode(location);\n        if (!(node instanceof LeafNode)) {\n            return;\n        }\n        if (((_a = this._maximizedNode) === null || _a === void 0 ? void 0 : _a.leaf) === node) {\n            return;\n        }\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n        serializeBranchNode(this.getView(), this.orientation);\n        const hiddenOnMaximize = [];\n        function hideAllViewsBut(parent, exclude) {\n            for (let i = 0; i < parent.children.length; i++) {\n                const child = parent.children[i];\n                if (child instanceof LeafNode) {\n                    if (child !== exclude) {\n                        if (parent.isChildVisible(i)) {\n                            parent.setChildVisible(i, false);\n                        }\n                        else {\n                            hiddenOnMaximize.push(child);\n                        }\n                    }\n                }\n                else {\n                    hideAllViewsBut(child, exclude);\n                }\n            }\n        }\n        hideAllViewsBut(this.root, node);\n        this._maximizedNode = { leaf: node, hiddenOnMaximize };\n        this._onDidMaximizedNodeChange.fire({\n            view: node.view,\n            isMaximized: true,\n        });\n    }\n    exitMaximizedView() {\n        if (!this._maximizedNode) {\n            return;\n        }\n        const hiddenOnMaximize = this._maximizedNode.hiddenOnMaximize;\n        function showViewsInReverseOrder(parent) {\n            for (let index = parent.children.length - 1; index >= 0; index--) {\n                const child = parent.children[index];\n                if (child instanceof LeafNode) {\n                    if (!hiddenOnMaximize.includes(child)) {\n                        parent.setChildVisible(index, true);\n                    }\n                }\n                else {\n                    showViewsInReverseOrder(child);\n                }\n            }\n        }\n        showViewsInReverseOrder(this.root);\n        const tmp = this._maximizedNode.leaf;\n        this._maximizedNode = undefined;\n        this._onDidMaximizedNodeChange.fire({\n            view: tmp.view,\n            isMaximized: false,\n        });\n    }\n    serialize() {\n        const maximizedView = this.maximizedView();\n        let maxmizedViewLocation;\n        if (maximizedView) {\n            /**\n             * The minimum information we can get away with in order to serialize a maxmized view is it's location within the grid\n             * which is represented as a branch of indices\n             */\n            maxmizedViewLocation = getGridLocation(maximizedView.element);\n        }\n        if (this.hasMaximizedView()) {\n            /**\n             * the saved layout cannot be in its maxmized state otherwise all of the underlying\n             * view dimensions will be wrong\n             *\n             * To counteract this we temporaily remove the maximized view to compute the serialized output\n             * of the grid before adding back the maxmized view as to not alter the layout from the users\n             * perspective when `.toJSON()` is called\n             */\n            this.exitMaximizedView();\n        }\n        const root = serializeBranchNode(this.getView(), this.orientation);\n        const resullt = {\n            root,\n            width: this.width,\n            height: this.height,\n            orientation: this.orientation,\n        };\n        if (maxmizedViewLocation) {\n            resullt.maximizedNode = {\n                location: maxmizedViewLocation,\n            };\n        }\n        if (maximizedView) {\n            // replace any maximzied view that was removed for serialization purposes\n            this.maximizeView(maximizedView);\n        }\n        return resullt;\n    }\n    dispose() {\n        this.disposable.dispose();\n        this._onDidChange.dispose();\n        this._onDidMaximizedNodeChange.dispose();\n        this._onDidViewVisibilityChange.dispose();\n        this.root.dispose();\n        this._maximizedNode = undefined;\n        this.element.remove();\n    }\n    clear() {\n        const orientation = this.root.orientation;\n        this.root = new BranchNode(orientation, this.proportionalLayout, this.styles, this.root.size, this.root.orthogonalSize, this.locked, this.margin);\n    }\n    deserialize(json, deserializer) {\n        const orientation = json.orientation;\n        const height = orientation === Orientation.VERTICAL ? json.height : json.width;\n        this._deserialize(json.root, orientation, deserializer, height);\n        /**\n         * The deserialied layout must be positioned through this.layout(...)\n         * before any maximizedNode can be positioned\n         */\n        this.layout(json.width, json.height);\n        if (json.maximizedNode) {\n            const location = json.maximizedNode.location;\n            const [_, node] = this.getNode(location);\n            if (!(node instanceof LeafNode)) {\n                return;\n            }\n            this.maximizeView(node.view);\n        }\n    }\n    _deserialize(root, orientation, deserializer, orthogonalSize) {\n        this.root = this._deserializeNode(root, orientation, deserializer, orthogonalSize);\n    }\n    _deserializeNode(node, orientation, deserializer, orthogonalSize) {\n        var _a;\n        let result;\n        if (node.type === 'branch') {\n            const serializedChildren = node.data;\n            const children = serializedChildren.map((serializedChild) => {\n                return {\n                    node: this._deserializeNode(serializedChild, orthogonal(orientation), deserializer, node.size),\n                    visible: serializedChild.visible,\n                };\n            });\n            result = new BranchNode(orientation, this.proportionalLayout, this.styles, node.size, // <- orthogonal size - flips at each depth\n            orthogonalSize, // <- size - flips at each depth,\n            this.locked, this.margin, children);\n        }\n        else {\n            const view = deserializer.fromJSON(node);\n            if (typeof node.visible === 'boolean') {\n                (_a = view.setVisible) === null || _a === void 0 ? void 0 : _a.call(view, node.visible);\n            }\n            result = new LeafNode(view, orientation, orthogonalSize, node.size);\n        }\n        return result;\n    }\n    get root() {\n        return this._root;\n    }\n    set root(root) {\n        const oldRoot = this._root;\n        if (oldRoot) {\n            oldRoot.dispose();\n            this._maximizedNode = undefined;\n            this.element.removeChild(oldRoot.element);\n        }\n        this._root = root;\n        this.element.appendChild(this._root.element);\n        this.disposable.value = this._root.onDidChange((e) => {\n            this._onDidChange.fire(e);\n        });\n    }\n    normalize() {\n        if (!this._root) {\n            return;\n        }\n        if (this._root.children.length !== 1) {\n            return;\n        }\n        const oldRoot = this.root;\n        // can remove one level of redundant branching if there is only a single child\n        const childReference = oldRoot.children[0];\n        if (childReference instanceof LeafNode) {\n            return;\n        }\n        oldRoot.element.remove();\n        const child = oldRoot.removeChild(0); // Remove child to prevent double disposal\n        oldRoot.dispose(); // Dispose old root (won't dispose removed child)\n        child.dispose(); // Dispose the removed child\n        this._root = cloneNode(childReference, childReference.size, childReference.orthogonalSize);\n        this.element.appendChild(this._root.element);\n        this.disposable.value = this._root.onDidChange((e) => {\n            this._onDidChange.fire(e);\n        });\n    }\n    /**\n     * If the root is orientated as a VERTICAL node then nest the existing root within a new HORIZIONTAL root node\n     * If the root is orientated as a HORIZONTAL node then nest the existing root within a new VERITCAL root node\n     */\n    insertOrthogonalSplitviewAtRoot() {\n        if (!this._root) {\n            return;\n        }\n        const oldRoot = this.root;\n        oldRoot.element.remove();\n        this._root = new BranchNode(orthogonal(oldRoot.orientation), this.proportionalLayout, this.styles, this.root.orthogonalSize, this.root.size, this.locked, this.margin);\n        if (oldRoot.children.length === 0) ;\n        else if (oldRoot.children.length === 1) {\n            // can remove one level of redundant branching if there is only a single child\n            const childReference = oldRoot.children[0];\n            const child = oldRoot.removeChild(0); // remove to prevent disposal when disposing of unwanted root\n            child.dispose();\n            oldRoot.dispose();\n            this._root.addChild(\n            /**\n             * the child node will have the same orientation as the new root since\n             * we are removing the inbetween node.\n             * the entire 'tree' must be flipped recursively to ensure that the orientation\n             * flips at each level\n             */\n            flipNode(childReference, childReference.orthogonalSize, childReference.size), Sizing.Distribute, 0);\n        }\n        else {\n            this._root.addChild(oldRoot, Sizing.Distribute, 0);\n        }\n        this.element.appendChild(this._root.element);\n        this.disposable.value = this._root.onDidChange((e) => {\n            this._onDidChange.fire(e);\n        });\n    }\n    next(location) {\n        return this.progmaticSelect(location);\n    }\n    previous(location) {\n        return this.progmaticSelect(location, true);\n    }\n    getView(location) {\n        const node = location ? this.getNode(location)[1] : this.root;\n        return this._getViews(node, this.orientation);\n    }\n    _getViews(node, orientation, cachedVisibleSize) {\n        const box = { height: node.height, width: node.width };\n        if (node instanceof LeafNode) {\n            return { box, view: node.view, cachedVisibleSize };\n        }\n        const children = [];\n        for (let i = 0; i < node.children.length; i++) {\n            const child = node.children[i];\n            const nodeCachedVisibleSize = node.getChildCachedVisibleSize(i);\n            children.push(this._getViews(child, orthogonal(orientation), nodeCachedVisibleSize));\n        }\n        return { box, children };\n    }\n    progmaticSelect(location, reverse = false) {\n        const [path, node] = this.getNode(location);\n        if (!(node instanceof LeafNode)) {\n            throw new Error('invalid location');\n        }\n        for (let i = path.length - 1; i > -1; i--) {\n            const n = path[i];\n            const l = location[i] || 0;\n            const canProgressInCurrentLevel = reverse\n                ? l - 1 > -1\n                : l + 1 < n.children.length;\n            if (canProgressInCurrentLevel) {\n                return findLeaf(n.children[reverse ? l - 1 : l + 1], reverse);\n            }\n        }\n        return findLeaf(this.root, reverse);\n    }\n    constructor(proportionalLayout, styles, orientation, locked, margin) {\n        this.proportionalLayout = proportionalLayout;\n        this.styles = styles;\n        this._locked = false;\n        this._margin = 0;\n        this._maximizedNode = undefined;\n        this.disposable = new MutableDisposable();\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._onDidViewVisibilityChange = new Emitter();\n        this.onDidViewVisibilityChange = this._onDidViewVisibilityChange.event;\n        this._onDidMaximizedNodeChange = new Emitter();\n        this.onDidMaximizedNodeChange = this._onDidMaximizedNodeChange.event;\n        this.element = document.createElement('div');\n        this.element.className = 'dv-grid-view';\n        this._locked = locked !== null && locked !== void 0 ? locked : false;\n        this._margin = margin !== null && margin !== void 0 ? margin : 0;\n        this.root = new BranchNode(orientation, proportionalLayout, styles, 0, 0, this.locked, this.margin);\n    }\n    isViewVisible(location) {\n        const [rest, index] = tail(location);\n        const [, parent] = this.getNode(rest);\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid from location');\n        }\n        return parent.isChildVisible(index);\n    }\n    setViewVisible(location, visible) {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n        const [rest, index] = tail(location);\n        const [, parent] = this.getNode(rest);\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid from location');\n        }\n        this._onDidViewVisibilityChange.fire();\n        parent.setChildVisible(index, visible);\n    }\n    moveView(parentLocation, from, to) {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n        const [, parent] = this.getNode(parentLocation);\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid location');\n        }\n        parent.moveChild(from, to);\n    }\n    addView(view, size, location) {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n        const [rest, index] = tail(location);\n        const [pathToParent, parent] = this.getNode(rest);\n        if (parent instanceof BranchNode) {\n            const node = new LeafNode(view, orthogonal(parent.orientation), parent.orthogonalSize);\n            parent.addChild(node, size, index);\n        }\n        else {\n            const [grandParent, ..._] = [...pathToParent].reverse();\n            const [parentIndex, ...__] = [...rest].reverse();\n            let newSiblingSize = 0;\n            const newSiblingCachedVisibleSize = grandParent.getChildCachedVisibleSize(parentIndex);\n            if (typeof newSiblingCachedVisibleSize === 'number') {\n                newSiblingSize = Sizing.Invisible(newSiblingCachedVisibleSize);\n            }\n            const child = grandParent.removeChild(parentIndex);\n            child.dispose();\n            const newParent = new BranchNode(parent.orientation, this.proportionalLayout, this.styles, parent.size, parent.orthogonalSize, this.locked, this.margin);\n            grandParent.addChild(newParent, parent.size, parentIndex);\n            const newSibling = new LeafNode(parent.view, grandParent.orientation, parent.size);\n            newParent.addChild(newSibling, newSiblingSize, 0);\n            if (typeof size !== 'number' && size.type === 'split') {\n                size = { type: 'split', index: 0 };\n            }\n            const node = new LeafNode(view, grandParent.orientation, parent.size);\n            newParent.addChild(node, size, index);\n        }\n    }\n    remove(view, sizing) {\n        const location = getGridLocation(view.element);\n        return this.removeView(location, sizing);\n    }\n    removeView(location, sizing) {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n        const [rest, index] = tail(location);\n        const [pathToParent, parent] = this.getNode(rest);\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid location');\n        }\n        const nodeToRemove = parent.children[index];\n        if (!(nodeToRemove instanceof LeafNode)) {\n            throw new Error('Invalid location');\n        }\n        parent.removeChild(index, sizing);\n        nodeToRemove.dispose();\n        if (parent.children.length !== 1) {\n            return nodeToRemove.view;\n        }\n        // if the parent has only one child and we know the parent is a BranchNode we can make the tree\n        // more efficiently spaced by replacing the parent BranchNode with the child.\n        // if that child is a LeafNode then we simply replace the BranchNode with the child otherwise if the child\n        // is a BranchNode too we should spread it's children into the grandparent.\n        // refer to the remaining child as the sibling\n        const sibling = parent.children[0];\n        if (pathToParent.length === 0) {\n            // if the parent is root\n            if (sibling instanceof LeafNode) {\n                // if the sibling is a leaf node no action is required\n                return nodeToRemove.view;\n            }\n            // otherwise the sibling is a branch node. since the parent is the root and the root has only one child\n            // which is a branch node we can just set this branch node to be the new root node\n            // for good housekeeping we'll removing the sibling from it's existing tree\n            parent.removeChild(0, sizing);\n            // and set that sibling node to be root\n            this.root = sibling;\n            return nodeToRemove.view;\n        }\n        // otherwise the parent is apart of a large sub-tree\n        const [grandParent, ..._] = [...pathToParent].reverse();\n        const [parentIndex, ...__] = [...rest].reverse();\n        const isSiblingVisible = parent.isChildVisible(0);\n        // either way we need to remove the sibling from it's existing tree\n        parent.removeChild(0, sizing);\n        // note the sizes of all of the grandparents children\n        const sizes = grandParent.children.map((_size, i) => grandParent.getChildSize(i));\n        // remove the parent from the grandparent since we are moving the sibling to take the parents place\n        // this parent is no longer used and can be disposed of\n        grandParent.removeChild(parentIndex, sizing).dispose();\n        if (sibling instanceof BranchNode) {\n            // replace the parent with the siblings children\n            sizes.splice(parentIndex, 1, ...sibling.children.map((c) => c.size));\n            // and add those siblings to the grandparent\n            for (let i = 0; i < sibling.children.length; i++) {\n                const child = sibling.children[i];\n                grandParent.addChild(child, child.size, parentIndex + i);\n            }\n            /**\n             * clean down the branch node since we need to dipose of it and\n             * when .dispose() it called on a branch it will dispose of any\n             * views it is holding onto.\n             */\n            while (sibling.children.length > 0) {\n                sibling.removeChild(0);\n            }\n        }\n        else {\n            // otherwise create a new leaf node and add that to the grandparent\n            const newSibling = new LeafNode(sibling.view, orthogonal(sibling.orientation), sibling.size);\n            const siblingSizing = isSiblingVisible\n                ? sibling.orthogonalSize\n                : Sizing.Invisible(sibling.orthogonalSize);\n            grandParent.addChild(newSibling, siblingSizing, parentIndex);\n        }\n        // the containing node of the sibling is no longer required and can be disposed of\n        sibling.dispose();\n        // resize everything\n        for (let i = 0; i < sizes.length; i++) {\n            grandParent.resizeChild(i, sizes[i]);\n        }\n        return nodeToRemove.view;\n    }\n    layout(width, height) {\n        const [size, orthogonalSize] = this.root.orientation === Orientation.HORIZONTAL\n            ? [height, width]\n            : [width, height];\n        this.root.layout(size, orthogonalSize);\n    }\n    getNode(location, node = this.root, path = []) {\n        if (location.length === 0) {\n            return [path, node];\n        }\n        if (!(node instanceof BranchNode)) {\n            throw new Error('Invalid location');\n        }\n        const [index, ...rest] = location;\n        if (index < 0 || index >= node.children.length) {\n            throw new Error('Invalid location');\n        }\n        const child = node.children[index];\n        path.push(node);\n        return this.getNode(rest, child, path);\n    }\n}\n\nconst PROPERTY_KEYS_GRIDVIEW = (() => {\n    /**\n     * by readong the keys from an empty value object TypeScript will error\n     * when we add or remove new properties to `DockviewOptions`\n     */\n    const properties = {\n        disableAutoResizing: undefined,\n        proportionalLayout: undefined,\n        orientation: undefined,\n        hideBorders: undefined,\n        className: undefined,\n    };\n    return Object.keys(properties);\n})();\n\nclass Resizable extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    get disableResizing() {\n        return this._disableResizing;\n    }\n    set disableResizing(value) {\n        this._disableResizing = value;\n    }\n    constructor(parentElement, disableResizing = false) {\n        super();\n        this._disableResizing = disableResizing;\n        this._element = parentElement;\n        this.addDisposables(watchElementResize(this._element, (entry) => {\n            if (this.isDisposed) {\n                /**\n                 * resize is delayed through requestAnimationFrame so there is a small chance\n                 * the component has already been disposed of\n                 */\n                return;\n            }\n            if (this.disableResizing) {\n                return;\n            }\n            if (!this._element.offsetParent) {\n                /**\n                 * offsetParent === null is equivalent to display: none being set on the element or one\n                 * of it's parents. In the display: none case the size will become (0, 0) which we do\n                 * not want to propagate.\n                 *\n                 * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\n                 *\n                 * You could use checkVisibility() but at the time of writing it's not supported across\n                 * all Browsers\n                 *\n                 * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/checkVisibility\n                 */\n                return;\n            }\n            if (!isInDocument(this._element)) {\n                /**\n                 * since the event is dispatched through requestAnimationFrame there is a small chance\n                 * the component is no longer attached to the DOM, if that is the case the dimensions\n                 * are mostly likely all zero and meaningless. we should skip this case.\n                 */\n                return;\n            }\n            const { width, height } = entry.contentRect;\n            this.layout(width, height);\n        }));\n    }\n}\n\nconst nextLayoutId$1 = sequentialNumberGenerator();\nfunction toTarget(direction) {\n    switch (direction) {\n        case 'left':\n            return 'left';\n        case 'right':\n            return 'right';\n        case 'above':\n            return 'top';\n        case 'below':\n            return 'bottom';\n        case 'within':\n        default:\n            return 'center';\n    }\n}\nclass BaseGrid extends Resizable {\n    get id() {\n        return this._id;\n    }\n    get size() {\n        return this._groups.size;\n    }\n    get groups() {\n        return Array.from(this._groups.values()).map((_) => _.value);\n    }\n    get width() {\n        return this.gridview.width;\n    }\n    get height() {\n        return this.gridview.height;\n    }\n    get minimumHeight() {\n        return this.gridview.minimumHeight;\n    }\n    get maximumHeight() {\n        return this.gridview.maximumHeight;\n    }\n    get minimumWidth() {\n        return this.gridview.minimumWidth;\n    }\n    get maximumWidth() {\n        return this.gridview.maximumWidth;\n    }\n    get activeGroup() {\n        return this._activeGroup;\n    }\n    get locked() {\n        return this.gridview.locked;\n    }\n    set locked(value) {\n        this.gridview.locked = value;\n    }\n    constructor(container, options) {\n        var _a;\n        super(document.createElement('div'), options.disableAutoResizing);\n        this._id = nextLayoutId$1.next();\n        this._groups = new Map();\n        this._onDidRemove = new Emitter();\n        this.onDidRemove = this._onDidRemove.event;\n        this._onDidAdd = new Emitter();\n        this.onDidAdd = this._onDidAdd.event;\n        this._onDidMaximizedChange = new Emitter();\n        this.onDidMaximizedChange = this._onDidMaximizedChange.event;\n        this._onDidActiveChange = new Emitter();\n        this.onDidActiveChange = this._onDidActiveChange.event;\n        this._bufferOnDidLayoutChange = new AsapEvent();\n        this.onDidLayoutChange = this._bufferOnDidLayoutChange.onEvent;\n        this._onDidViewVisibilityChangeMicroTaskQueue = new AsapEvent();\n        this.onDidViewVisibilityChangeMicroTaskQueue = this._onDidViewVisibilityChangeMicroTaskQueue.onEvent;\n        this.element.style.height = '100%';\n        this.element.style.width = '100%';\n        this._classNames = new Classnames(this.element);\n        this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');\n        // the container is owned by the third-party, do not modify/delete it\n        container.appendChild(this.element);\n        this.gridview = new Gridview(!!options.proportionalLayout, options.styles, options.orientation, options.locked, options.margin);\n        this.gridview.locked = !!options.locked;\n        this.element.appendChild(this.gridview.element);\n        this.layout(0, 0, true); // set some elements height/widths\n        this.addDisposables(this.gridview.onDidMaximizedNodeChange((event) => {\n            this._onDidMaximizedChange.fire({\n                panel: event.view,\n                isMaximized: event.isMaximized,\n            });\n        }), this.gridview.onDidViewVisibilityChange(() => this._onDidViewVisibilityChangeMicroTaskQueue.fire()), this.onDidViewVisibilityChangeMicroTaskQueue(() => {\n            this.layout(this.width, this.height, true);\n        }), Disposable.from(() => {\n            var _a;\n            (_a = this.element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.element);\n        }), this.gridview.onDidChange(() => {\n            this._bufferOnDidLayoutChange.fire();\n        }), Event.any(this.onDidAdd, this.onDidRemove, this.onDidActiveChange)(() => {\n            this._bufferOnDidLayoutChange.fire();\n        }), this._onDidMaximizedChange, this._onDidViewVisibilityChangeMicroTaskQueue, this._bufferOnDidLayoutChange);\n    }\n    setVisible(panel, visible) {\n        this.gridview.setViewVisible(getGridLocation(panel.element), visible);\n        this._bufferOnDidLayoutChange.fire();\n    }\n    isVisible(panel) {\n        return this.gridview.isViewVisible(getGridLocation(panel.element));\n    }\n    updateOptions(options) {\n        var _a, _b, _c, _d;\n        if (typeof options.proportionalLayout === 'boolean') ;\n        if (options.orientation) {\n            this.gridview.orientation = options.orientation;\n        }\n        if ('disableResizing' in options) {\n            this.disableResizing = (_a = options.disableAutoResizing) !== null && _a !== void 0 ? _a : false;\n        }\n        if ('locked' in options) {\n            this.locked = (_b = options.locked) !== null && _b !== void 0 ? _b : false;\n        }\n        if ('margin' in options) {\n            this.gridview.margin = (_c = options.margin) !== null && _c !== void 0 ? _c : 0;\n        }\n        if ('className' in options) {\n            this._classNames.setClassNames((_d = options.className) !== null && _d !== void 0 ? _d : '');\n        }\n    }\n    maximizeGroup(panel) {\n        this.gridview.maximizeView(panel);\n        this.doSetGroupActive(panel);\n    }\n    isMaximizedGroup(panel) {\n        return this.gridview.maximizedView() === panel;\n    }\n    exitMaximizedGroup() {\n        this.gridview.exitMaximizedView();\n    }\n    hasMaximizedGroup() {\n        return this.gridview.hasMaximizedView();\n    }\n    doAddGroup(group, location = [0], size) {\n        this.gridview.addView(group, size !== null && size !== void 0 ? size : Sizing.Distribute, location);\n        this._onDidAdd.fire(group);\n    }\n    doRemoveGroup(group, options) {\n        if (!this._groups.has(group.id)) {\n            throw new Error('invalid operation');\n        }\n        const item = this._groups.get(group.id);\n        const view = this.gridview.remove(group, Sizing.Distribute);\n        if (item && !(options === null || options === void 0 ? void 0 : options.skipDispose)) {\n            item.disposable.dispose();\n            item.value.dispose();\n            this._groups.delete(group.id);\n            this._onDidRemove.fire(group);\n        }\n        if (!(options === null || options === void 0 ? void 0 : options.skipActive) && this._activeGroup === group) {\n            const groups = Array.from(this._groups.values());\n            this.doSetGroupActive(groups.length > 0 ? groups[0].value : undefined);\n        }\n        return view;\n    }\n    getPanel(id) {\n        var _a;\n        return (_a = this._groups.get(id)) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    doSetGroupActive(group) {\n        if (this._activeGroup === group) {\n            return;\n        }\n        if (this._activeGroup) {\n            this._activeGroup.setActive(false);\n        }\n        if (group) {\n            group.setActive(true);\n        }\n        this._activeGroup = group;\n        this._onDidActiveChange.fire(group);\n    }\n    removeGroup(group) {\n        this.doRemoveGroup(group);\n    }\n    moveToNext(options) {\n        var _a;\n        if (!options) {\n            options = {};\n        }\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n        const location = getGridLocation(options.group.element);\n        const next = (_a = this.gridview.next(location)) === null || _a === void 0 ? void 0 : _a.view;\n        this.doSetGroupActive(next);\n    }\n    moveToPrevious(options) {\n        var _a;\n        if (!options) {\n            options = {};\n        }\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n        const location = getGridLocation(options.group.element);\n        const next = (_a = this.gridview.previous(location)) === null || _a === void 0 ? void 0 : _a.view;\n        this.doSetGroupActive(next);\n    }\n    layout(width, height, forceResize) {\n        const different = forceResize || width !== this.width || height !== this.height;\n        if (!different) {\n            return;\n        }\n        this.gridview.element.style.height = `${height}px`;\n        this.gridview.element.style.width = `${width}px`;\n        this.gridview.layout(width, height);\n    }\n    dispose() {\n        this._onDidActiveChange.dispose();\n        this._onDidAdd.dispose();\n        this._onDidRemove.dispose();\n        for (const group of this.groups) {\n            group.dispose();\n        }\n        this.gridview.dispose();\n        super.dispose();\n    }\n}\n\nclass SplitviewApi {\n    /**\n     * The minimum size  the component can reach where size is measured in the direction of orientation provided.\n     */\n    get minimumSize() {\n        return this.component.minimumSize;\n    }\n    /**\n     * The maximum size the component can reach where size is measured in the direction of orientation provided.\n     */\n    get maximumSize() {\n        return this.component.maximumSize;\n    }\n    /**\n     * Width of the component.\n     */\n    get width() {\n        return this.component.width;\n    }\n    /**\n     * Height of the component.\n     */\n    get height() {\n        return this.component.height;\n    }\n    /**\n     * The current number of panels.\n     */\n    get length() {\n        return this.component.length;\n    }\n    /**\n     * The current orientation of the component.\n     */\n    get orientation() {\n        return this.component.orientation;\n    }\n    /**\n     * The list of current panels.\n     */\n    get panels() {\n        return this.component.panels;\n    }\n    /**\n     * Invoked after a layout is loaded through the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON() {\n        return this.component.onDidLayoutFromJSON;\n    }\n    /**\n     * Invoked whenever any aspect of the layout changes.\n     * If listening to this event it may be worth debouncing ouputs.\n     */\n    get onDidLayoutChange() {\n        return this.component.onDidLayoutChange;\n    }\n    /**\n     * Invoked when a view is added.\n     */\n    get onDidAddView() {\n        return this.component.onDidAddView;\n    }\n    /**\n     * Invoked when a view is removed.\n     */\n    get onDidRemoveView() {\n        return this.component.onDidRemoveView;\n    }\n    constructor(component) {\n        this.component = component;\n    }\n    /**\n     * Removes an existing panel and optionally provide a `Sizing` method\n     * for the subsequent resize.\n     */\n    removePanel(panel, sizing) {\n        this.component.removePanel(panel, sizing);\n    }\n    /**\n     * Focus the component.\n     */\n    focus() {\n        this.component.focus();\n    }\n    /**\n     * Get the reference to a panel given it's `string` id.\n     */\n    getPanel(id) {\n        return this.component.getPanel(id);\n    }\n    /**\n     * Layout the panel with a width and height.\n     */\n    layout(width, height) {\n        return this.component.layout(width, height);\n    }\n    /**\n     * Add a new panel and return the created instance.\n     */\n    addPanel(options) {\n        return this.component.addPanel(options);\n    }\n    /**\n     * Move a panel given it's current and desired index.\n     */\n    movePanel(from, to) {\n        this.component.movePanel(from, to);\n    }\n    /**\n     * Deserialize a layout to built a splitivew.\n     */\n    fromJSON(data) {\n        this.component.fromJSON(data);\n    }\n    /** Serialize a layout */\n    toJSON() {\n        return this.component.toJSON();\n    }\n    /**\n     * Remove all panels and clear the component.\n     */\n    clear() {\n        this.component.clear();\n    }\n    /**\n     * Update configuratable options.\n     */\n    updateOptions(options) {\n        this.component.updateOptions(options);\n    }\n    /**\n     * Release resources and teardown component. Do not call when using framework versions of dockview.\n     */\n    dispose() {\n        this.component.dispose();\n    }\n}\nclass PaneviewApi {\n    /**\n     * The minimum size  the component can reach where size is measured in the direction of orientation provided.\n     */\n    get minimumSize() {\n        return this.component.minimumSize;\n    }\n    /**\n     * The maximum size the component can reach where size is measured in the direction of orientation provided.\n     */\n    get maximumSize() {\n        return this.component.maximumSize;\n    }\n    /**\n     * Width of the component.\n     */\n    get width() {\n        return this.component.width;\n    }\n    /**\n     * Height of the component.\n     */\n    get height() {\n        return this.component.height;\n    }\n    /**\n     * All panel objects.\n     */\n    get panels() {\n        return this.component.panels;\n    }\n    /**\n     * Invoked when any layout change occures, an aggregation of many events.\n     */\n    get onDidLayoutChange() {\n        return this.component.onDidLayoutChange;\n    }\n    /**\n     * Invoked after a layout is deserialzied using the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON() {\n        return this.component.onDidLayoutFromJSON;\n    }\n    /**\n     * Invoked when a panel is added. May be called multiple times when moving panels.\n     */\n    get onDidAddView() {\n        return this.component.onDidAddView;\n    }\n    /**\n     * Invoked when a panel is removed. May be called multiple times when moving panels.\n     */\n    get onDidRemoveView() {\n        return this.component.onDidRemoveView;\n    }\n    /**\n     * Invoked when a Drag'n'Drop event occurs that the component was unable to handle. Exposed for custom Drag'n'Drop functionality.\n     */\n    get onDidDrop() {\n        return this.component.onDidDrop;\n    }\n    get onUnhandledDragOverEvent() {\n        return this.component.onUnhandledDragOverEvent;\n    }\n    constructor(component) {\n        this.component = component;\n    }\n    /**\n     * Remove a panel given the panel object.\n     */\n    removePanel(panel) {\n        this.component.removePanel(panel);\n    }\n    /**\n     * Get a panel object given a `string` id. May return `undefined`.\n     */\n    getPanel(id) {\n        return this.component.getPanel(id);\n    }\n    /**\n     * Move a panel given it's current and desired index.\n     */\n    movePanel(from, to) {\n        this.component.movePanel(from, to);\n    }\n    /**\n     *  Focus the component. Will try to focus an active panel if one exists.\n     */\n    focus() {\n        this.component.focus();\n    }\n    /**\n     * Force resize the component to an exact width and height. Read about auto-resizing before using.\n     */\n    layout(width, height) {\n        this.component.layout(width, height);\n    }\n    /**\n     * Add a panel and return the created object.\n     */\n    addPanel(options) {\n        return this.component.addPanel(options);\n    }\n    /**\n     * Create a component from a serialized object.\n     */\n    fromJSON(data) {\n        this.component.fromJSON(data);\n    }\n    /**\n     * Create a serialized object of the current component.\n     */\n    toJSON() {\n        return this.component.toJSON();\n    }\n    /**\n     * Reset the component back to an empty and default state.\n     */\n    clear() {\n        this.component.clear();\n    }\n    /**\n     * Update configuratable options.\n     */\n    updateOptions(options) {\n        this.component.updateOptions(options);\n    }\n    /**\n     * Release resources and teardown component. Do not call when using framework versions of dockview.\n     */\n    dispose() {\n        this.component.dispose();\n    }\n}\nclass GridviewApi {\n    /**\n     * Width of the component.\n     */\n    get width() {\n        return this.component.width;\n    }\n    /**\n     * Height of the component.\n     */\n    get height() {\n        return this.component.height;\n    }\n    /**\n     * Minimum height of the component.\n     */\n    get minimumHeight() {\n        return this.component.minimumHeight;\n    }\n    /**\n     * Maximum height of the component.\n     */\n    get maximumHeight() {\n        return this.component.maximumHeight;\n    }\n    /**\n     * Minimum width of the component.\n     */\n    get minimumWidth() {\n        return this.component.minimumWidth;\n    }\n    /**\n     * Maximum width of the component.\n     */\n    get maximumWidth() {\n        return this.component.maximumWidth;\n    }\n    /**\n     * Invoked when any layout change occures, an aggregation of many events.\n     */\n    get onDidLayoutChange() {\n        return this.component.onDidLayoutChange;\n    }\n    /**\n     * Invoked when a panel is added. May be called multiple times when moving panels.\n     */\n    get onDidAddPanel() {\n        return this.component.onDidAddGroup;\n    }\n    /**\n     * Invoked when a panel is removed. May be called multiple times when moving panels.\n     */\n    get onDidRemovePanel() {\n        return this.component.onDidRemoveGroup;\n    }\n    /**\n     * Invoked when the active panel changes. May be undefined if no panel is active.\n     */\n    get onDidActivePanelChange() {\n        return this.component.onDidActiveGroupChange;\n    }\n    /**\n     * Invoked after a layout is deserialzied using the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON() {\n        return this.component.onDidLayoutFromJSON;\n    }\n    /**\n     * All panel objects.\n     */\n    get panels() {\n        return this.component.groups;\n    }\n    /**\n     * Current orientation. Can be changed after initialization.\n     */\n    get orientation() {\n        return this.component.orientation;\n    }\n    set orientation(value) {\n        this.component.updateOptions({ orientation: value });\n    }\n    constructor(component) {\n        this.component = component;\n    }\n    /**\n     *  Focus the component. Will try to focus an active panel if one exists.\n     */\n    focus() {\n        this.component.focus();\n    }\n    /**\n     * Force resize the component to an exact width and height. Read about auto-resizing before using.\n     */\n    layout(width, height, force = false) {\n        this.component.layout(width, height, force);\n    }\n    /**\n     * Add a panel and return the created object.\n     */\n    addPanel(options) {\n        return this.component.addPanel(options);\n    }\n    /**\n     * Remove a panel given the panel object.\n     */\n    removePanel(panel, sizing) {\n        this.component.removePanel(panel, sizing);\n    }\n    /**\n     * Move a panel in a particular direction relative to another panel.\n     */\n    movePanel(panel, options) {\n        this.component.movePanel(panel, options);\n    }\n    /**\n     * Get a panel object given a `string` id. May return `undefined`.\n     */\n    getPanel(id) {\n        return this.component.getPanel(id);\n    }\n    /**\n     * Create a component from a serialized object.\n     */\n    fromJSON(data) {\n        return this.component.fromJSON(data);\n    }\n    /**\n     * Create a serialized object of the current component.\n     */\n    toJSON() {\n        return this.component.toJSON();\n    }\n    /**\n     * Reset the component back to an empty and default state.\n     */\n    clear() {\n        this.component.clear();\n    }\n    updateOptions(options) {\n        this.component.updateOptions(options);\n    }\n    /**\n     * Release resources and teardown component. Do not call when using framework versions of dockview.\n     */\n    dispose() {\n        this.component.dispose();\n    }\n}\nclass DockviewApi {\n    /**\n     * The unique identifier for this instance. Used to manage scope of Drag'n'Drop events.\n     */\n    get id() {\n        return this.component.id;\n    }\n    /**\n     * Width of the component.\n     */\n    get width() {\n        return this.component.width;\n    }\n    /**\n     * Height of the component.\n     */\n    get height() {\n        return this.component.height;\n    }\n    /**\n     * Minimum height of the component.\n     */\n    get minimumHeight() {\n        return this.component.minimumHeight;\n    }\n    /**\n     * Maximum height of the component.\n     */\n    get maximumHeight() {\n        return this.component.maximumHeight;\n    }\n    /**\n     * Minimum width of the component.\n     */\n    get minimumWidth() {\n        return this.component.minimumWidth;\n    }\n    /**\n     * Maximum width of the component.\n     */\n    get maximumWidth() {\n        return this.component.maximumWidth;\n    }\n    /**\n     * Total number of groups.\n     */\n    get size() {\n        return this.component.size;\n    }\n    /**\n     * Total number of panels.\n     */\n    get totalPanels() {\n        return this.component.totalPanels;\n    }\n    /**\n     * Invoked when the active group changes. May be undefined if no group is active.\n     */\n    get onDidActiveGroupChange() {\n        return this.component.onDidActiveGroupChange;\n    }\n    /**\n     * Invoked when a group is added. May be called multiple times when moving groups.\n     */\n    get onDidAddGroup() {\n        return this.component.onDidAddGroup;\n    }\n    /**\n     * Invoked when a group is removed. May be called multiple times when moving groups.\n     */\n    get onDidRemoveGroup() {\n        return this.component.onDidRemoveGroup;\n    }\n    /**\n     * Invoked when the active panel changes. May be undefined if no panel is active.\n     */\n    get onDidActivePanelChange() {\n        return this.component.onDidActivePanelChange;\n    }\n    /**\n     * Invoked when a panel is added. May be called multiple times when moving panels.\n     */\n    get onDidAddPanel() {\n        return this.component.onDidAddPanel;\n    }\n    /**\n     * Invoked when a panel is removed. May be called multiple times when moving panels.\n     */\n    get onDidRemovePanel() {\n        return this.component.onDidRemovePanel;\n    }\n    get onDidMovePanel() {\n        return this.component.onDidMovePanel;\n    }\n    /**\n     * Invoked after a layout is deserialzied using the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON() {\n        return this.component.onDidLayoutFromJSON;\n    }\n    /**\n     * Invoked when any layout change occures, an aggregation of many events.\n     */\n    get onDidLayoutChange() {\n        return this.component.onDidLayoutChange;\n    }\n    /**\n     * Invoked when a Drag'n'Drop event occurs that the component was unable to handle. Exposed for custom Drag'n'Drop functionality.\n     */\n    get onDidDrop() {\n        return this.component.onDidDrop;\n    }\n    /**\n     * Invoked when a Drag'n'Drop event occurs but before dockview handles it giving the user an opportunity to intecept and\n     * prevent the event from occuring using the standard `preventDefault()` syntax.\n     *\n     * Preventing certain events may causes unexpected behaviours, use carefully.\n     */\n    get onWillDrop() {\n        return this.component.onWillDrop;\n    }\n    /**\n     * Invoked before an overlay is shown indicating a drop target.\n     *\n     * Calling `event.preventDefault()` will prevent the overlay being shown and prevent\n     * the any subsequent drop event.\n     */\n    get onWillShowOverlay() {\n        return this.component.onWillShowOverlay;\n    }\n    /**\n     * Invoked before a group is dragged.\n     *\n     * Calling `event.nativeEvent.preventDefault()` will prevent the group drag starting.\n     *\n     */\n    get onWillDragGroup() {\n        return this.component.onWillDragGroup;\n    }\n    /**\n     * Invoked before a panel is dragged.\n     *\n     * Calling `event.nativeEvent.preventDefault()` will prevent the panel drag starting.\n     */\n    get onWillDragPanel() {\n        return this.component.onWillDragPanel;\n    }\n    get onUnhandledDragOverEvent() {\n        return this.component.onUnhandledDragOverEvent;\n    }\n    get onDidPopoutGroupSizeChange() {\n        return this.component.onDidPopoutGroupSizeChange;\n    }\n    get onDidPopoutGroupPositionChange() {\n        return this.component.onDidPopoutGroupPositionChange;\n    }\n    get onDidOpenPopoutWindowFail() {\n        return this.component.onDidOpenPopoutWindowFail;\n    }\n    /**\n     * All panel objects.\n     */\n    get panels() {\n        return this.component.panels;\n    }\n    /**\n     * All group objects.\n     */\n    get groups() {\n        return this.component.groups;\n    }\n    /**\n     *  Active panel object.\n     */\n    get activePanel() {\n        return this.component.activePanel;\n    }\n    /**\n     * Active group object.\n     */\n    get activeGroup() {\n        return this.component.activeGroup;\n    }\n    constructor(component) {\n        this.component = component;\n    }\n    /**\n     *  Focus the component. Will try to focus an active panel if one exists.\n     */\n    focus() {\n        this.component.focus();\n    }\n    /**\n     * Get a panel object given a `string` id. May return `undefined`.\n     */\n    getPanel(id) {\n        return this.component.getGroupPanel(id);\n    }\n    /**\n     * Force resize the component to an exact width and height. Read about auto-resizing before using.\n     */\n    layout(width, height, force = false) {\n        this.component.layout(width, height, force);\n    }\n    /**\n     * Add a panel and return the created object.\n     */\n    addPanel(options) {\n        return this.component.addPanel(options);\n    }\n    /**\n     * Remove a panel given the panel object.\n     */\n    removePanel(panel) {\n        this.component.removePanel(panel);\n    }\n    /**\n     * Add a group and return the created object.\n     */\n    addGroup(options) {\n        return this.component.addGroup(options);\n    }\n    /**\n     * Close all groups and panels.\n     */\n    closeAllGroups() {\n        return this.component.closeAllGroups();\n    }\n    /**\n     * Remove a group and any panels within the group.\n     */\n    removeGroup(group) {\n        this.component.removeGroup(group);\n    }\n    /**\n     * Get a group object given a `string` id. May return undefined.\n     */\n    getGroup(id) {\n        return this.component.getPanel(id);\n    }\n    /**\n     * Add a floating group\n     */\n    addFloatingGroup(item, options) {\n        return this.component.addFloatingGroup(item, options);\n    }\n    /**\n     * Create a component from a serialized object.\n     */\n    fromJSON(data, options) {\n        this.component.fromJSON(data, options);\n    }\n    /**\n     * Create a serialized object of the current component.\n     */\n    toJSON() {\n        return this.component.toJSON();\n    }\n    /**\n     * Reset the component back to an empty and default state.\n     */\n    clear() {\n        this.component.clear();\n    }\n    /**\n     * Move the focus progmatically to the next panel or group.\n     */\n    moveToNext(options) {\n        this.component.moveToNext(options);\n    }\n    /**\n     * Move the focus progmatically to the previous panel or group.\n     */\n    moveToPrevious(options) {\n        this.component.moveToPrevious(options);\n    }\n    maximizeGroup(panel) {\n        this.component.maximizeGroup(panel.group);\n    }\n    hasMaximizedGroup() {\n        return this.component.hasMaximizedGroup();\n    }\n    exitMaximizedGroup() {\n        this.component.exitMaximizedGroup();\n    }\n    get onDidMaximizedGroupChange() {\n        return this.component.onDidMaximizedGroupChange;\n    }\n    /**\n     * Add a popout group in a new Window\n     */\n    addPopoutGroup(item, options) {\n        return this.component.addPopoutGroup(item, options);\n    }\n    updateOptions(options) {\n        this.component.updateOptions(options);\n    }\n    /**\n     * Release resources and teardown component. Do not call when using framework versions of dockview.\n     */\n    dispose() {\n        this.component.dispose();\n    }\n}\n\nclass DragHandler extends CompositeDisposable {\n    constructor(el, disabled) {\n        super();\n        this.el = el;\n        this.disabled = disabled;\n        this.dataDisposable = new MutableDisposable();\n        this.pointerEventsDisposable = new MutableDisposable();\n        this._onDragStart = new Emitter();\n        this.onDragStart = this._onDragStart.event;\n        this.addDisposables(this._onDragStart, this.dataDisposable, this.pointerEventsDisposable);\n        this.configure();\n    }\n    setDisabled(disabled) {\n        this.disabled = disabled;\n    }\n    isCancelled(_event) {\n        return false;\n    }\n    configure() {\n        this.addDisposables(this._onDragStart, addDisposableListener(this.el, 'dragstart', (event) => {\n            if (event.defaultPrevented ||\n                this.isCancelled(event) ||\n                this.disabled) {\n                event.preventDefault();\n                return;\n            }\n            const iframes = disableIframePointEvents();\n            this.pointerEventsDisposable.value = {\n                dispose: () => {\n                    iframes.release();\n                },\n            };\n            this.el.classList.add('dv-dragged');\n            setTimeout(() => this.el.classList.remove('dv-dragged'), 0);\n            this.dataDisposable.value = this.getData(event);\n            this._onDragStart.fire(event);\n            if (event.dataTransfer) {\n                event.dataTransfer.effectAllowed = 'move';\n                const hasData = event.dataTransfer.items.length > 0;\n                if (!hasData) {\n                    /**\n                     * Although this is not used by dockview many third party dnd libraries will check\n                     * dataTransfer.types to determine valid drag events.\n                     *\n                     * For example: in react-dnd if dataTransfer.types is not set then the dragStart event will be cancelled\n                     * through .preventDefault(). Since this is applied globally to all drag events this would break dockviews\n                     * dnd logic. You can see the code at\n                 P    * https://github.com/react-dnd/react-dnd/blob/main/packages/backend-html5/src/HTML5BackendImpl.ts#L542\n                     */\n                    event.dataTransfer.setData('text/plain', '');\n                }\n            }\n        }), addDisposableListener(this.el, 'dragend', () => {\n            this.pointerEventsDisposable.dispose();\n            setTimeout(() => {\n                this.dataDisposable.dispose(); // allow the data to be read by other handlers before disposing\n            }, 0);\n        }));\n    }\n}\n\nclass DragAndDropObserver extends CompositeDisposable {\n    constructor(element, callbacks) {\n        super();\n        this.element = element;\n        this.callbacks = callbacks;\n        this.target = null;\n        this.registerListeners();\n    }\n    onDragEnter(e) {\n        this.target = e.target;\n        this.callbacks.onDragEnter(e);\n    }\n    onDragOver(e) {\n        e.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n        if (this.callbacks.onDragOver) {\n            this.callbacks.onDragOver(e);\n        }\n    }\n    onDragLeave(e) {\n        if (this.target === e.target) {\n            this.target = null;\n            this.callbacks.onDragLeave(e);\n        }\n    }\n    onDragEnd(e) {\n        this.target = null;\n        this.callbacks.onDragEnd(e);\n    }\n    onDrop(e) {\n        this.callbacks.onDrop(e);\n    }\n    registerListeners() {\n        this.addDisposables(addDisposableListener(this.element, 'dragenter', (e) => {\n            this.onDragEnter(e);\n        }, true));\n        this.addDisposables(addDisposableListener(this.element, 'dragover', (e) => {\n            this.onDragOver(e);\n        }, true));\n        this.addDisposables(addDisposableListener(this.element, 'dragleave', (e) => {\n            this.onDragLeave(e);\n        }));\n        this.addDisposables(addDisposableListener(this.element, 'dragend', (e) => {\n            this.onDragEnd(e);\n        }));\n        this.addDisposables(addDisposableListener(this.element, 'drop', (e) => {\n            this.onDrop(e);\n        }));\n    }\n}\n\nfunction setGPUOptimizedBounds(element, bounds) {\n    const { top, left, width, height } = bounds;\n    const topPx = `${Math.round(top)}px`;\n    const leftPx = `${Math.round(left)}px`;\n    const widthPx = `${Math.round(width)}px`;\n    const heightPx = `${Math.round(height)}px`;\n    // Use traditional positioning but maintain GPU layer\n    element.style.top = topPx;\n    element.style.left = leftPx;\n    element.style.width = widthPx;\n    element.style.height = heightPx;\n    element.style.visibility = 'visible';\n    // Ensure GPU layer is maintained\n    if (!element.style.transform || element.style.transform === '') {\n        element.style.transform = 'translate3d(0, 0, 0)';\n    }\n}\nfunction setGPUOptimizedBoundsFromStrings(element, bounds) {\n    const { top, left, width, height } = bounds;\n    // Use traditional positioning but maintain GPU layer\n    element.style.top = top;\n    element.style.left = left;\n    element.style.width = width;\n    element.style.height = height;\n    element.style.visibility = 'visible';\n    // Ensure GPU layer is maintained\n    if (!element.style.transform || element.style.transform === '') {\n        element.style.transform = 'translate3d(0, 0, 0)';\n    }\n}\nfunction checkBoundsChanged(element, bounds) {\n    const { top, left, width, height } = bounds;\n    const topPx = `${Math.round(top)}px`;\n    const leftPx = `${Math.round(left)}px`;\n    const widthPx = `${Math.round(width)}px`;\n    const heightPx = `${Math.round(height)}px`;\n    // Check if position or size changed (back to traditional method)\n    return (element.style.top !== topPx ||\n        element.style.left !== leftPx ||\n        element.style.width !== widthPx ||\n        element.style.height !== heightPx);\n}\nclass WillShowOverlayEvent extends DockviewEvent {\n    get nativeEvent() {\n        return this.options.nativeEvent;\n    }\n    get position() {\n        return this.options.position;\n    }\n    constructor(options) {\n        super();\n        this.options = options;\n    }\n}\nfunction directionToPosition(direction) {\n    switch (direction) {\n        case 'above':\n            return 'top';\n        case 'below':\n            return 'bottom';\n        case 'left':\n            return 'left';\n        case 'right':\n            return 'right';\n        case 'within':\n            return 'center';\n        default:\n            throw new Error(`invalid direction '${direction}'`);\n    }\n}\nfunction positionToDirection(position) {\n    switch (position) {\n        case 'top':\n            return 'above';\n        case 'bottom':\n            return 'below';\n        case 'left':\n            return 'left';\n        case 'right':\n            return 'right';\n        case 'center':\n            return 'within';\n        default:\n            throw new Error(`invalid position '${position}'`);\n    }\n}\nconst DEFAULT_ACTIVATION_SIZE = {\n    value: 20,\n    type: 'percentage',\n};\nconst DEFAULT_SIZE = {\n    value: 50,\n    type: 'percentage',\n};\nconst SMALL_WIDTH_BOUNDARY = 100;\nconst SMALL_HEIGHT_BOUNDARY = 100;\nclass Droptarget extends CompositeDisposable {\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        this._disabled = value;\n    }\n    get state() {\n        return this._state;\n    }\n    constructor(element, options) {\n        super();\n        this.element = element;\n        this.options = options;\n        this._onDrop = new Emitter();\n        this.onDrop = this._onDrop.event;\n        this._onWillShowOverlay = new Emitter();\n        this.onWillShowOverlay = this._onWillShowOverlay.event;\n        this._disabled = false;\n        // use a set to take advantage of #<set>.has\n        this._acceptedTargetZonesSet = new Set(this.options.acceptedTargetZones);\n        this.dnd = new DragAndDropObserver(this.element, {\n            onDragEnter: () => {\n                var _a, _b, _c;\n                (_c = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a)) === null || _c === void 0 ? void 0 : _c.getElements();\n            },\n            onDragOver: (e) => {\n                var _a, _b, _c, _d, _e, _f, _g;\n                Droptarget.ACTUAL_TARGET = this;\n                const overrideTarget = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);\n                if (this._acceptedTargetZonesSet.size === 0) {\n                    if (overrideTarget) {\n                        return;\n                    }\n                    this.removeDropTarget();\n                    return;\n                }\n                const target = (_e = (_d = (_c = this.options).getOverlayOutline) === null || _d === void 0 ? void 0 : _d.call(_c)) !== null && _e !== void 0 ? _e : this.element;\n                const width = target.offsetWidth;\n                const height = target.offsetHeight;\n                if (width === 0 || height === 0) {\n                    return; // avoid div!0\n                }\n                const rect = e.currentTarget.getBoundingClientRect();\n                const x = ((_f = e.clientX) !== null && _f !== void 0 ? _f : 0) - rect.left;\n                const y = ((_g = e.clientY) !== null && _g !== void 0 ? _g : 0) - rect.top;\n                const quadrant = this.calculateQuadrant(this._acceptedTargetZonesSet, x, y, width, height);\n                /**\n                 * If the event has already been used by another DropTarget instance\n                 * then don't show a second drop target, only one target should be\n                 * active at any one time\n                 */\n                if (this.isAlreadyUsed(e) || quadrant === null) {\n                    // no drop target should be displayed\n                    this.removeDropTarget();\n                    return;\n                }\n                if (!this.options.canDisplayOverlay(e, quadrant)) {\n                    if (overrideTarget) {\n                        return;\n                    }\n                    this.removeDropTarget();\n                    return;\n                }\n                const willShowOverlayEvent = new WillShowOverlayEvent({\n                    nativeEvent: e,\n                    position: quadrant,\n                });\n                /**\n                 * Provide an opportunity to prevent the overlay appearing and in turn\n                 * any dnd behaviours\n                 */\n                this._onWillShowOverlay.fire(willShowOverlayEvent);\n                if (willShowOverlayEvent.defaultPrevented) {\n                    this.removeDropTarget();\n                    return;\n                }\n                this.markAsUsed(e);\n                if (overrideTarget) ;\n                else if (!this.targetElement) {\n                    this.targetElement = document.createElement('div');\n                    this.targetElement.className = 'dv-drop-target-dropzone';\n                    this.overlayElement = document.createElement('div');\n                    this.overlayElement.className = 'dv-drop-target-selection';\n                    this._state = 'center';\n                    this.targetElement.appendChild(this.overlayElement);\n                    target.classList.add('dv-drop-target');\n                    target.append(this.targetElement);\n                    // this.overlayElement.style.opacity = '0';\n                    // requestAnimationFrame(() => {\n                    //     if (this.overlayElement) {\n                    //         this.overlayElement.style.opacity = '';\n                    //     }\n                    // });\n                }\n                this.toggleClasses(quadrant, width, height);\n                this._state = quadrant;\n            },\n            onDragLeave: () => {\n                var _a, _b;\n                const target = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);\n                if (target) {\n                    return;\n                }\n                this.removeDropTarget();\n            },\n            onDragEnd: (e) => {\n                var _a, _b;\n                const target = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);\n                if (target && Droptarget.ACTUAL_TARGET === this) {\n                    if (this._state) {\n                        // only stop the propagation of the event if we are dealing with it\n                        // which is only when the target has state\n                        e.stopPropagation();\n                        this._onDrop.fire({\n                            position: this._state,\n                            nativeEvent: e,\n                        });\n                    }\n                }\n                this.removeDropTarget();\n                target === null || target === void 0 ? void 0 : target.clear();\n            },\n            onDrop: (e) => {\n                var _a, _b, _c;\n                e.preventDefault();\n                const state = this._state;\n                this.removeDropTarget();\n                (_c = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a)) === null || _c === void 0 ? void 0 : _c.clear();\n                if (state) {\n                    // only stop the propagation of the event if we are dealing with it\n                    // which is only when the target has state\n                    e.stopPropagation();\n                    this._onDrop.fire({ position: state, nativeEvent: e });\n                }\n            },\n        });\n        this.addDisposables(this._onDrop, this._onWillShowOverlay, this.dnd);\n    }\n    setTargetZones(acceptedTargetZones) {\n        this._acceptedTargetZonesSet = new Set(acceptedTargetZones);\n    }\n    setOverlayModel(model) {\n        this.options.overlayModel = model;\n    }\n    dispose() {\n        this.removeDropTarget();\n        super.dispose();\n    }\n    /**\n     * Add a property to the event object for other potential listeners to check\n     */\n    markAsUsed(event) {\n        event[Droptarget.USED_EVENT_ID] = true;\n    }\n    /**\n     * Check is the event has already been used by another instance of DropTarget\n     */\n    isAlreadyUsed(event) {\n        const value = event[Droptarget.USED_EVENT_ID];\n        return typeof value === 'boolean' && value;\n    }\n    toggleClasses(quadrant, width, height) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const target = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);\n        if (!target && !this.overlayElement) {\n            return;\n        }\n        const isSmallX = width < SMALL_WIDTH_BOUNDARY;\n        const isSmallY = height < SMALL_HEIGHT_BOUNDARY;\n        const isLeft = quadrant === 'left';\n        const isRight = quadrant === 'right';\n        const isTop = quadrant === 'top';\n        const isBottom = quadrant === 'bottom';\n        const rightClass = !isSmallX && isRight;\n        const leftClass = !isSmallX && isLeft;\n        const topClass = !isSmallY && isTop;\n        const bottomClass = !isSmallY && isBottom;\n        let size = 1;\n        const sizeOptions = (_d = (_c = this.options.overlayModel) === null || _c === void 0 ? void 0 : _c.size) !== null && _d !== void 0 ? _d : DEFAULT_SIZE;\n        if (sizeOptions.type === 'percentage') {\n            size = clamp(sizeOptions.value, 0, 100) / 100;\n        }\n        else {\n            if (rightClass || leftClass) {\n                size = clamp(0, sizeOptions.value, width) / width;\n            }\n            if (topClass || bottomClass) {\n                size = clamp(0, sizeOptions.value, height) / height;\n            }\n        }\n        if (target) {\n            const outlineEl = (_g = (_f = (_e = this.options).getOverlayOutline) === null || _f === void 0 ? void 0 : _f.call(_e)) !== null && _g !== void 0 ? _g : this.element;\n            const elBox = outlineEl.getBoundingClientRect();\n            const ta = target.getElements(undefined, outlineEl);\n            const el = ta.root;\n            const overlay = ta.overlay;\n            const bigbox = el.getBoundingClientRect();\n            const rootTop = elBox.top - bigbox.top;\n            const rootLeft = elBox.left - bigbox.left;\n            const box = {\n                top: rootTop,\n                left: rootLeft,\n                width: width,\n                height: height,\n            };\n            if (rightClass) {\n                box.left = rootLeft + width * (1 - size);\n                box.width = width * size;\n            }\n            else if (leftClass) {\n                box.width = width * size;\n            }\n            else if (topClass) {\n                box.height = height * size;\n            }\n            else if (bottomClass) {\n                box.top = rootTop + height * (1 - size);\n                box.height = height * size;\n            }\n            if (isSmallX && isLeft) {\n                box.width = 4;\n            }\n            if (isSmallX && isRight) {\n                box.left = rootLeft + width - 4;\n                box.width = 4;\n            }\n            // Use GPU-optimized bounds checking and setting\n            if (!checkBoundsChanged(overlay, box)) {\n                return;\n            }\n            setGPUOptimizedBounds(overlay, box);\n            overlay.className = `dv-drop-target-anchor${this.options.className ? ` ${this.options.className}` : ''}`;\n            toggleClass(overlay, 'dv-drop-target-left', isLeft);\n            toggleClass(overlay, 'dv-drop-target-right', isRight);\n            toggleClass(overlay, 'dv-drop-target-top', isTop);\n            toggleClass(overlay, 'dv-drop-target-bottom', isBottom);\n            toggleClass(overlay, 'dv-drop-target-center', quadrant === 'center');\n            if (ta.changed) {\n                toggleClass(overlay, 'dv-drop-target-anchor-container-changed', true);\n                setTimeout(() => {\n                    toggleClass(overlay, 'dv-drop-target-anchor-container-changed', false);\n                }, 10);\n            }\n            return;\n        }\n        if (!this.overlayElement) {\n            return;\n        }\n        const box = { top: '0px', left: '0px', width: '100%', height: '100%' };\n        /**\n         * You can also achieve the overlay placement using the transform CSS property\n         * to translate and scale the element however this has the undesired effect of\n         * 'skewing' the element. Comment left here for anybody that ever revisits this.\n         *\n         * @see https://developer.mozilla.org/en-US/docs/Web/CSS/transform\n         *\n         * right\n         * translateX(${100 * (1 - size) / 2}%) scaleX(${scale})\n         *\n         * left\n         * translateX(-${100 * (1 - size) / 2}%) scaleX(${scale})\n         *\n         * top\n         * translateY(-${100 * (1 - size) / 2}%) scaleY(${scale})\n         *\n         * bottom\n         * translateY(${100 * (1 - size) / 2}%) scaleY(${scale})\n         */\n        if (rightClass) {\n            box.left = `${100 * (1 - size)}%`;\n            box.width = `${100 * size}%`;\n        }\n        else if (leftClass) {\n            box.width = `${100 * size}%`;\n        }\n        else if (topClass) {\n            box.height = `${100 * size}%`;\n        }\n        else if (bottomClass) {\n            box.top = `${100 * (1 - size)}%`;\n            box.height = `${100 * size}%`;\n        }\n        setGPUOptimizedBoundsFromStrings(this.overlayElement, box);\n        toggleClass(this.overlayElement, 'dv-drop-target-small-vertical', isSmallY);\n        toggleClass(this.overlayElement, 'dv-drop-target-small-horizontal', isSmallX);\n        toggleClass(this.overlayElement, 'dv-drop-target-left', isLeft);\n        toggleClass(this.overlayElement, 'dv-drop-target-right', isRight);\n        toggleClass(this.overlayElement, 'dv-drop-target-top', isTop);\n        toggleClass(this.overlayElement, 'dv-drop-target-bottom', isBottom);\n        toggleClass(this.overlayElement, 'dv-drop-target-center', quadrant === 'center');\n    }\n    calculateQuadrant(overlayType, x, y, width, height) {\n        var _a, _b;\n        const activationSizeOptions = (_b = (_a = this.options.overlayModel) === null || _a === void 0 ? void 0 : _a.activationSize) !== null && _b !== void 0 ? _b : DEFAULT_ACTIVATION_SIZE;\n        const isPercentage = activationSizeOptions.type === 'percentage';\n        if (isPercentage) {\n            return calculateQuadrantAsPercentage(overlayType, x, y, width, height, activationSizeOptions.value);\n        }\n        return calculateQuadrantAsPixels(overlayType, x, y, width, height, activationSizeOptions.value);\n    }\n    removeDropTarget() {\n        var _a;\n        if (this.targetElement) {\n            this._state = undefined;\n            (_a = this.targetElement.parentElement) === null || _a === void 0 ? void 0 : _a.classList.remove('dv-drop-target');\n            this.targetElement.remove();\n            this.targetElement = undefined;\n            this.overlayElement = undefined;\n        }\n    }\n}\nDroptarget.USED_EVENT_ID = '__dockview_droptarget_event_is_used__';\nfunction calculateQuadrantAsPercentage(overlayType, x, y, width, height, threshold) {\n    const xp = (100 * x) / width;\n    const yp = (100 * y) / height;\n    if (overlayType.has('left') && xp < threshold) {\n        return 'left';\n    }\n    if (overlayType.has('right') && xp > 100 - threshold) {\n        return 'right';\n    }\n    if (overlayType.has('top') && yp < threshold) {\n        return 'top';\n    }\n    if (overlayType.has('bottom') && yp > 100 - threshold) {\n        return 'bottom';\n    }\n    if (!overlayType.has('center')) {\n        return null;\n    }\n    return 'center';\n}\nfunction calculateQuadrantAsPixels(overlayType, x, y, width, height, threshold) {\n    if (overlayType.has('left') && x < threshold) {\n        return 'left';\n    }\n    if (overlayType.has('right') && x > width - threshold) {\n        return 'right';\n    }\n    if (overlayType.has('top') && y < threshold) {\n        return 'top';\n    }\n    if (overlayType.has('bottom') && y > height - threshold) {\n        return 'bottom';\n    }\n    if (!overlayType.has('center')) {\n        return null;\n    }\n    return 'center';\n}\n\nconst PROPERTY_KEYS_PANEVIEW = (() => {\n    /**\n     * by readong the keys from an empty value object TypeScript will error\n     * when we add or remove new properties to `DockviewOptions`\n     */\n    const properties = {\n        disableAutoResizing: undefined,\n        disableDnd: undefined,\n        className: undefined,\n    };\n    return Object.keys(properties);\n})();\nclass PaneviewUnhandledDragOverEvent extends AcceptableEvent {\n    constructor(nativeEvent, position, getData, panel) {\n        super();\n        this.nativeEvent = nativeEvent;\n        this.position = position;\n        this.getData = getData;\n        this.panel = panel;\n    }\n}\n\nclass WillFocusEvent extends DockviewEvent {\n    constructor() {\n        super();\n    }\n}\n/**\n * A core api implementation that should be used across all panel-like objects\n */\nclass PanelApiImpl extends CompositeDisposable {\n    get isFocused() {\n        return this._isFocused;\n    }\n    get isActive() {\n        return this._isActive;\n    }\n    get isVisible() {\n        return this._isVisible;\n    }\n    get width() {\n        return this._width;\n    }\n    get height() {\n        return this._height;\n    }\n    constructor(id, component) {\n        super();\n        this.id = id;\n        this.component = component;\n        this._isFocused = false;\n        this._isActive = false;\n        this._isVisible = true;\n        this._width = 0;\n        this._height = 0;\n        this._parameters = {};\n        this.panelUpdatesDisposable = new MutableDisposable();\n        this._onDidDimensionChange = new Emitter();\n        this.onDidDimensionsChange = this._onDidDimensionChange.event;\n        this._onDidChangeFocus = new Emitter();\n        this.onDidFocusChange = this._onDidChangeFocus.event;\n        //\n        this._onWillFocus = new Emitter();\n        this.onWillFocus = this._onWillFocus.event;\n        //\n        this._onDidVisibilityChange = new Emitter();\n        this.onDidVisibilityChange = this._onDidVisibilityChange.event;\n        this._onWillVisibilityChange = new Emitter();\n        this.onWillVisibilityChange = this._onWillVisibilityChange.event;\n        this._onDidActiveChange = new Emitter();\n        this.onDidActiveChange = this._onDidActiveChange.event;\n        this._onActiveChange = new Emitter();\n        this.onActiveChange = this._onActiveChange.event;\n        this._onDidParametersChange = new Emitter();\n        this.onDidParametersChange = this._onDidParametersChange.event;\n        this.addDisposables(this.onDidFocusChange((event) => {\n            this._isFocused = event.isFocused;\n        }), this.onDidActiveChange((event) => {\n            this._isActive = event.isActive;\n        }), this.onDidVisibilityChange((event) => {\n            this._isVisible = event.isVisible;\n        }), this.onDidDimensionsChange((event) => {\n            this._width = event.width;\n            this._height = event.height;\n        }), this.panelUpdatesDisposable, this._onDidDimensionChange, this._onDidChangeFocus, this._onDidVisibilityChange, this._onDidActiveChange, this._onWillFocus, this._onActiveChange, this._onWillFocus, this._onWillVisibilityChange, this._onDidParametersChange);\n    }\n    getParameters() {\n        return this._parameters;\n    }\n    initialize(panel) {\n        this.panelUpdatesDisposable.value = this._onDidParametersChange.event((parameters) => {\n            this._parameters = parameters;\n            panel.update({\n                params: parameters,\n            });\n        });\n    }\n    setVisible(isVisible) {\n        this._onWillVisibilityChange.fire({ isVisible });\n    }\n    setActive() {\n        this._onActiveChange.fire();\n    }\n    updateParameters(parameters) {\n        this._onDidParametersChange.fire(parameters);\n    }\n}\n\nclass SplitviewPanelApiImpl extends PanelApiImpl {\n    //\n    constructor(id, component) {\n        super(id, component);\n        this._onDidConstraintsChangeInternal = new Emitter();\n        this.onDidConstraintsChangeInternal = this._onDidConstraintsChangeInternal.event;\n        //\n        this._onDidConstraintsChange = new Emitter({\n            replay: true,\n        });\n        this.onDidConstraintsChange = this._onDidConstraintsChange.event;\n        //\n        this._onDidSizeChange = new Emitter();\n        this.onDidSizeChange = this._onDidSizeChange.event;\n        this.addDisposables(this._onDidConstraintsChangeInternal, this._onDidConstraintsChange, this._onDidSizeChange);\n    }\n    setConstraints(value) {\n        this._onDidConstraintsChangeInternal.fire(value);\n    }\n    setSize(event) {\n        this._onDidSizeChange.fire(event);\n    }\n}\n\nclass PaneviewPanelApiImpl extends SplitviewPanelApiImpl {\n    set pane(pane) {\n        this._pane = pane;\n    }\n    constructor(id, component) {\n        super(id, component);\n        this._onDidExpansionChange = new Emitter({\n            replay: true,\n        });\n        this.onDidExpansionChange = this._onDidExpansionChange.event;\n        this._onMouseEnter = new Emitter({});\n        this.onMouseEnter = this._onMouseEnter.event;\n        this._onMouseLeave = new Emitter({});\n        this.onMouseLeave = this._onMouseLeave.event;\n        this.addDisposables(this._onDidExpansionChange, this._onMouseEnter, this._onMouseLeave);\n    }\n    setExpanded(isExpanded) {\n        var _a;\n        (_a = this._pane) === null || _a === void 0 ? void 0 : _a.setExpanded(isExpanded);\n    }\n    get isExpanded() {\n        var _a;\n        return !!((_a = this._pane) === null || _a === void 0 ? void 0 : _a.isExpanded());\n    }\n}\n\nclass BasePanelView extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    get width() {\n        return this._width;\n    }\n    get height() {\n        return this._height;\n    }\n    get params() {\n        var _a;\n        return (_a = this._params) === null || _a === void 0 ? void 0 : _a.params;\n    }\n    constructor(id, component, api) {\n        super();\n        this.id = id;\n        this.component = component;\n        this.api = api;\n        this._height = 0;\n        this._width = 0;\n        this._element = document.createElement('div');\n        this._element.tabIndex = -1;\n        this._element.style.outline = 'none';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n        this._element.style.overflow = 'hidden';\n        const focusTracker = trackFocus(this._element);\n        this.addDisposables(this.api, focusTracker.onDidFocus(() => {\n            this.api._onDidChangeFocus.fire({ isFocused: true });\n        }), focusTracker.onDidBlur(() => {\n            this.api._onDidChangeFocus.fire({ isFocused: false });\n        }), focusTracker);\n    }\n    focus() {\n        const event = new WillFocusEvent();\n        this.api._onWillFocus.fire(event);\n        if (event.defaultPrevented) {\n            return;\n        }\n        this._element.focus();\n    }\n    layout(width, height) {\n        this._width = width;\n        this._height = height;\n        this.api._onDidDimensionChange.fire({ width, height });\n        if (this.part) {\n            if (this._params) {\n                this.part.update(this._params.params);\n            }\n        }\n    }\n    init(parameters) {\n        this._params = parameters;\n        this.part = this.getComponent();\n    }\n    update(event) {\n        var _a, _b;\n        // merge the new parameters with the existing parameters\n        this._params = Object.assign(Object.assign({}, this._params), { params: Object.assign(Object.assign({}, (_a = this._params) === null || _a === void 0 ? void 0 : _a.params), event.params) });\n        /**\n         * delete new keys that have a value of undefined,\n         * allow values of null\n         */\n        for (const key of Object.keys(event.params)) {\n            if (event.params[key] === undefined) {\n                delete this._params.params[key];\n            }\n        }\n        // update the view with the updated props\n        (_b = this.part) === null || _b === void 0 ? void 0 : _b.update({ params: this._params.params });\n    }\n    toJSON() {\n        var _a, _b;\n        const params = (_b = (_a = this._params) === null || _a === void 0 ? void 0 : _a.params) !== null && _b !== void 0 ? _b : {};\n        return {\n            id: this.id,\n            component: this.component,\n            params: Object.keys(params).length > 0 ? params : undefined,\n        };\n    }\n    dispose() {\n        var _a;\n        this.api.dispose();\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();\n        super.dispose();\n    }\n}\n\nclass PaneviewPanel extends BasePanelView {\n    set orientation(value) {\n        this._orientation = value;\n    }\n    get orientation() {\n        return this._orientation;\n    }\n    get minimumSize() {\n        const headerSize = this.headerSize;\n        const expanded = this.isExpanded();\n        const minimumBodySize = expanded ? this._minimumBodySize : 0;\n        return headerSize + minimumBodySize;\n    }\n    get maximumSize() {\n        const headerSize = this.headerSize;\n        const expanded = this.isExpanded();\n        const maximumBodySize = expanded ? this._maximumBodySize : 0;\n        return headerSize + maximumBodySize;\n    }\n    get size() {\n        return this._size;\n    }\n    get orthogonalSize() {\n        return this._orthogonalSize;\n    }\n    set orthogonalSize(size) {\n        this._orthogonalSize = size;\n    }\n    get minimumBodySize() {\n        return this._minimumBodySize;\n    }\n    set minimumBodySize(value) {\n        this._minimumBodySize = typeof value === 'number' ? value : 0;\n    }\n    get maximumBodySize() {\n        return this._maximumBodySize;\n    }\n    set maximumBodySize(value) {\n        this._maximumBodySize =\n            typeof value === 'number' ? value : Number.POSITIVE_INFINITY;\n    }\n    get headerVisible() {\n        return this._headerVisible;\n    }\n    set headerVisible(value) {\n        this._headerVisible = value;\n        this.header.style.display = value ? '' : 'none';\n    }\n    constructor(options) {\n        super(options.id, options.component, new PaneviewPanelApiImpl(options.id, options.component));\n        this._onDidChangeExpansionState = new Emitter({ replay: true });\n        this.onDidChangeExpansionState = this._onDidChangeExpansionState.event;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._orthogonalSize = 0;\n        this._size = 0;\n        this._isExpanded = false;\n        this.api.pane = this; // TODO cannot use 'this' before 'super'\n        this.api.initialize(this);\n        this.headerSize = options.headerSize;\n        this.headerComponent = options.headerComponent;\n        this._minimumBodySize = options.minimumBodySize;\n        this._maximumBodySize = options.maximumBodySize;\n        this._isExpanded = options.isExpanded;\n        this._headerVisible = options.isHeaderVisible;\n        this._onDidChangeExpansionState.fire(this.isExpanded()); // initialize value\n        this._orientation = options.orientation;\n        this.element.classList.add('dv-pane');\n        this.addDisposables(this.api.onWillVisibilityChange((event) => {\n            const { isVisible } = event;\n            const { accessor } = this._params;\n            accessor.setVisible(this, isVisible);\n        }), this.api.onDidSizeChange((event) => {\n            this._onDidChange.fire({ size: event.size });\n        }), addDisposableListener(this.element, 'mouseenter', (ev) => {\n            this.api._onMouseEnter.fire(ev);\n        }), addDisposableListener(this.element, 'mouseleave', (ev) => {\n            this.api._onMouseLeave.fire(ev);\n        }));\n        this.addDisposables(this._onDidChangeExpansionState, this.onDidChangeExpansionState((isPanelExpanded) => {\n            this.api._onDidExpansionChange.fire({\n                isExpanded: isPanelExpanded,\n            });\n        }), this.api.onDidFocusChange((e) => {\n            if (!this.header) {\n                return;\n            }\n            if (e.isFocused) {\n                addClasses(this.header, 'focused');\n            }\n            else {\n                removeClasses(this.header, 'focused');\n            }\n        }));\n        this.renderOnce();\n    }\n    setVisible(isVisible) {\n        this.api._onDidVisibilityChange.fire({ isVisible });\n    }\n    setActive(isActive) {\n        this.api._onDidActiveChange.fire({ isActive });\n    }\n    isExpanded() {\n        return this._isExpanded;\n    }\n    setExpanded(expanded) {\n        if (this._isExpanded === expanded) {\n            return;\n        }\n        this._isExpanded = expanded;\n        if (expanded) {\n            if (this.animationTimer) {\n                clearTimeout(this.animationTimer);\n            }\n            if (this.body) {\n                this.element.appendChild(this.body);\n            }\n        }\n        else {\n            this.animationTimer = setTimeout(() => {\n                var _a;\n                (_a = this.body) === null || _a === void 0 ? void 0 : _a.remove();\n            }, 200);\n        }\n        this._onDidChange.fire(expanded ? { size: this.width } : {});\n        this._onDidChangeExpansionState.fire(expanded);\n    }\n    layout(size, orthogonalSize) {\n        this._size = size;\n        this._orthogonalSize = orthogonalSize;\n        const [width, height] = this.orientation === Orientation.HORIZONTAL\n            ? [size, orthogonalSize]\n            : [orthogonalSize, size];\n        super.layout(width, height);\n    }\n    init(parameters) {\n        var _a, _b;\n        super.init(parameters);\n        if (typeof parameters.minimumBodySize === 'number') {\n            this.minimumBodySize = parameters.minimumBodySize;\n        }\n        if (typeof parameters.maximumBodySize === 'number') {\n            this.maximumBodySize = parameters.maximumBodySize;\n        }\n        this.bodyPart = this.getBodyComponent();\n        this.headerPart = this.getHeaderComponent();\n        this.bodyPart.init(Object.assign(Object.assign({}, parameters), { api: this.api }));\n        this.headerPart.init(Object.assign(Object.assign({}, parameters), { api: this.api }));\n        (_a = this.body) === null || _a === void 0 ? void 0 : _a.append(this.bodyPart.element);\n        (_b = this.header) === null || _b === void 0 ? void 0 : _b.append(this.headerPart.element);\n        if (typeof parameters.isExpanded === 'boolean') {\n            this.setExpanded(parameters.isExpanded);\n        }\n    }\n    toJSON() {\n        const params = this._params;\n        return Object.assign(Object.assign({}, super.toJSON()), { headerComponent: this.headerComponent, title: params.title });\n    }\n    renderOnce() {\n        this.header = document.createElement('div');\n        this.header.tabIndex = 0;\n        this.header.className = 'dv-pane-header';\n        this.header.style.height = `${this.headerSize}px`;\n        this.header.style.lineHeight = `${this.headerSize}px`;\n        this.header.style.minHeight = `${this.headerSize}px`;\n        this.header.style.maxHeight = `${this.headerSize}px`;\n        this.element.appendChild(this.header);\n        this.body = document.createElement('div');\n        this.body.className = 'dv-pane-body';\n        this.element.appendChild(this.body);\n    }\n    // TODO slightly hacky by-pass of the component to create a body and header component\n    getComponent() {\n        return {\n            update: (params) => {\n                var _a, _b;\n                (_a = this.bodyPart) === null || _a === void 0 ? void 0 : _a.update({ params });\n                (_b = this.headerPart) === null || _b === void 0 ? void 0 : _b.update({ params });\n            },\n            dispose: () => {\n                var _a, _b;\n                (_a = this.bodyPart) === null || _a === void 0 ? void 0 : _a.dispose();\n                (_b = this.headerPart) === null || _b === void 0 ? void 0 : _b.dispose();\n            },\n        };\n    }\n}\n\nclass DraggablePaneviewPanel extends PaneviewPanel {\n    constructor(options) {\n        super({\n            id: options.id,\n            component: options.component,\n            headerComponent: options.headerComponent,\n            orientation: options.orientation,\n            isExpanded: options.isExpanded,\n            isHeaderVisible: true,\n            headerSize: options.headerSize,\n            minimumBodySize: options.minimumBodySize,\n            maximumBodySize: options.maximumBodySize,\n        });\n        this._onDidDrop = new Emitter();\n        this.onDidDrop = this._onDidDrop.event;\n        this._onUnhandledDragOverEvent = new Emitter();\n        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;\n        this.accessor = options.accessor;\n        this.addDisposables(this._onDidDrop, this._onUnhandledDragOverEvent);\n        if (!options.disableDnd) {\n            this.initDragFeatures();\n        }\n    }\n    initDragFeatures() {\n        if (!this.header) {\n            return;\n        }\n        const id = this.id;\n        const accessorId = this.accessor.id;\n        this.header.draggable = true;\n        this.handler = new (class PaneDragHandler extends DragHandler {\n            getData() {\n                LocalSelectionTransfer.getInstance().setData([new PaneTransfer(accessorId, id)], PaneTransfer.prototype);\n                return {\n                    dispose: () => {\n                        LocalSelectionTransfer.getInstance().clearData(PaneTransfer.prototype);\n                    },\n                };\n            }\n        })(this.header);\n        this.target = new Droptarget(this.element, {\n            acceptedTargetZones: ['top', 'bottom'],\n            overlayModel: {\n                activationSize: { type: 'percentage', value: 50 },\n            },\n            canDisplayOverlay: (event, position) => {\n                const data = getPaneData();\n                if (data) {\n                    if (data.paneId !== this.id &&\n                        data.viewId === this.accessor.id) {\n                        return true;\n                    }\n                }\n                const firedEvent = new PaneviewUnhandledDragOverEvent(event, position, getPaneData, this);\n                this._onUnhandledDragOverEvent.fire(firedEvent);\n                return firedEvent.isAccepted;\n            },\n        });\n        this.addDisposables(this._onDidDrop, this.handler, this.target, this.target.onDrop((event) => {\n            this.onDrop(event);\n        }));\n    }\n    onDrop(event) {\n        const data = getPaneData();\n        if (!data || data.viewId !== this.accessor.id) {\n            // if there is no local drag event for this panel\n            // or if the drag event was creating by another Paneview instance\n            this._onDidDrop.fire(Object.assign(Object.assign({}, event), { panel: this, api: new PaneviewApi(this.accessor), getData: getPaneData }));\n            return;\n        }\n        const containerApi = this._params\n            .containerApi;\n        const panelId = data.paneId;\n        const existingPanel = containerApi.getPanel(panelId);\n        if (!existingPanel) {\n            // if the panel doesn't exist\n            this._onDidDrop.fire(Object.assign(Object.assign({}, event), { panel: this, getData: getPaneData, api: new PaneviewApi(this.accessor) }));\n            return;\n        }\n        const allPanels = containerApi.panels;\n        const fromIndex = allPanels.indexOf(existingPanel);\n        let toIndex = containerApi.panels.indexOf(this);\n        if (event.position === 'left' || event.position === 'top') {\n            toIndex = Math.max(0, toIndex - 1);\n        }\n        if (event.position === 'right' || event.position === 'bottom') {\n            if (fromIndex > toIndex) {\n                toIndex++;\n            }\n            toIndex = Math.min(allPanels.length - 1, toIndex);\n        }\n        containerApi.movePanel(fromIndex, toIndex);\n    }\n}\n\nclass ContentContainer extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor(accessor, group) {\n        super();\n        this.accessor = accessor;\n        this.group = group;\n        this.disposable = new MutableDisposable();\n        this._onDidFocus = new Emitter();\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = new Emitter();\n        this.onDidBlur = this._onDidBlur.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-content-container';\n        this._element.tabIndex = -1;\n        this.addDisposables(this._onDidFocus, this._onDidBlur);\n        const target = group.dropTargetContainer;\n        this.dropTarget = new Droptarget(this.element, {\n            getOverlayOutline: () => {\n                var _a;\n                return ((_a = accessor.options.theme) === null || _a === void 0 ? void 0 : _a.dndPanelOverlay) === 'group'\n                    ? this.element.parentElement\n                    : null;\n            },\n            className: 'dv-drop-target-content',\n            acceptedTargetZones: ['top', 'bottom', 'left', 'right', 'center'],\n            canDisplayOverlay: (event, position) => {\n                if (this.group.locked === 'no-drop-target' ||\n                    (this.group.locked && position === 'center')) {\n                    return false;\n                }\n                const data = getPanelData();\n                if (!data &&\n                    event.shiftKey &&\n                    this.group.location.type !== 'floating') {\n                    return false;\n                }\n                if (data && data.viewId === this.accessor.id) {\n                    return true;\n                }\n                return this.group.canDisplayOverlay(event, position, 'content');\n            },\n            getOverrideTarget: target ? () => target.model : undefined,\n        });\n        this.addDisposables(this.dropTarget);\n    }\n    show() {\n        this.element.style.display = '';\n    }\n    hide() {\n        this.element.style.display = 'none';\n    }\n    renderPanel(panel, options = { asActive: true }) {\n        const doRender = options.asActive ||\n            (this.panel && this.group.isPanelActive(this.panel));\n        if (this.panel &&\n            this.panel.view.content.element.parentElement === this._element) {\n            /**\n             * If the currently attached panel is mounted directly to the content then remove it\n             */\n            this._element.removeChild(this.panel.view.content.element);\n        }\n        this.panel = panel;\n        let container;\n        switch (panel.api.renderer) {\n            case 'onlyWhenVisible':\n                this.group.renderContainer.detatch(panel);\n                if (this.panel) {\n                    if (doRender) {\n                        this._element.appendChild(this.panel.view.content.element);\n                    }\n                }\n                container = this._element;\n                break;\n            case 'always':\n                if (panel.view.content.element.parentElement === this._element) {\n                    this._element.removeChild(panel.view.content.element);\n                }\n                container = this.group.renderContainer.attach({\n                    panel,\n                    referenceContainer: this,\n                });\n                break;\n            default:\n                throw new Error(`dockview: invalid renderer type '${panel.api.renderer}'`);\n        }\n        if (doRender) {\n            const focusTracker = trackFocus(container);\n            this.focusTracker = focusTracker;\n            const disposable = new CompositeDisposable();\n            disposable.addDisposables(focusTracker, focusTracker.onDidFocus(() => this._onDidFocus.fire()), focusTracker.onDidBlur(() => this._onDidBlur.fire()));\n            this.disposable.value = disposable;\n        }\n    }\n    openPanel(panel) {\n        if (this.panel === panel) {\n            return;\n        }\n        this.renderPanel(panel);\n    }\n    layout(_width, _height) {\n        // noop\n    }\n    closePanel() {\n        var _a;\n        if (this.panel) {\n            if (this.panel.api.renderer === 'onlyWhenVisible') {\n                (_a = this.panel.view.content.element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.panel.view.content.element);\n            }\n        }\n        this.panel = undefined;\n    }\n    dispose() {\n        this.disposable.dispose();\n        super.dispose();\n    }\n    /**\n     * Refresh the focus tracker state to handle cases where focus state\n     * gets out of sync due to programmatic panel activation\n     */\n    refreshFocusState() {\n        var _a;\n        if ((_a = this.focusTracker) === null || _a === void 0 ? void 0 : _a.refreshState) {\n            this.focusTracker.refreshState();\n        }\n    }\n}\n\nfunction addGhostImage(dataTransfer, ghostElement, options) {\n    var _a, _b;\n    // class dockview provides to force ghost image to be drawn on a different layer and prevent weird rendering issues\n    addClasses(ghostElement, 'dv-dragged');\n    // move the element off-screen initially otherwise it may in some cases be rendered at (0,0) momentarily\n    ghostElement.style.top = '-9999px';\n    document.body.appendChild(ghostElement);\n    dataTransfer.setDragImage(ghostElement, (_a = options === null || options === void 0 ? void 0 : options.x) !== null && _a !== void 0 ? _a : 0, (_b = options === null || options === void 0 ? void 0 : options.y) !== null && _b !== void 0 ? _b : 0);\n    setTimeout(() => {\n        removeClasses(ghostElement, 'dv-dragged');\n        ghostElement.remove();\n    }, 0);\n}\n\nclass TabDragHandler extends DragHandler {\n    constructor(element, accessor, group, panel, disabled) {\n        super(element, disabled);\n        this.accessor = accessor;\n        this.group = group;\n        this.panel = panel;\n        this.panelTransfer = LocalSelectionTransfer.getInstance();\n    }\n    getData(event) {\n        this.panelTransfer.setData([new PanelTransfer(this.accessor.id, this.group.id, this.panel.id)], PanelTransfer.prototype);\n        return {\n            dispose: () => {\n                this.panelTransfer.clearData(PanelTransfer.prototype);\n            },\n        };\n    }\n}\nclass Tab extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor(panel, accessor, group) {\n        super();\n        this.panel = panel;\n        this.accessor = accessor;\n        this.group = group;\n        this.content = undefined;\n        this._onPointDown = new Emitter();\n        this.onPointerDown = this._onPointDown.event;\n        this._onDropped = new Emitter();\n        this.onDrop = this._onDropped.event;\n        this._onDragStart = new Emitter();\n        this.onDragStart = this._onDragStart.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-tab';\n        this._element.tabIndex = 0;\n        this._element.draggable = !this.accessor.options.disableDnd;\n        toggleClass(this.element, 'dv-inactive-tab', true);\n        this.dragHandler = new TabDragHandler(this._element, this.accessor, this.group, this.panel, !!this.accessor.options.disableDnd);\n        this.dropTarget = new Droptarget(this._element, {\n            acceptedTargetZones: ['left', 'right'],\n            overlayModel: { activationSize: { value: 50, type: 'percentage' } },\n            canDisplayOverlay: (event, position) => {\n                if (this.group.locked) {\n                    return false;\n                }\n                const data = getPanelData();\n                if (data && this.accessor.id === data.viewId) {\n                    return true;\n                }\n                return this.group.model.canDisplayOverlay(event, position, 'tab');\n            },\n            getOverrideTarget: () => { var _a; return (_a = group.model.dropTargetContainer) === null || _a === void 0 ? void 0 : _a.model; },\n        });\n        this.onWillShowOverlay = this.dropTarget.onWillShowOverlay;\n        this.addDisposables(this._onPointDown, this._onDropped, this._onDragStart, this.dragHandler.onDragStart((event) => {\n            if (event.dataTransfer) {\n                const style = getComputedStyle(this.element);\n                const newNode = this.element.cloneNode(true);\n                Array.from(style).forEach((key) => newNode.style.setProperty(key, style.getPropertyValue(key), style.getPropertyPriority(key)));\n                newNode.style.position = 'absolute';\n                addGhostImage(event.dataTransfer, newNode, {\n                    y: -10,\n                    x: 30,\n                });\n            }\n            this._onDragStart.fire(event);\n        }), this.dragHandler, addDisposableListener(this._element, 'pointerdown', (event) => {\n            this._onPointDown.fire(event);\n        }), this.dropTarget.onDrop((event) => {\n            this._onDropped.fire(event);\n        }), this.dropTarget);\n    }\n    setActive(isActive) {\n        toggleClass(this.element, 'dv-active-tab', isActive);\n        toggleClass(this.element, 'dv-inactive-tab', !isActive);\n    }\n    setContent(part) {\n        if (this.content) {\n            this._element.removeChild(this.content.element);\n        }\n        this.content = part;\n        this._element.appendChild(this.content.element);\n    }\n    updateDragAndDropState() {\n        this._element.draggable = !this.accessor.options.disableDnd;\n        this.dragHandler.setDisabled(!!this.accessor.options.disableDnd);\n    }\n    dispose() {\n        super.dispose();\n    }\n}\n\nclass DockviewWillShowOverlayLocationEvent {\n    get kind() {\n        return this.options.kind;\n    }\n    get nativeEvent() {\n        return this.event.nativeEvent;\n    }\n    get position() {\n        return this.event.position;\n    }\n    get defaultPrevented() {\n        return this.event.defaultPrevented;\n    }\n    get panel() {\n        return this.options.panel;\n    }\n    get api() {\n        return this.options.api;\n    }\n    get group() {\n        return this.options.group;\n    }\n    preventDefault() {\n        this.event.preventDefault();\n    }\n    getData() {\n        return this.options.getData();\n    }\n    constructor(event, options) {\n        this.event = event;\n        this.options = options;\n    }\n}\n\nclass GroupDragHandler extends DragHandler {\n    constructor(element, accessor, group, disabled) {\n        super(element, disabled);\n        this.accessor = accessor;\n        this.group = group;\n        this.panelTransfer = LocalSelectionTransfer.getInstance();\n        this.addDisposables(addDisposableListener(element, 'pointerdown', (e) => {\n            if (e.shiftKey) {\n                /**\n                 * You cannot call e.preventDefault() because that will prevent drag events from firing\n                 * but we also need to stop any group overlay drag events from occuring\n                 * Use a custom event marker that can be checked by the overlay drag events\n                 */\n                quasiPreventDefault(e);\n            }\n        }, true));\n    }\n    isCancelled(_event) {\n        if (this.group.api.location.type === 'floating' && !_event.shiftKey) {\n            return true;\n        }\n        return false;\n    }\n    getData(dragEvent) {\n        const dataTransfer = dragEvent.dataTransfer;\n        this.panelTransfer.setData([new PanelTransfer(this.accessor.id, this.group.id, null)], PanelTransfer.prototype);\n        const style = window.getComputedStyle(this.el);\n        const bgColor = style.getPropertyValue('--dv-activegroup-visiblepanel-tab-background-color');\n        const color = style.getPropertyValue('--dv-activegroup-visiblepanel-tab-color');\n        if (dataTransfer) {\n            const ghostElement = document.createElement('div');\n            ghostElement.style.backgroundColor = bgColor;\n            ghostElement.style.color = color;\n            ghostElement.style.padding = '2px 8px';\n            ghostElement.style.height = '24px';\n            ghostElement.style.fontSize = '11px';\n            ghostElement.style.lineHeight = '20px';\n            ghostElement.style.borderRadius = '12px';\n            ghostElement.style.position = 'absolute';\n            ghostElement.style.pointerEvents = 'none';\n            ghostElement.style.top = '-9999px';\n            ghostElement.textContent = `Multiple Panels (${this.group.size})`;\n            addGhostImage(dataTransfer, ghostElement, { y: -10, x: 30 });\n        }\n        return {\n            dispose: () => {\n                this.panelTransfer.clearData(PanelTransfer.prototype);\n            },\n        };\n    }\n}\n\nclass VoidContainer extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor(accessor, group) {\n        super();\n        this.accessor = accessor;\n        this.group = group;\n        this._onDrop = new Emitter();\n        this.onDrop = this._onDrop.event;\n        this._onDragStart = new Emitter();\n        this.onDragStart = this._onDragStart.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-void-container';\n        this._element.draggable = !this.accessor.options.disableDnd;\n        toggleClass(this._element, 'dv-draggable', !this.accessor.options.disableDnd);\n        this.addDisposables(this._onDrop, this._onDragStart, addDisposableListener(this._element, 'pointerdown', () => {\n            this.accessor.doSetGroupActive(this.group);\n        }));\n        this.handler = new GroupDragHandler(this._element, accessor, group, !!this.accessor.options.disableDnd);\n        this.dropTarget = new Droptarget(this._element, {\n            acceptedTargetZones: ['center'],\n            canDisplayOverlay: (event, position) => {\n                const data = getPanelData();\n                if (data && this.accessor.id === data.viewId) {\n                    return true;\n                }\n                return group.model.canDisplayOverlay(event, position, 'header_space');\n            },\n            getOverrideTarget: () => { var _a; return (_a = group.model.dropTargetContainer) === null || _a === void 0 ? void 0 : _a.model; },\n        });\n        this.onWillShowOverlay = this.dropTarget.onWillShowOverlay;\n        this.addDisposables(this.handler, this.handler.onDragStart((event) => {\n            this._onDragStart.fire(event);\n        }), this.dropTarget.onDrop((event) => {\n            this._onDrop.fire(event);\n        }), this.dropTarget);\n    }\n    updateDragAndDropState() {\n        this._element.draggable = !this.accessor.options.disableDnd;\n        toggleClass(this._element, 'dv-draggable', !this.accessor.options.disableDnd);\n        this.handler.setDisabled(!!this.accessor.options.disableDnd);\n    }\n}\n\nclass Scrollbar extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    get orientation() {\n        return this._orientation;\n    }\n    set orientation(value) {\n        if (this._orientation === value) {\n            return;\n        }\n        this._scrollOffset = 0;\n        this._orientation = value;\n        removeClasses(this._scrollbar, 'dv-scrollbar-vertical', 'dv-scrollbar-horizontal');\n        if (value === 'vertical') {\n            addClasses(this._scrollbar, 'dv-scrollbar-vertical');\n        }\n        else {\n            addClasses(this._scrollbar, 'dv-scrollbar-horizontal');\n        }\n    }\n    constructor(scrollableElement) {\n        super();\n        this.scrollableElement = scrollableElement;\n        this._scrollOffset = 0;\n        this._orientation = 'horizontal';\n        this._element = document.createElement('div');\n        this._element.className = 'dv-scrollable';\n        this._scrollbar = document.createElement('div');\n        this._scrollbar.className = 'dv-scrollbar dv-scrollbar-horizontal';\n        this.element.appendChild(scrollableElement);\n        this.element.appendChild(this._scrollbar);\n        this.addDisposables(addDisposableListener(this.element, 'wheel', (event) => {\n            this._scrollOffset += event.deltaY * Scrollbar.MouseWheelSpeed;\n            this.calculateScrollbarStyles();\n        }), addDisposableListener(this._scrollbar, 'pointerdown', (event) => {\n            event.preventDefault();\n            toggleClass(this.element, 'dv-scrollable-scrolling', true);\n            const originalClient = this._orientation === 'horizontal'\n                ? event.clientX\n                : event.clientY;\n            const originalScrollOffset = this._scrollOffset;\n            const onPointerMove = (event) => {\n                const delta = this._orientation === 'horizontal'\n                    ? event.clientX - originalClient\n                    : event.clientY - originalClient;\n                const clientSize = this._orientation === 'horizontal'\n                    ? this.element.clientWidth\n                    : this.element.clientHeight;\n                const scrollSize = this._orientation === 'horizontal'\n                    ? this.scrollableElement.scrollWidth\n                    : this.scrollableElement.scrollHeight;\n                const p = clientSize / scrollSize;\n                this._scrollOffset = originalScrollOffset + delta / p;\n                this.calculateScrollbarStyles();\n            };\n            const onEnd = () => {\n                toggleClass(this.element, 'dv-scrollable-scrolling', false);\n                document.removeEventListener('pointermove', onPointerMove);\n                document.removeEventListener('pointerup', onEnd);\n                document.removeEventListener('pointercancel', onEnd);\n            };\n            document.addEventListener('pointermove', onPointerMove);\n            document.addEventListener('pointerup', onEnd);\n            document.addEventListener('pointercancel', onEnd);\n        }), addDisposableListener(this.element, 'scroll', () => {\n            this.calculateScrollbarStyles();\n        }), addDisposableListener(this.scrollableElement, 'scroll', () => {\n            this._scrollOffset =\n                this._orientation === 'horizontal'\n                    ? this.scrollableElement.scrollLeft\n                    : this.scrollableElement.scrollTop;\n            this.calculateScrollbarStyles();\n        }), watchElementResize(this.element, () => {\n            toggleClass(this.element, 'dv-scrollable-resizing', true);\n            if (this._animationTimer) {\n                clearTimeout(this._animationTimer);\n            }\n            this._animationTimer = setTimeout(() => {\n                clearTimeout(this._animationTimer);\n                toggleClass(this.element, 'dv-scrollable-resizing', false);\n            }, 500);\n            this.calculateScrollbarStyles();\n        }));\n    }\n    calculateScrollbarStyles() {\n        const clientSize = this._orientation === 'horizontal'\n            ? this.element.clientWidth\n            : this.element.clientHeight;\n        const scrollSize = this._orientation === 'horizontal'\n            ? this.scrollableElement.scrollWidth\n            : this.scrollableElement.scrollHeight;\n        const hasScrollbar = scrollSize > clientSize;\n        if (hasScrollbar) {\n            const px = clientSize * (clientSize / scrollSize);\n            if (this._orientation === 'horizontal') {\n                this._scrollbar.style.width = `${px}px`;\n                this._scrollbar.style.height = '';\n            }\n            else {\n                this._scrollbar.style.height = `${px}px`;\n                this._scrollbar.style.width = '';\n            }\n            this._scrollOffset = clamp(this._scrollOffset, 0, scrollSize - clientSize);\n            if (this._orientation === 'horizontal') {\n                this.scrollableElement.scrollLeft = this._scrollOffset;\n            }\n            else {\n                this.scrollableElement.scrollTop = this._scrollOffset;\n            }\n            const percentageComplete = this._scrollOffset / (scrollSize - clientSize);\n            if (this._orientation === 'horizontal') {\n                this._scrollbar.style.left = `${(clientSize - px) * percentageComplete}px`;\n                this._scrollbar.style.top = '';\n            }\n            else {\n                this._scrollbar.style.top = `${(clientSize - px) * percentageComplete}px`;\n                this._scrollbar.style.left = '';\n            }\n        }\n        else {\n            if (this._orientation === 'horizontal') {\n                this._scrollbar.style.width = '0px';\n                this._scrollbar.style.left = '0px';\n            }\n            else {\n                this._scrollbar.style.height = '0px';\n                this._scrollbar.style.top = '0px';\n            }\n            this._scrollOffset = 0;\n        }\n    }\n}\nScrollbar.MouseWheelSpeed = 1;\n\nclass Tabs extends CompositeDisposable {\n    get showTabsOverflowControl() {\n        return this._showTabsOverflowControl;\n    }\n    set showTabsOverflowControl(value) {\n        if (this._showTabsOverflowControl == value) {\n            return;\n        }\n        this._showTabsOverflowControl = value;\n        if (value) {\n            const observer = new OverflowObserver(this._tabsList);\n            this._observerDisposable.value = new CompositeDisposable(observer, observer.onDidChange((event) => {\n                const hasOverflow = event.hasScrollX || event.hasScrollY;\n                this.toggleDropdown({ reset: !hasOverflow });\n            }), addDisposableListener(this._tabsList, 'scroll', () => {\n                this.toggleDropdown({ reset: false });\n            }));\n        }\n    }\n    get element() {\n        return this._element;\n    }\n    get panels() {\n        return this._tabs.map((_) => _.value.panel.id);\n    }\n    get size() {\n        return this._tabs.length;\n    }\n    get tabs() {\n        return this._tabs.map((_) => _.value);\n    }\n    get direction() {\n        return this._direction;\n    }\n    set direction(value) {\n        if (this._direction === value) {\n            return;\n        }\n        this._direction = value;\n        if (this._scrollbar) {\n            this._scrollbar.orientation = value;\n        }\n        removeClasses(this._tabsList, 'dv-horizontal', 'dv-vertical');\n        if (value === 'vertical') {\n            addClasses(this._tabsList, 'dv-tabs-container-vertical', 'dv-vertical');\n        }\n        else {\n            removeClasses(this._tabsList, 'dv-tabs-container-vertical');\n            addClasses(this._tabsList, 'dv-horizontal');\n        }\n    }\n    constructor(group, accessor, options) {\n        super();\n        this.group = group;\n        this.accessor = accessor;\n        this._observerDisposable = new MutableDisposable();\n        this._scrollbar = null;\n        this._tabs = [];\n        this.selectedIndex = -1;\n        this._showTabsOverflowControl = false;\n        this._direction = 'horizontal';\n        this._onTabDragStart = new Emitter();\n        this.onTabDragStart = this._onTabDragStart.event;\n        this._onDrop = new Emitter();\n        this.onDrop = this._onDrop.event;\n        this._onWillShowOverlay = new Emitter();\n        this.onWillShowOverlay = this._onWillShowOverlay.event;\n        this._onOverflowTabsChange = new Emitter();\n        this.onOverflowTabsChange = this._onOverflowTabsChange.event;\n        this._tabsList = document.createElement('div');\n        this._tabsList.className = 'dv-tabs-container';\n        this.showTabsOverflowControl = options.showTabsOverflowControl;\n        if (accessor.options.scrollbars === 'native') {\n            this._element = this._tabsList;\n        }\n        else {\n            this._scrollbar = new Scrollbar(this._tabsList);\n            this._scrollbar.orientation = this.direction;\n            this._element = this._scrollbar.element;\n            this.addDisposables(this._scrollbar);\n        }\n        this.addDisposables(this._onOverflowTabsChange, this._observerDisposable, this._onWillShowOverlay, this._onDrop, this._onTabDragStart, addDisposableListener(this.element, 'pointerdown', (event) => {\n            if (event.defaultPrevented) {\n                return;\n            }\n            const isLeftClick = event.button === 0;\n            if (isLeftClick) {\n                this.accessor.doSetGroupActive(this.group);\n            }\n        }), Disposable.from(() => {\n            for (const { value, disposable } of this._tabs) {\n                disposable.dispose();\n                value.dispose();\n            }\n            this._tabs = [];\n        }));\n    }\n    indexOf(id) {\n        return this._tabs.findIndex((tab) => tab.value.panel.id === id);\n    }\n    isActive(tab) {\n        return (this.selectedIndex > -1 &&\n            this._tabs[this.selectedIndex].value === tab);\n    }\n    setActivePanel(panel) {\n        let runningWidth = 0;\n        for (const tab of this._tabs) {\n            const isActivePanel = panel.id === tab.value.panel.id;\n            tab.value.setActive(isActivePanel);\n            if (isActivePanel) {\n                const element = tab.value.element;\n                const parentElement = element.parentElement;\n                if (runningWidth < parentElement.scrollLeft ||\n                    runningWidth + element.clientWidth >\n                        parentElement.scrollLeft + parentElement.clientWidth) {\n                    parentElement.scrollLeft = runningWidth;\n                }\n            }\n            runningWidth += tab.value.element.clientWidth;\n        }\n    }\n    openPanel(panel, index = this._tabs.length) {\n        if (this._tabs.find((tab) => tab.value.panel.id === panel.id)) {\n            return;\n        }\n        const tab = new Tab(panel, this.accessor, this.group);\n        tab.setContent(panel.view.tab);\n        const disposable = new CompositeDisposable(tab.onDragStart((event) => {\n            this._onTabDragStart.fire({ nativeEvent: event, panel });\n        }), tab.onPointerDown((event) => {\n            if (event.defaultPrevented) {\n                return;\n            }\n            const isFloatingGroupsEnabled = !this.accessor.options.disableFloatingGroups;\n            const isFloatingWithOnePanel = this.group.api.location.type === 'floating' &&\n                this.size === 1;\n            if (isFloatingGroupsEnabled &&\n                !isFloatingWithOnePanel &&\n                event.shiftKey) {\n                event.preventDefault();\n                const panel = this.accessor.getGroupPanel(tab.panel.id);\n                const { top, left } = tab.element.getBoundingClientRect();\n                const { top: rootTop, left: rootLeft } = this.accessor.element.getBoundingClientRect();\n                this.accessor.addFloatingGroup(panel, {\n                    x: left - rootLeft,\n                    y: top - rootTop,\n                    inDragMode: true,\n                });\n                return;\n            }\n            switch (event.button) {\n                case 0: // left click or touch\n                    if (this.group.activePanel !== panel) {\n                        this.group.model.openPanel(panel);\n                    }\n                    break;\n            }\n        }), tab.onDrop((event) => {\n            this._onDrop.fire({\n                event: event.nativeEvent,\n                index: this._tabs.findIndex((x) => x.value === tab),\n            });\n        }), tab.onWillShowOverlay((event) => {\n            this._onWillShowOverlay.fire(new DockviewWillShowOverlayLocationEvent(event, {\n                kind: 'tab',\n                panel: this.group.activePanel,\n                api: this.accessor.api,\n                group: this.group,\n                getData: getPanelData,\n            }));\n        }));\n        const value = { value: tab, disposable };\n        this.addTab(value, index);\n    }\n    delete(id) {\n        const index = this.indexOf(id);\n        const tabToRemove = this._tabs.splice(index, 1)[0];\n        const { value, disposable } = tabToRemove;\n        disposable.dispose();\n        value.dispose();\n        value.element.remove();\n    }\n    addTab(tab, index = this._tabs.length) {\n        if (index < 0 || index > this._tabs.length) {\n            throw new Error('invalid location');\n        }\n        this._tabsList.insertBefore(tab.value.element, this._tabsList.children[index]);\n        this._tabs = [\n            ...this._tabs.slice(0, index),\n            tab,\n            ...this._tabs.slice(index),\n        ];\n        if (this.selectedIndex < 0) {\n            this.selectedIndex = index;\n        }\n    }\n    toggleDropdown(options) {\n        const tabs = options.reset\n            ? []\n            : this._tabs\n                .filter((tab) => !isChildEntirelyVisibleWithinParent(tab.value.element, this._tabsList))\n                .map((x) => x.value.panel.id);\n        this._onOverflowTabsChange.fire({ tabs, reset: options.reset });\n    }\n    updateDragAndDropState() {\n        for (const tab of this._tabs) {\n            tab.value.updateDragAndDropState();\n        }\n    }\n}\n\nconst createSvgElementFromPath = (params) => {\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.setAttributeNS(null, 'height', params.height);\n    svg.setAttributeNS(null, 'width', params.width);\n    svg.setAttributeNS(null, 'viewBox', params.viewbox);\n    svg.setAttributeNS(null, 'aria-hidden', 'false');\n    svg.setAttributeNS(null, 'focusable', 'false');\n    svg.classList.add('dv-svg');\n    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    path.setAttributeNS(null, 'd', params.path);\n    svg.appendChild(path);\n    return svg;\n};\nconst createCloseButton = () => createSvgElementFromPath({\n    width: '11',\n    height: '11',\n    viewbox: '0 0 28 28',\n    path: 'M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z',\n});\nconst createExpandMoreButton = () => createSvgElementFromPath({\n    width: '11',\n    height: '11',\n    viewbox: '0 0 24 15',\n    path: 'M12 14.15L0 2.15L2.15 0L12 9.9L21.85 0.0499992L24 2.2L12 14.15Z',\n});\nconst createChevronRightButton = () => createSvgElementFromPath({\n    width: '11',\n    height: '11',\n    viewbox: '0 0 15 25',\n    path: 'M2.15 24.1L0 21.95L9.9 12.05L0 2.15L2.15 0L14.2 12.05L2.15 24.1Z',\n});\n\nfunction createDropdownElementHandle() {\n    const el = document.createElement('div');\n    el.className = 'dv-tabs-overflow-dropdown-default';\n    const text = document.createElement('span');\n    text.textContent = ``;\n    const icon = createChevronRightButton();\n    el.appendChild(icon);\n    el.appendChild(text);\n    return {\n        element: el,\n        update: (params) => {\n            text.textContent = `${params.tabs}`;\n        },\n    };\n}\n\nclass TabsContainer extends CompositeDisposable {\n    get onTabDragStart() {\n        return this.tabs.onTabDragStart;\n    }\n    get panels() {\n        return this.tabs.panels;\n    }\n    get size() {\n        return this.tabs.size;\n    }\n    get hidden() {\n        return this._hidden;\n    }\n    set hidden(value) {\n        this._hidden = value;\n        this.element.style.display = value ? 'none' : '';\n    }\n    get direction() {\n        return this._direction;\n    }\n    set direction(value) {\n        this._direction = value;\n        if (value === 'vertical') {\n            addClasses(this._element, 'dv-groupview-header-vertical');\n            addClasses(this.rightActionsContainer, 'dv-right-actions-container-vertical');\n            this.tabs.direction = value;\n        }\n        else {\n            removeClasses(this._element, 'dv-groupview-header-vertical');\n            removeClasses(this.rightActionsContainer, 'dv-right-actions-container-vertical');\n            this.tabs.direction = value;\n        }\n    }\n    get element() {\n        return this._element;\n    }\n    constructor(accessor, group) {\n        super();\n        this.accessor = accessor;\n        this.group = group;\n        this._hidden = false;\n        this._direction = 'horizontal';\n        this.dropdownPart = null;\n        this._overflowTabs = [];\n        this._dropdownDisposable = new MutableDisposable();\n        this._onDrop = new Emitter();\n        this.onDrop = this._onDrop.event;\n        this._onGroupDragStart = new Emitter();\n        this.onGroupDragStart = this._onGroupDragStart.event;\n        this._onWillShowOverlay = new Emitter();\n        this.onWillShowOverlay = this._onWillShowOverlay.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-tabs-and-actions-container';\n        toggleClass(this._element, 'dv-full-width-single-tab', this.accessor.options.singleTabMode === 'fullwidth');\n        this.rightActionsContainer = document.createElement('div');\n        this.rightActionsContainer.className = 'dv-right-actions-container';\n        this.leftActionsContainer = document.createElement('div');\n        this.leftActionsContainer.className = 'dv-left-actions-container';\n        this.preActionsContainer = document.createElement('div');\n        this.preActionsContainer.className = 'dv-pre-actions-container';\n        this.tabs = new Tabs(group, accessor, {\n            showTabsOverflowControl: !accessor.options.disableTabsOverflowList,\n        });\n        this.voidContainer = new VoidContainer(this.accessor, this.group);\n        this._element.appendChild(this.preActionsContainer);\n        this._element.appendChild(this.tabs.element);\n        this._element.appendChild(this.leftActionsContainer);\n        this._element.appendChild(this.voidContainer.element);\n        this._element.appendChild(this.rightActionsContainer);\n        this.addDisposables(this.tabs.onDrop((e) => this._onDrop.fire(e)), this.tabs.onWillShowOverlay((e) => this._onWillShowOverlay.fire(e)), accessor.onDidOptionsChange(() => {\n            this.tabs.showTabsOverflowControl =\n                !accessor.options.disableTabsOverflowList;\n        }), this.tabs.onOverflowTabsChange((event) => {\n            this.toggleDropdown(event);\n        }), this.tabs, this._onWillShowOverlay, this._onDrop, this._onGroupDragStart, this.voidContainer, this.voidContainer.onDragStart((event) => {\n            this._onGroupDragStart.fire({\n                nativeEvent: event,\n                group: this.group,\n            });\n        }), this.voidContainer.onDrop((event) => {\n            this._onDrop.fire({\n                event: event.nativeEvent,\n                index: this.tabs.size,\n            });\n        }), this.voidContainer.onWillShowOverlay((event) => {\n            this._onWillShowOverlay.fire(new DockviewWillShowOverlayLocationEvent(event, {\n                kind: 'header_space',\n                panel: this.group.activePanel,\n                api: this.accessor.api,\n                group: this.group,\n                getData: getPanelData,\n            }));\n        }), addDisposableListener(this.voidContainer.element, 'pointerdown', (event) => {\n            if (event.defaultPrevented) {\n                return;\n            }\n            const isFloatingGroupsEnabled = !this.accessor.options.disableFloatingGroups;\n            if (isFloatingGroupsEnabled &&\n                event.shiftKey &&\n                this.group.api.location.type !== 'floating') {\n                event.preventDefault();\n                const { top, left } = this.element.getBoundingClientRect();\n                const { top: rootTop, left: rootLeft } = this.accessor.element.getBoundingClientRect();\n                this.accessor.addFloatingGroup(this.group, {\n                    x: left - rootLeft + 20,\n                    y: top - rootTop + 20,\n                    inDragMode: true,\n                });\n            }\n        }));\n    }\n    show() {\n        if (!this.hidden) {\n            this.element.style.display = '';\n        }\n    }\n    hide() {\n        this._element.style.display = 'none';\n    }\n    setRightActionsElement(element) {\n        if (this.rightActions === element) {\n            return;\n        }\n        if (this.rightActions) {\n            this.rightActions.remove();\n            this.rightActions = undefined;\n        }\n        if (element) {\n            this.rightActionsContainer.appendChild(element);\n            this.rightActions = element;\n        }\n    }\n    setLeftActionsElement(element) {\n        if (this.leftActions === element) {\n            return;\n        }\n        if (this.leftActions) {\n            this.leftActions.remove();\n            this.leftActions = undefined;\n        }\n        if (element) {\n            this.leftActionsContainer.appendChild(element);\n            this.leftActions = element;\n        }\n    }\n    setPrefixActionsElement(element) {\n        if (this.preActions === element) {\n            return;\n        }\n        if (this.preActions) {\n            this.preActions.remove();\n            this.preActions = undefined;\n        }\n        if (element) {\n            this.preActionsContainer.appendChild(element);\n            this.preActions = element;\n        }\n    }\n    isActive(tab) {\n        return this.tabs.isActive(tab);\n    }\n    indexOf(id) {\n        return this.tabs.indexOf(id);\n    }\n    setActive(_isGroupActive) {\n        // noop\n    }\n    delete(id) {\n        this.tabs.delete(id);\n        this.updateClassnames();\n    }\n    setActivePanel(panel) {\n        this.tabs.setActivePanel(panel);\n    }\n    openPanel(panel, index = this.tabs.size) {\n        this.tabs.openPanel(panel, index);\n        this.updateClassnames();\n    }\n    closePanel(panel) {\n        this.delete(panel.id);\n    }\n    updateClassnames() {\n        toggleClass(this._element, 'dv-single-tab', this.size === 1);\n    }\n    toggleDropdown(options) {\n        const tabs = options.reset ? [] : options.tabs;\n        this._overflowTabs = tabs;\n        if (this._overflowTabs.length > 0 && this.dropdownPart) {\n            this.dropdownPart.update({ tabs: tabs.length });\n            return;\n        }\n        if (this._overflowTabs.length === 0) {\n            this._dropdownDisposable.dispose();\n            return;\n        }\n        const root = document.createElement('div');\n        root.className = 'dv-tabs-overflow-dropdown-root';\n        const part = createDropdownElementHandle();\n        part.update({ tabs: tabs.length });\n        this.dropdownPart = part;\n        root.appendChild(part.element);\n        this.rightActionsContainer.prepend(root);\n        this._dropdownDisposable.value = new CompositeDisposable(Disposable.from(() => {\n            var _a, _b;\n            root.remove();\n            (_b = (_a = this.dropdownPart) === null || _a === void 0 ? void 0 : _a.dispose) === null || _b === void 0 ? void 0 : _b.call(_a);\n            this.dropdownPart = null;\n        }), addDisposableListener(root, 'pointerdown', (event) => {\n            event.preventDefault();\n        }, { capture: true }), addDisposableListener(root, 'click', (event) => {\n            const el = document.createElement('div');\n            el.style.overflow = 'auto';\n            el.className = 'dv-tabs-overflow-container';\n            for (const tab of this.tabs.tabs.filter((tab) => this._overflowTabs.includes(tab.panel.id))) {\n                const panelObject = this.group.panels.find((panel) => panel === tab.panel);\n                const tabComponent = panelObject.view.createTabRenderer('headerOverflow');\n                const child = tabComponent.element;\n                const wrapper = document.createElement('div');\n                toggleClass(wrapper, 'dv-tab', true);\n                toggleClass(wrapper, 'dv-active-tab', panelObject.api.isActive);\n                toggleClass(wrapper, 'dv-inactive-tab', !panelObject.api.isActive);\n                wrapper.addEventListener('click', (event) => {\n                    this.accessor.popupService.close();\n                    if (event.defaultPrevented) {\n                        return;\n                    }\n                    tab.element.scrollIntoView();\n                    tab.panel.api.setActive();\n                });\n                wrapper.appendChild(child);\n                el.appendChild(wrapper);\n            }\n            const relativeParent = findRelativeZIndexParent(root);\n            this.accessor.popupService.openPopover(el, {\n                x: event.clientX,\n                y: event.clientY,\n                zIndex: (relativeParent === null || relativeParent === void 0 ? void 0 : relativeParent.style.zIndex)\n                    ? `calc(${relativeParent.style.zIndex} * 2)`\n                    : undefined,\n            });\n        }));\n    }\n    updateDragAndDropState() {\n        this.tabs.updateDragAndDropState();\n        this.voidContainer.updateDragAndDropState();\n    }\n}\n\nclass DockviewUnhandledDragOverEvent extends AcceptableEvent {\n    constructor(nativeEvent, target, position, getData, group) {\n        super();\n        this.nativeEvent = nativeEvent;\n        this.target = target;\n        this.position = position;\n        this.getData = getData;\n        this.group = group;\n    }\n}\nconst PROPERTY_KEYS_DOCKVIEW = (() => {\n    /**\n     * by readong the keys from an empty value object TypeScript will error\n     * when we add or remove new properties to `DockviewOptions`\n     */\n    const properties = {\n        disableAutoResizing: undefined,\n        hideBorders: undefined,\n        singleTabMode: undefined,\n        disableFloatingGroups: undefined,\n        floatingGroupBounds: undefined,\n        popoutUrl: undefined,\n        defaultRenderer: undefined,\n        defaultHeaderPosition: undefined,\n        debug: undefined,\n        rootOverlayModel: undefined,\n        locked: undefined,\n        disableDnd: undefined,\n        className: undefined,\n        noPanelsOverlay: undefined,\n        dndEdges: undefined,\n        theme: undefined,\n        disableTabsOverflowList: undefined,\n        scrollbars: undefined,\n    };\n    return Object.keys(properties);\n})();\nfunction isPanelOptionsWithPanel(data) {\n    if (data.referencePanel) {\n        return true;\n    }\n    return false;\n}\nfunction isPanelOptionsWithGroup(data) {\n    if (data.referenceGroup) {\n        return true;\n    }\n    return false;\n}\nfunction isGroupOptionsWithPanel(data) {\n    if (data.referencePanel) {\n        return true;\n    }\n    return false;\n}\nfunction isGroupOptionsWithGroup(data) {\n    if (data.referenceGroup) {\n        return true;\n    }\n    return false;\n}\n\nclass DockviewDidDropEvent extends DockviewEvent {\n    get nativeEvent() {\n        return this.options.nativeEvent;\n    }\n    get position() {\n        return this.options.position;\n    }\n    get panel() {\n        return this.options.panel;\n    }\n    get group() {\n        return this.options.group;\n    }\n    get api() {\n        return this.options.api;\n    }\n    constructor(options) {\n        super();\n        this.options = options;\n    }\n    getData() {\n        return this.options.getData();\n    }\n}\nclass DockviewWillDropEvent extends DockviewDidDropEvent {\n    get kind() {\n        return this._kind;\n    }\n    constructor(options) {\n        super(options);\n        this._kind = options.kind;\n    }\n}\nclass DockviewGroupPanelModel extends CompositeDisposable {\n    get element() {\n        throw new Error('dockview: not supported');\n    }\n    get activePanel() {\n        return this._activePanel;\n    }\n    get locked() {\n        return this._locked;\n    }\n    set locked(value) {\n        this._locked = value;\n        toggleClass(this.container, 'dv-locked-groupview', value === 'no-drop-target' || value);\n    }\n    get isActive() {\n        return this._isGroupActive;\n    }\n    get panels() {\n        return this._panels;\n    }\n    get size() {\n        return this._panels.length;\n    }\n    get isEmpty() {\n        return this._panels.length === 0;\n    }\n    get hasWatermark() {\n        return !!(this.watermark && this.container.contains(this.watermark.element));\n    }\n    get header() {\n        return this.tabsContainer;\n    }\n    get isContentFocused() {\n        if (!document.activeElement) {\n            return false;\n        }\n        return isAncestor(document.activeElement, this.contentContainer.element);\n    }\n    get headerPosition() {\n        var _a;\n        return (_a = this._headerPosition) !== null && _a !== void 0 ? _a : 'top';\n    }\n    set headerPosition(value) {\n        var _a;\n        this._headerPosition = value;\n        removeClasses(this.container, 'dv-groupview-header-top', 'dv-groupview-header-bottom', 'dv-groupview-header-left', 'dv-groupview-header-right');\n        addClasses(this.container, `dv-groupview-header-${value}`);\n        const direction = value === 'top' || value === 'bottom' ? 'horizontal' : 'vertical';\n        this.tabsContainer.direction = direction;\n        this.header.direction = direction;\n        // resize the active panel to fit the new header direction\n        // if not, the panel will overflow the tabs container\n        if ((_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.layout) {\n            this._activePanel.layout(this._width, this._height);\n        }\n        if (this._leftHeaderActions ||\n            this._rightHeaderActions ||\n            this._prefixHeaderActions) {\n            this.updateHeaderActions();\n        }\n    }\n    get location() {\n        return this._location;\n    }\n    set location(value) {\n        this._location = value;\n        toggleClass(this.container, 'dv-groupview-floating', false);\n        toggleClass(this.container, 'dv-groupview-popout', false);\n        switch (value.type) {\n            case 'grid':\n                this.contentContainer.dropTarget.setTargetZones([\n                    'top',\n                    'bottom',\n                    'left',\n                    'right',\n                    'center',\n                ]);\n                break;\n            case 'floating':\n                this.contentContainer.dropTarget.setTargetZones(['center']);\n                this.contentContainer.dropTarget.setTargetZones(value\n                    ? ['center']\n                    : ['top', 'bottom', 'left', 'right', 'center']);\n                toggleClass(this.container, 'dv-groupview-floating', true);\n                break;\n            case 'popout':\n                this.contentContainer.dropTarget.setTargetZones(['center']);\n                toggleClass(this.container, 'dv-groupview-popout', true);\n                break;\n        }\n        this.groupPanel.api._onDidLocationChange.fire({\n            location: this.location,\n        });\n    }\n    constructor(container, accessor, id, options, groupPanel) {\n        var _a, _b;\n        super();\n        this.container = container;\n        this.accessor = accessor;\n        this.id = id;\n        this.options = options;\n        this.groupPanel = groupPanel;\n        this._isGroupActive = false;\n        this._locked = false;\n        this._rightHeaderActionsDisposable = new MutableDisposable();\n        this._leftHeaderActionsDisposable = new MutableDisposable();\n        this._prefixHeaderActionsDisposable = new MutableDisposable();\n        this._location = { type: 'grid' };\n        this.mostRecentlyUsed = [];\n        this._overwriteRenderContainer = null;\n        this._overwriteDropTargetContainer = null;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._width = 0;\n        this._height = 0;\n        this._panels = [];\n        this._panelDisposables = new Map();\n        this._onMove = new Emitter();\n        this.onMove = this._onMove.event;\n        this._onDidDrop = new Emitter();\n        this.onDidDrop = this._onDidDrop.event;\n        this._onWillDrop = new Emitter();\n        this.onWillDrop = this._onWillDrop.event;\n        this._onWillShowOverlay = new Emitter();\n        this.onWillShowOverlay = this._onWillShowOverlay.event;\n        this._onTabDragStart = new Emitter();\n        this.onTabDragStart = this._onTabDragStart.event;\n        this._onGroupDragStart = new Emitter();\n        this.onGroupDragStart = this._onGroupDragStart.event;\n        this._onDidAddPanel = new Emitter();\n        this.onDidAddPanel = this._onDidAddPanel.event;\n        this._onDidPanelTitleChange = new Emitter();\n        this.onDidPanelTitleChange = this._onDidPanelTitleChange.event;\n        this._onDidPanelParametersChange = new Emitter();\n        this.onDidPanelParametersChange = this._onDidPanelParametersChange.event;\n        this._onDidRemovePanel = new Emitter();\n        this.onDidRemovePanel = this._onDidRemovePanel.event;\n        this._onDidActivePanelChange = new Emitter();\n        this.onDidActivePanelChange = this._onDidActivePanelChange.event;\n        this._onUnhandledDragOverEvent = new Emitter();\n        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;\n        toggleClass(this.container, 'dv-groupview', true);\n        this._api = new DockviewApi(this.accessor);\n        this.tabsContainer = new TabsContainer(this.accessor, this.groupPanel);\n        this.contentContainer = new ContentContainer(this.accessor, this);\n        container.append(this.tabsContainer.element, this.contentContainer.element);\n        this.header.hidden = !!options.hideHeader;\n        this.locked = (_a = options.locked) !== null && _a !== void 0 ? _a : false;\n        this.headerPosition =\n            (_b = options.headerPosition) !== null && _b !== void 0 ? _b : accessor.defaultHeaderPosition;\n        this.addDisposables(this._onTabDragStart, this._onGroupDragStart, this._onWillShowOverlay, this._rightHeaderActionsDisposable, this._leftHeaderActionsDisposable, this._prefixHeaderActionsDisposable, this.tabsContainer.onTabDragStart((event) => {\n            this._onTabDragStart.fire(event);\n        }), this.tabsContainer.onGroupDragStart((event) => {\n            this._onGroupDragStart.fire(event);\n        }), this.tabsContainer.onDrop((event) => {\n            this.handleDropEvent('header', event.event, 'center', event.index);\n        }), this.contentContainer.onDidFocus(() => {\n            this.accessor.doSetGroupActive(this.groupPanel);\n        }), this.contentContainer.onDidBlur(() => {\n            // noop\n        }), this.contentContainer.dropTarget.onDrop((event) => {\n            this.handleDropEvent('content', event.nativeEvent, event.position);\n        }), this.tabsContainer.onWillShowOverlay((event) => {\n            this._onWillShowOverlay.fire(event);\n        }), this.contentContainer.dropTarget.onWillShowOverlay((event) => {\n            this._onWillShowOverlay.fire(new DockviewWillShowOverlayLocationEvent(event, {\n                kind: 'content',\n                panel: this.activePanel,\n                api: this._api,\n                group: this.groupPanel,\n                getData: getPanelData,\n            }));\n        }), this._onMove, this._onDidChange, this._onDidDrop, this._onWillDrop, this._onDidAddPanel, this._onDidRemovePanel, this._onDidActivePanelChange, this._onUnhandledDragOverEvent, this._onDidPanelTitleChange, this._onDidPanelParametersChange);\n    }\n    focusContent() {\n        this.contentContainer.element.focus();\n    }\n    set renderContainer(value) {\n        this.panels.forEach((panel) => {\n            this.renderContainer.detatch(panel);\n        });\n        this._overwriteRenderContainer = value;\n        this.panels.forEach((panel) => {\n            this.rerender(panel);\n        });\n    }\n    get renderContainer() {\n        var _a;\n        return ((_a = this._overwriteRenderContainer) !== null && _a !== void 0 ? _a : this.accessor.overlayRenderContainer);\n    }\n    set dropTargetContainer(value) {\n        this._overwriteDropTargetContainer = value;\n    }\n    get dropTargetContainer() {\n        var _a;\n        return ((_a = this._overwriteDropTargetContainer) !== null && _a !== void 0 ? _a : this.accessor.rootDropTargetContainer);\n    }\n    initialize() {\n        if (this.options.panels) {\n            this.options.panels.forEach((panel) => {\n                this.doAddPanel(panel);\n            });\n        }\n        if (this.options.activePanel) {\n            this.openPanel(this.options.activePanel);\n        }\n        // must be run after the constructor otherwise this.parent may not be\n        // correctly initialized\n        this.setActive(this.isActive, true);\n        this.updateContainer();\n        this.updateHeaderActions();\n    }\n    updateHeaderActions() {\n        if (this.accessor.options.createRightHeaderActionComponent) {\n            this._rightHeaderActions =\n                this.accessor.options.createRightHeaderActionComponent(this.groupPanel);\n            this._rightHeaderActionsDisposable.value = this._rightHeaderActions;\n            this._rightHeaderActions.init({\n                containerApi: this._api,\n                api: this.groupPanel.api,\n                group: this.groupPanel,\n            });\n            this.tabsContainer.setRightActionsElement(this._rightHeaderActions.element);\n        }\n        else {\n            this._rightHeaderActions = undefined;\n            this._rightHeaderActionsDisposable.dispose();\n            this.tabsContainer.setRightActionsElement(undefined);\n        }\n        if (this.accessor.options.createLeftHeaderActionComponent) {\n            this._leftHeaderActions =\n                this.accessor.options.createLeftHeaderActionComponent(this.groupPanel);\n            this._leftHeaderActionsDisposable.value = this._leftHeaderActions;\n            this._leftHeaderActions.init({\n                containerApi: this._api,\n                api: this.groupPanel.api,\n                group: this.groupPanel,\n            });\n            this.tabsContainer.setLeftActionsElement(this._leftHeaderActions.element);\n        }\n        else {\n            this._leftHeaderActions = undefined;\n            this._leftHeaderActionsDisposable.dispose();\n            this.tabsContainer.setLeftActionsElement(undefined);\n        }\n        if (this.accessor.options.createPrefixHeaderActionComponent) {\n            this._prefixHeaderActions =\n                this.accessor.options.createPrefixHeaderActionComponent(this.groupPanel);\n            this._prefixHeaderActionsDisposable.value =\n                this._prefixHeaderActions;\n            this._prefixHeaderActions.init({\n                containerApi: this._api,\n                api: this.groupPanel.api,\n                group: this.groupPanel,\n            });\n            this.tabsContainer.setPrefixActionsElement(this._prefixHeaderActions.element);\n        }\n        else {\n            this._prefixHeaderActions = undefined;\n            this._prefixHeaderActionsDisposable.dispose();\n            this.tabsContainer.setPrefixActionsElement(undefined);\n        }\n    }\n    rerender(panel) {\n        this.contentContainer.renderPanel(panel, { asActive: false });\n    }\n    indexOf(panel) {\n        return this.tabsContainer.indexOf(panel.id);\n    }\n    toJSON() {\n        var _a;\n        const result = {\n            views: this.tabsContainer.panels,\n            activeView: (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.id,\n            id: this.id,\n        };\n        if (this.locked !== false) {\n            result.locked = this.locked;\n        }\n        if (this.header.hidden) {\n            result.hideHeader = true;\n        }\n        if (this.headerPosition !== 'top') {\n            result.headerPosition = this.headerPosition;\n        }\n        return result;\n    }\n    moveToNext(options) {\n        if (!options) {\n            options = {};\n        }\n        if (!options.panel) {\n            options.panel = this.activePanel;\n        }\n        const index = options.panel ? this.panels.indexOf(options.panel) : -1;\n        let normalizedIndex;\n        if (index < this.panels.length - 1) {\n            normalizedIndex = index + 1;\n        }\n        else if (!options.suppressRoll) {\n            normalizedIndex = 0;\n        }\n        else {\n            return;\n        }\n        this.openPanel(this.panels[normalizedIndex]);\n    }\n    moveToPrevious(options) {\n        if (!options) {\n            options = {};\n        }\n        if (!options.panel) {\n            options.panel = this.activePanel;\n        }\n        if (!options.panel) {\n            return;\n        }\n        const index = this.panels.indexOf(options.panel);\n        let normalizedIndex;\n        if (index > 0) {\n            normalizedIndex = index - 1;\n        }\n        else if (!options.suppressRoll) {\n            normalizedIndex = this.panels.length - 1;\n        }\n        else {\n            return;\n        }\n        this.openPanel(this.panels[normalizedIndex]);\n    }\n    containsPanel(panel) {\n        return this.panels.includes(panel);\n    }\n    init(_params) {\n        //noop\n    }\n    update(_params) {\n        //noop\n    }\n    focus() {\n        var _a;\n        (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    openPanel(panel, options = {}) {\n        /**\n         * set the panel group\n         * add the panel\n         * check if group active\n         * check if panel active\n         */\n        if (typeof options.index !== 'number' ||\n            options.index > this.panels.length) {\n            options.index = this.panels.length;\n        }\n        const skipSetActive = !!options.skipSetActive;\n        // ensure the group is updated before we fire any events\n        panel.updateParentGroup(this.groupPanel, {\n            skipSetActive: options.skipSetActive,\n        });\n        this.doAddPanel(panel, options.index, {\n            skipSetActive: skipSetActive,\n        });\n        if (this._activePanel === panel) {\n            this.contentContainer.renderPanel(panel, { asActive: true });\n            return;\n        }\n        if (!skipSetActive) {\n            this.doSetActivePanel(panel);\n        }\n        if (!options.skipSetGroupActive) {\n            this.accessor.doSetGroupActive(this.groupPanel);\n        }\n        if (!options.skipSetActive) {\n            this.updateContainer();\n        }\n    }\n    removePanel(groupItemOrId, options = {\n        skipSetActive: false,\n    }) {\n        const id = typeof groupItemOrId === 'string'\n            ? groupItemOrId\n            : groupItemOrId.id;\n        const panelToRemove = this._panels.find((panel) => panel.id === id);\n        if (!panelToRemove) {\n            throw new Error('invalid operation');\n        }\n        return this._removePanel(panelToRemove, options);\n    }\n    closeAllPanels() {\n        if (this.panels.length > 0) {\n            // take a copy since we will be edting the array as we iterate through\n            const arrPanelCpy = [...this.panels];\n            for (const panel of arrPanelCpy) {\n                this.doClose(panel);\n            }\n        }\n        else {\n            this.accessor.removeGroup(this.groupPanel);\n        }\n    }\n    closePanel(panel) {\n        this.doClose(panel);\n    }\n    doClose(panel) {\n        const isLast = this.panels.length === 1 && this.accessor.groups.length === 1;\n        this.accessor.removePanel(panel, isLast && this.accessor.options.noPanelsOverlay === 'emptyGroup'\n            ? { removeEmptyGroup: false }\n            : undefined);\n    }\n    isPanelActive(panel) {\n        return this._activePanel === panel;\n    }\n    updateActions(element) {\n        this.tabsContainer.setRightActionsElement(element);\n    }\n    setActive(isGroupActive, force = false) {\n        if (!force && this.isActive === isGroupActive) {\n            return;\n        }\n        this._isGroupActive = isGroupActive;\n        toggleClass(this.container, 'dv-active-group', isGroupActive);\n        toggleClass(this.container, 'dv-inactive-group', !isGroupActive);\n        this.tabsContainer.setActive(this.isActive);\n        if (!this._activePanel && this.panels.length > 0) {\n            this.doSetActivePanel(this.panels[0]);\n        }\n        this.updateContainer();\n    }\n    layout(width, height) {\n        var _a;\n        this._width = width;\n        this._height = height;\n        this.contentContainer.layout(this._width, this._height);\n        if ((_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.layout) {\n            this._activePanel.layout(this._width, this._height);\n        }\n    }\n    _removePanel(panel, options) {\n        const isActivePanel = this._activePanel === panel;\n        this.doRemovePanel(panel);\n        if (isActivePanel && this.panels.length > 0) {\n            const nextPanel = this.mostRecentlyUsed[0];\n            this.openPanel(nextPanel, {\n                skipSetActive: options.skipSetActive,\n                skipSetGroupActive: options.skipSetActiveGroup,\n            });\n        }\n        if (this._activePanel && this.panels.length === 0) {\n            this.doSetActivePanel(undefined);\n        }\n        if (!options.skipSetActive) {\n            this.updateContainer();\n        }\n        return panel;\n    }\n    doRemovePanel(panel) {\n        const index = this.panels.indexOf(panel);\n        if (this._activePanel === panel) {\n            this.contentContainer.closePanel();\n        }\n        this.tabsContainer.delete(panel.id);\n        this._panels.splice(index, 1);\n        if (this.mostRecentlyUsed.includes(panel)) {\n            const index = this.mostRecentlyUsed.indexOf(panel);\n            this.mostRecentlyUsed.splice(index, 1);\n        }\n        const disposable = this._panelDisposables.get(panel.id);\n        if (disposable) {\n            disposable.dispose();\n            this._panelDisposables.delete(panel.id);\n        }\n        this._onDidRemovePanel.fire({ panel });\n    }\n    doAddPanel(panel, index = this.panels.length, options = { skipSetActive: false }) {\n        const existingPanel = this._panels.indexOf(panel);\n        const hasExistingPanel = existingPanel > -1;\n        this.tabsContainer.show();\n        this.contentContainer.show();\n        this.tabsContainer.openPanel(panel, index);\n        if (!options.skipSetActive) {\n            this.contentContainer.openPanel(panel);\n        }\n        else if (panel.api.renderer === 'always') {\n            this.contentContainer.renderPanel(panel, { asActive: false });\n        }\n        if (hasExistingPanel) {\n            // TODO - need to ensure ordering hasn't changed and if it has need to re-order this.panels\n            return;\n        }\n        this.updateMru(panel);\n        this.panels.splice(index, 0, panel);\n        this._panelDisposables.set(panel.id, new CompositeDisposable(panel.api.onDidTitleChange((event) => this._onDidPanelTitleChange.fire(event)), panel.api.onDidParametersChange((event) => this._onDidPanelParametersChange.fire(event))));\n        this._onDidAddPanel.fire({ panel });\n    }\n    doSetActivePanel(panel) {\n        if (this._activePanel === panel) {\n            return;\n        }\n        this._activePanel = panel;\n        if (panel) {\n            this.tabsContainer.setActivePanel(panel);\n            this.contentContainer.openPanel(panel);\n            panel.layout(this._width, this._height);\n            this.updateMru(panel);\n            // Refresh focus state to handle programmatic activation without DOM focus change\n            this.contentContainer.refreshFocusState();\n            this._onDidActivePanelChange.fire({\n                panel,\n            });\n        }\n    }\n    updateMru(panel) {\n        if (this.mostRecentlyUsed.includes(panel)) {\n            this.mostRecentlyUsed.splice(this.mostRecentlyUsed.indexOf(panel), 1);\n        }\n        this.mostRecentlyUsed = [panel, ...this.mostRecentlyUsed];\n    }\n    updateContainer() {\n        var _a, _b;\n        this.panels.forEach((panel) => panel.runEvents());\n        if (this.isEmpty && !this.watermark) {\n            const watermark = this.accessor.createWatermarkComponent();\n            watermark.init({\n                containerApi: this._api,\n                group: this.groupPanel,\n            });\n            this.watermark = watermark;\n            addDisposableListener(this.watermark.element, 'pointerdown', () => {\n                if (!this.isActive) {\n                    this.accessor.doSetGroupActive(this.groupPanel);\n                }\n            });\n            this.contentContainer.element.appendChild(this.watermark.element);\n        }\n        if (!this.isEmpty && this.watermark) {\n            this.watermark.element.remove();\n            (_b = (_a = this.watermark).dispose) === null || _b === void 0 ? void 0 : _b.call(_a);\n            this.watermark = undefined;\n        }\n    }\n    canDisplayOverlay(event, position, target) {\n        const firedEvent = new DockviewUnhandledDragOverEvent(event, target, position, getPanelData, this.accessor.getPanel(this.id));\n        this._onUnhandledDragOverEvent.fire(firedEvent);\n        return firedEvent.isAccepted;\n    }\n    handleDropEvent(type, event, position, index) {\n        if (this.locked === 'no-drop-target') {\n            return;\n        }\n        function getKind() {\n            switch (type) {\n                case 'header':\n                    return typeof index === 'number' ? 'tab' : 'header_space';\n                case 'content':\n                    return 'content';\n            }\n        }\n        const panel = typeof index === 'number' ? this.panels[index] : undefined;\n        const willDropEvent = new DockviewWillDropEvent({\n            nativeEvent: event,\n            position,\n            panel,\n            getData: () => getPanelData(),\n            kind: getKind(),\n            group: this.groupPanel,\n            api: this._api,\n        });\n        this._onWillDrop.fire(willDropEvent);\n        if (willDropEvent.defaultPrevented) {\n            return;\n        }\n        const data = getPanelData();\n        if (data && data.viewId === this.accessor.id) {\n            if (type === 'content') {\n                if (data.groupId === this.id) {\n                    // don't allow to drop on self for center position\n                    if (position === 'center') {\n                        return;\n                    }\n                    if (data.panelId === null) {\n                        // don't allow group move to drop anywhere on self\n                        return;\n                    }\n                }\n            }\n            if (type === 'header') {\n                if (data.groupId === this.id) {\n                    if (data.panelId === null) {\n                        return;\n                    }\n                }\n            }\n            if (data.panelId === null) {\n                // this is a group move dnd event\n                const { groupId } = data;\n                this._onMove.fire({\n                    target: position,\n                    groupId: groupId,\n                    index,\n                });\n                return;\n            }\n            const fromSameGroup = this.tabsContainer.indexOf(data.panelId) !== -1;\n            if (fromSameGroup && this.tabsContainer.size === 1) {\n                return;\n            }\n            const { groupId, panelId } = data;\n            const isSameGroup = this.id === groupId;\n            if (isSameGroup && !position) {\n                const oldIndex = this.tabsContainer.indexOf(panelId);\n                if (oldIndex === index) {\n                    return;\n                }\n            }\n            this._onMove.fire({\n                target: position,\n                groupId: data.groupId,\n                itemId: data.panelId,\n                index,\n            });\n        }\n        else {\n            this._onDidDrop.fire(new DockviewDidDropEvent({\n                nativeEvent: event,\n                position,\n                panel,\n                getData: () => getPanelData(),\n                group: this.groupPanel,\n                api: this._api,\n            }));\n        }\n    }\n    updateDragAndDropState() {\n        this.tabsContainer.updateDragAndDropState();\n    }\n    dispose() {\n        var _a, _b, _c;\n        super.dispose();\n        (_a = this.watermark) === null || _a === void 0 ? void 0 : _a.element.remove();\n        (_c = (_b = this.watermark) === null || _b === void 0 ? void 0 : _b.dispose) === null || _c === void 0 ? void 0 : _c.call(_b);\n        this.watermark = undefined;\n        for (const panel of this.panels) {\n            panel.dispose();\n        }\n        this.tabsContainer.dispose();\n        this.contentContainer.dispose();\n    }\n}\n\nclass GridviewPanelApiImpl extends PanelApiImpl {\n    constructor(id, component, panel) {\n        super(id, component);\n        this._onDidConstraintsChangeInternal = new Emitter();\n        this.onDidConstraintsChangeInternal = this._onDidConstraintsChangeInternal.event;\n        this._onDidConstraintsChange = new Emitter();\n        this.onDidConstraintsChange = this._onDidConstraintsChange.event;\n        this._onDidSizeChange = new Emitter();\n        this.onDidSizeChange = this._onDidSizeChange.event;\n        this.addDisposables(this._onDidConstraintsChangeInternal, this._onDidConstraintsChange, this._onDidSizeChange);\n        if (panel) {\n            this.initialize(panel);\n        }\n    }\n    setConstraints(value) {\n        this._onDidConstraintsChangeInternal.fire(value);\n    }\n    setSize(event) {\n        this._onDidSizeChange.fire(event);\n    }\n}\n\nclass GridviewPanel extends BasePanelView {\n    get priority() {\n        return this._priority;\n    }\n    get snap() {\n        return this._snap;\n    }\n    get minimumWidth() {\n        /**\n         * defer to protected function to allow subclasses to override easily.\n         * see https://github.com/microsoft/TypeScript/issues/338\n         */\n        return this.__minimumWidth();\n    }\n    get minimumHeight() {\n        /**\n         * defer to protected function to allow subclasses to override easily.\n         * see https://github.com/microsoft/TypeScript/issues/338\n         */\n        return this.__minimumHeight();\n    }\n    get maximumHeight() {\n        /**\n         * defer to protected function to allow subclasses to override easily.\n         * see https://github.com/microsoft/TypeScript/issues/338\n         */\n        return this.__maximumHeight();\n    }\n    get maximumWidth() {\n        /**\n         * defer to protected function to allow subclasses to override easily.\n         * see https://github.com/microsoft/TypeScript/issues/338\n         */\n        return this.__maximumWidth();\n    }\n    __minimumWidth() {\n        const width = typeof this._minimumWidth === 'function'\n            ? this._minimumWidth()\n            : this._minimumWidth;\n        if (width !== this._evaluatedMinimumWidth) {\n            this._evaluatedMinimumWidth = width;\n            this.updateConstraints();\n        }\n        return width;\n    }\n    __maximumWidth() {\n        const width = typeof this._maximumWidth === 'function'\n            ? this._maximumWidth()\n            : this._maximumWidth;\n        if (width !== this._evaluatedMaximumWidth) {\n            this._evaluatedMaximumWidth = width;\n            this.updateConstraints();\n        }\n        return width;\n    }\n    __minimumHeight() {\n        const height = typeof this._minimumHeight === 'function'\n            ? this._minimumHeight()\n            : this._minimumHeight;\n        if (height !== this._evaluatedMinimumHeight) {\n            this._evaluatedMinimumHeight = height;\n            this.updateConstraints();\n        }\n        return height;\n    }\n    __maximumHeight() {\n        const height = typeof this._maximumHeight === 'function'\n            ? this._maximumHeight()\n            : this._maximumHeight;\n        if (height !== this._evaluatedMaximumHeight) {\n            this._evaluatedMaximumHeight = height;\n            this.updateConstraints();\n        }\n        return height;\n    }\n    get isActive() {\n        return this.api.isActive;\n    }\n    get isVisible() {\n        return this.api.isVisible;\n    }\n    constructor(id, component, options, api) {\n        super(id, component, api !== null && api !== void 0 ? api : new GridviewPanelApiImpl(id, component));\n        this._evaluatedMinimumWidth = 0;\n        this._evaluatedMaximumWidth = Number.MAX_SAFE_INTEGER;\n        this._evaluatedMinimumHeight = 0;\n        this._evaluatedMaximumHeight = Number.MAX_SAFE_INTEGER;\n        this._minimumWidth = 0;\n        this._minimumHeight = 0;\n        this._maximumWidth = Number.MAX_SAFE_INTEGER;\n        this._maximumHeight = Number.MAX_SAFE_INTEGER;\n        this._snap = false;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        if (typeof (options === null || options === void 0 ? void 0 : options.minimumWidth) === 'number') {\n            this._minimumWidth = options.minimumWidth;\n        }\n        if (typeof (options === null || options === void 0 ? void 0 : options.maximumWidth) === 'number') {\n            this._maximumWidth = options.maximumWidth;\n        }\n        if (typeof (options === null || options === void 0 ? void 0 : options.minimumHeight) === 'number') {\n            this._minimumHeight = options.minimumHeight;\n        }\n        if (typeof (options === null || options === void 0 ? void 0 : options.maximumHeight) === 'number') {\n            this._maximumHeight = options.maximumHeight;\n        }\n        this.api.initialize(this); // TODO: required to by-pass 'super before this' requirement\n        this.addDisposables(this.api.onWillVisibilityChange((event) => {\n            const { isVisible } = event;\n            const { accessor } = this._params;\n            accessor.setVisible(this, isVisible);\n        }), this.api.onActiveChange(() => {\n            const { accessor } = this._params;\n            accessor.doSetGroupActive(this);\n        }), this.api.onDidConstraintsChangeInternal((event) => {\n            if (typeof event.minimumWidth === 'number' ||\n                typeof event.minimumWidth === 'function') {\n                this._minimumWidth = event.minimumWidth;\n            }\n            if (typeof event.minimumHeight === 'number' ||\n                typeof event.minimumHeight === 'function') {\n                this._minimumHeight = event.minimumHeight;\n            }\n            if (typeof event.maximumWidth === 'number' ||\n                typeof event.maximumWidth === 'function') {\n                this._maximumWidth = event.maximumWidth;\n            }\n            if (typeof event.maximumHeight === 'number' ||\n                typeof event.maximumHeight === 'function') {\n                this._maximumHeight = event.maximumHeight;\n            }\n        }), this.api.onDidSizeChange((event) => {\n            this._onDidChange.fire({\n                height: event.height,\n                width: event.width,\n            });\n        }), this._onDidChange);\n    }\n    setVisible(isVisible) {\n        this.api._onDidVisibilityChange.fire({ isVisible });\n    }\n    setActive(isActive) {\n        this.api._onDidActiveChange.fire({ isActive });\n    }\n    init(parameters) {\n        if (parameters.maximumHeight) {\n            this._maximumHeight = parameters.maximumHeight;\n        }\n        if (parameters.minimumHeight) {\n            this._minimumHeight = parameters.minimumHeight;\n        }\n        if (parameters.maximumWidth) {\n            this._maximumWidth = parameters.maximumWidth;\n        }\n        if (parameters.minimumWidth) {\n            this._minimumWidth = parameters.minimumWidth;\n        }\n        this._priority = parameters.priority;\n        this._snap = !!parameters.snap;\n        super.init(parameters);\n        if (typeof parameters.isVisible === 'boolean') {\n            this.setVisible(parameters.isVisible);\n        }\n    }\n    updateConstraints() {\n        this.api._onDidConstraintsChange.fire({\n            minimumWidth: this._evaluatedMinimumWidth,\n            maximumWidth: this._evaluatedMaximumWidth,\n            minimumHeight: this._evaluatedMinimumHeight,\n            maximumHeight: this._evaluatedMaximumHeight,\n        });\n    }\n    toJSON() {\n        const state = super.toJSON();\n        const maximum = (value) => value === Number.MAX_SAFE_INTEGER ? undefined : value;\n        const minimum = (value) => (value <= 0 ? undefined : value);\n        return Object.assign(Object.assign({}, state), { minimumHeight: minimum(this.minimumHeight), maximumHeight: maximum(this.maximumHeight), minimumWidth: minimum(this.minimumWidth), maximumWidth: maximum(this.maximumWidth), snap: this.snap, priority: this.priority });\n    }\n}\n\nconst NOT_INITIALIZED_MESSAGE = 'dockview: DockviewGroupPanelApiImpl not initialized';\nclass DockviewGroupPanelApiImpl extends GridviewPanelApiImpl {\n    get location() {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        return this._group.model.location;\n    }\n    constructor(id, accessor) {\n        super(id, '__dockviewgroup__');\n        this.accessor = accessor;\n        this._onDidLocationChange = new Emitter();\n        this.onDidLocationChange = this._onDidLocationChange.event;\n        this._onDidActivePanelChange = new Emitter();\n        this.onDidActivePanelChange = this._onDidActivePanelChange.event;\n        this.addDisposables(this._onDidLocationChange, this._onDidActivePanelChange, this._onDidVisibilityChange.event((event) => {\n            // When becoming visible, apply any pending size change\n            if (event.isVisible && this._pendingSize) {\n                super.setSize(this._pendingSize);\n                this._pendingSize = undefined;\n            }\n        }));\n    }\n    setSize(event) {\n        // Always store the requested size\n        this._pendingSize = Object.assign({}, event);\n        // Apply the size change immediately\n        super.setSize(event);\n    }\n    close() {\n        if (!this._group) {\n            return;\n        }\n        return this.accessor.removeGroup(this._group);\n    }\n    getWindow() {\n        return this.location.type === 'popout'\n            ? this.location.getWindow()\n            : window;\n    }\n    setHeaderPosition(position) {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        this._group.model.headerPosition = position;\n    }\n    getHeaderPosition() {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        return this._group.model.headerPosition;\n    }\n    moveTo(options) {\n        var _a, _b, _c, _d;\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        const group = (_a = options.group) !== null && _a !== void 0 ? _a : this.accessor.addGroup({\n            direction: positionToDirection((_b = options.position) !== null && _b !== void 0 ? _b : 'right'),\n            skipSetActive: (_c = options.skipSetActive) !== null && _c !== void 0 ? _c : false,\n        });\n        this.accessor.moveGroupOrPanel({\n            from: { groupId: this._group.id },\n            to: {\n                group,\n                position: options.group\n                    ? ((_d = options.position) !== null && _d !== void 0 ? _d : 'center')\n                    : 'center',\n                index: options.index,\n            },\n            skipSetActive: options.skipSetActive,\n        });\n    }\n    maximize() {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        if (this.location.type !== 'grid') {\n            // only grid groups can be maximized\n            return;\n        }\n        this.accessor.maximizeGroup(this._group);\n    }\n    isMaximized() {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        return this.accessor.isMaximizedGroup(this._group);\n    }\n    exitMaximized() {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        if (this.isMaximized()) {\n            this.accessor.exitMaximizedGroup();\n        }\n    }\n    initialize(group) {\n        this._group = group;\n    }\n}\n\nconst MINIMUM_DOCKVIEW_GROUP_PANEL_WIDTH = 100;\nconst MINIMUM_DOCKVIEW_GROUP_PANEL_HEIGHT = 100;\nclass DockviewGroupPanel extends GridviewPanel {\n    get minimumWidth() {\n        var _a;\n        // Check for explicitly set group constraint first\n        if (typeof this._explicitConstraints.minimumWidth === 'number') {\n            return this._explicitConstraints.minimumWidth;\n        }\n        const activePanelMinimumWidth = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.minimumWidth;\n        if (typeof activePanelMinimumWidth === 'number') {\n            return activePanelMinimumWidth;\n        }\n        return super.__minimumWidth();\n    }\n    get minimumHeight() {\n        var _a;\n        // Check for explicitly set group constraint first\n        if (typeof this._explicitConstraints.minimumHeight === 'number') {\n            return this._explicitConstraints.minimumHeight;\n        }\n        const activePanelMinimumHeight = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.minimumHeight;\n        if (typeof activePanelMinimumHeight === 'number') {\n            return activePanelMinimumHeight;\n        }\n        return super.__minimumHeight();\n    }\n    get maximumWidth() {\n        var _a;\n        // Check for explicitly set group constraint first\n        if (typeof this._explicitConstraints.maximumWidth === 'number') {\n            return this._explicitConstraints.maximumWidth;\n        }\n        const activePanelMaximumWidth = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.maximumWidth;\n        if (typeof activePanelMaximumWidth === 'number') {\n            return activePanelMaximumWidth;\n        }\n        return super.__maximumWidth();\n    }\n    get maximumHeight() {\n        var _a;\n        // Check for explicitly set group constraint first\n        if (typeof this._explicitConstraints.maximumHeight === 'number') {\n            return this._explicitConstraints.maximumHeight;\n        }\n        const activePanelMaximumHeight = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.maximumHeight;\n        if (typeof activePanelMaximumHeight === 'number') {\n            return activePanelMaximumHeight;\n        }\n        return super.__maximumHeight();\n    }\n    get panels() {\n        return this._model.panels;\n    }\n    get activePanel() {\n        return this._model.activePanel;\n    }\n    get size() {\n        return this._model.size;\n    }\n    get model() {\n        return this._model;\n    }\n    get locked() {\n        return this._model.locked;\n    }\n    set locked(value) {\n        this._model.locked = value;\n    }\n    get header() {\n        return this._model.header;\n    }\n    constructor(accessor, id, options) {\n        var _a, _b, _c, _d, _e, _f;\n        super(id, 'groupview_default', {\n            minimumHeight: (_b = (_a = options.constraints) === null || _a === void 0 ? void 0 : _a.minimumHeight) !== null && _b !== void 0 ? _b : MINIMUM_DOCKVIEW_GROUP_PANEL_HEIGHT,\n            minimumWidth: (_d = (_c = options.constraints) === null || _c === void 0 ? void 0 : _c.minimumWidth) !== null && _d !== void 0 ? _d : MINIMUM_DOCKVIEW_GROUP_PANEL_WIDTH,\n            maximumHeight: (_e = options.constraints) === null || _e === void 0 ? void 0 : _e.maximumHeight,\n            maximumWidth: (_f = options.constraints) === null || _f === void 0 ? void 0 : _f.maximumWidth,\n        }, new DockviewGroupPanelApiImpl(id, accessor));\n        // Track explicitly set constraints to override panel constraints\n        this._explicitConstraints = {};\n        this.api.initialize(this); // cannot use 'this' after after 'super' call\n        this._model = new DockviewGroupPanelModel(this.element, accessor, id, options, this);\n        this.addDisposables(this.model.onDidActivePanelChange((event) => {\n            this.api._onDidActivePanelChange.fire(event);\n        }), this.api.onDidConstraintsChangeInternal((event) => {\n            // Track explicitly set constraints to override panel constraints\n            // Extract numeric values from functions or values\n            if (event.minimumWidth !== undefined) {\n                this._explicitConstraints.minimumWidth =\n                    typeof event.minimumWidth === 'function'\n                        ? event.minimumWidth()\n                        : event.minimumWidth;\n            }\n            if (event.minimumHeight !== undefined) {\n                this._explicitConstraints.minimumHeight =\n                    typeof event.minimumHeight === 'function'\n                        ? event.minimumHeight()\n                        : event.minimumHeight;\n            }\n            if (event.maximumWidth !== undefined) {\n                this._explicitConstraints.maximumWidth =\n                    typeof event.maximumWidth === 'function'\n                        ? event.maximumWidth()\n                        : event.maximumWidth;\n            }\n            if (event.maximumHeight !== undefined) {\n                this._explicitConstraints.maximumHeight =\n                    typeof event.maximumHeight === 'function'\n                        ? event.maximumHeight()\n                        : event.maximumHeight;\n            }\n        }));\n    }\n    focus() {\n        if (!this.api.isActive) {\n            this.api.setActive();\n        }\n        super.focus();\n    }\n    initialize() {\n        this._model.initialize();\n    }\n    setActive(isActive) {\n        super.setActive(isActive);\n        this.model.setActive(isActive);\n    }\n    layout(width, height) {\n        super.layout(width, height);\n        this.model.layout(width, height);\n    }\n    getComponent() {\n        return this._model;\n    }\n    toJSON() {\n        return this.model.toJSON();\n    }\n}\n\nconst themeDark = {\n    name: 'dark',\n    className: 'dockview-theme-dark',\n};\nconst themeLight = {\n    name: 'light',\n    className: 'dockview-theme-light',\n};\nconst themeVisualStudio = {\n    name: 'visualStudio',\n    className: 'dockview-theme-vs',\n};\nconst themeAbyss = {\n    name: 'abyss',\n    className: 'dockview-theme-abyss',\n};\nconst themeDracula = {\n    name: 'dracula',\n    className: 'dockview-theme-dracula',\n};\nconst themeReplit = {\n    name: 'replit',\n    className: 'dockview-theme-replit',\n    gap: 10,\n};\nconst themeAbyssSpaced = {\n    name: 'abyssSpaced',\n    className: 'dockview-theme-abyss-spaced',\n    gap: 10,\n    dndOverlayMounting: 'absolute',\n    dndPanelOverlay: 'group',\n};\nconst themeLightSpaced = {\n    name: 'lightSpaced',\n    className: 'dockview-theme-light-spaced',\n    gap: 10,\n    dndOverlayMounting: 'absolute',\n    dndPanelOverlay: 'group',\n};\n\nclass DockviewPanelApiImpl extends GridviewPanelApiImpl {\n    get location() {\n        return this.group.api.location;\n    }\n    get title() {\n        return this.panel.title;\n    }\n    get isGroupActive() {\n        return this.group.isActive;\n    }\n    get renderer() {\n        return this.panel.renderer;\n    }\n    set group(value) {\n        const oldGroup = this._group;\n        if (this._group !== value) {\n            this._group = value;\n            this._onDidGroupChange.fire({});\n            this.setupGroupEventListeners(oldGroup);\n            this._onDidLocationChange.fire({\n                location: this.group.api.location,\n            });\n        }\n    }\n    get group() {\n        return this._group;\n    }\n    get tabComponent() {\n        return this._tabComponent;\n    }\n    constructor(panel, group, accessor, component, tabComponent) {\n        super(panel.id, component);\n        this.panel = panel;\n        this.accessor = accessor;\n        this._onDidTitleChange = new Emitter();\n        this.onDidTitleChange = this._onDidTitleChange.event;\n        this._onDidActiveGroupChange = new Emitter();\n        this.onDidActiveGroupChange = this._onDidActiveGroupChange.event;\n        this._onDidGroupChange = new Emitter();\n        this.onDidGroupChange = this._onDidGroupChange.event;\n        this._onDidRendererChange = new Emitter();\n        this.onDidRendererChange = this._onDidRendererChange.event;\n        this._onDidLocationChange = new Emitter();\n        this.onDidLocationChange = this._onDidLocationChange.event;\n        this.groupEventsDisposable = new MutableDisposable();\n        this._tabComponent = tabComponent;\n        this.initialize(panel);\n        this._group = group;\n        this.setupGroupEventListeners();\n        this.addDisposables(this.groupEventsDisposable, this._onDidRendererChange, this._onDidTitleChange, this._onDidGroupChange, this._onDidActiveGroupChange, this._onDidLocationChange);\n    }\n    getWindow() {\n        return this.group.api.getWindow();\n    }\n    moveTo(options) {\n        var _a, _b;\n        this.accessor.moveGroupOrPanel({\n            from: { groupId: this._group.id, panelId: this.panel.id },\n            to: {\n                group: (_a = options.group) !== null && _a !== void 0 ? _a : this._group,\n                position: options.group\n                    ? ((_b = options.position) !== null && _b !== void 0 ? _b : 'center')\n                    : 'center',\n                index: options.index,\n            },\n            skipSetActive: options.skipSetActive,\n        });\n    }\n    setTitle(title) {\n        this.panel.setTitle(title);\n    }\n    setRenderer(renderer) {\n        this.panel.setRenderer(renderer);\n    }\n    close() {\n        this.group.model.closePanel(this.panel);\n    }\n    maximize() {\n        this.group.api.maximize();\n    }\n    isMaximized() {\n        return this.group.api.isMaximized();\n    }\n    exitMaximized() {\n        this.group.api.exitMaximized();\n    }\n    setupGroupEventListeners(previousGroup) {\n        var _a;\n        let _trackGroupActive = (_a = previousGroup === null || previousGroup === void 0 ? void 0 : previousGroup.isActive) !== null && _a !== void 0 ? _a : false; // prevent duplicate events with same state\n        this.groupEventsDisposable.value = new CompositeDisposable(this.group.api.onDidVisibilityChange((event) => {\n            const hasBecomeHidden = !event.isVisible && this.isVisible;\n            const hasBecomeVisible = event.isVisible && !this.isVisible;\n            const isActivePanel = this.group.model.isPanelActive(this.panel);\n            if (hasBecomeHidden || (hasBecomeVisible && isActivePanel)) {\n                this._onDidVisibilityChange.fire(event);\n            }\n        }), this.group.api.onDidLocationChange((event) => {\n            if (this.group !== this.panel.group) {\n                return;\n            }\n            this._onDidLocationChange.fire(event);\n        }), this.group.api.onDidActiveChange(() => {\n            if (this.group !== this.panel.group) {\n                return;\n            }\n            if (_trackGroupActive !== this.isGroupActive) {\n                _trackGroupActive = this.isGroupActive;\n                this._onDidActiveGroupChange.fire({\n                    isActive: this.isGroupActive,\n                });\n            }\n        }));\n    }\n}\n\nclass DockviewPanel extends CompositeDisposable {\n    get params() {\n        return this._params;\n    }\n    get title() {\n        return this._title;\n    }\n    get group() {\n        return this._group;\n    }\n    get renderer() {\n        var _a;\n        return (_a = this._renderer) !== null && _a !== void 0 ? _a : this.accessor.renderer;\n    }\n    get minimumWidth() {\n        return this._minimumWidth;\n    }\n    get minimumHeight() {\n        return this._minimumHeight;\n    }\n    get maximumWidth() {\n        return this._maximumWidth;\n    }\n    get maximumHeight() {\n        return this._maximumHeight;\n    }\n    constructor(id, component, tabComponent, accessor, containerApi, group, view, options) {\n        super();\n        this.id = id;\n        this.accessor = accessor;\n        this.containerApi = containerApi;\n        this.view = view;\n        this._renderer = options.renderer;\n        this._group = group;\n        this._minimumWidth = options.minimumWidth;\n        this._minimumHeight = options.minimumHeight;\n        this._maximumWidth = options.maximumWidth;\n        this._maximumHeight = options.maximumHeight;\n        this.api = new DockviewPanelApiImpl(this, this._group, accessor, component, tabComponent);\n        this.addDisposables(this.api.onActiveChange(() => {\n            accessor.setActivePanel(this);\n        }), this.api.onDidSizeChange((event) => {\n            // forward the resize event to the group since if you want to resize a panel\n            // you are actually just resizing the panels parent which is the group\n            this.group.api.setSize(event);\n        }), this.api.onDidRendererChange(() => {\n            this.group.model.rerender(this);\n        }));\n    }\n    init(params) {\n        this._params = params.params;\n        this.view.init(Object.assign(Object.assign({}, params), { api: this.api, containerApi: this.containerApi }));\n        this.setTitle(params.title);\n    }\n    focus() {\n        const event = new WillFocusEvent();\n        this.api._onWillFocus.fire(event);\n        if (event.defaultPrevented) {\n            return;\n        }\n        if (!this.api.isActive) {\n            this.api.setActive();\n        }\n    }\n    toJSON() {\n        return {\n            id: this.id,\n            contentComponent: this.view.contentComponent,\n            tabComponent: this.view.tabComponent,\n            params: Object.keys(this._params || {}).length > 0\n                ? this._params\n                : undefined,\n            title: this.title,\n            renderer: this._renderer,\n            minimumHeight: this._minimumHeight,\n            maximumHeight: this._maximumHeight,\n            minimumWidth: this._minimumWidth,\n            maximumWidth: this._maximumWidth,\n        };\n    }\n    setTitle(title) {\n        const didTitleChange = title !== this.title;\n        if (didTitleChange) {\n            this._title = title;\n            this.api._onDidTitleChange.fire({ title });\n        }\n    }\n    setRenderer(renderer) {\n        const didChange = renderer !== this.renderer;\n        if (didChange) {\n            this._renderer = renderer;\n            this.api._onDidRendererChange.fire({\n                renderer: renderer,\n            });\n        }\n    }\n    update(event) {\n        var _a;\n        // merge the new parameters with the existing parameters\n        this._params = Object.assign(Object.assign({}, ((_a = this._params) !== null && _a !== void 0 ? _a : {})), event.params);\n        /**\n         * delete new keys that have a value of undefined,\n         * allow values of null\n         */\n        for (const key of Object.keys(event.params)) {\n            if (event.params[key] === undefined) {\n                delete this._params[key];\n            }\n        }\n        // update the view with the updated props\n        this.view.update({\n            params: this._params,\n        });\n    }\n    updateFromStateModel(state) {\n        var _a, _b, _c;\n        this._maximumHeight = state.maximumHeight;\n        this._minimumHeight = state.minimumHeight;\n        this._maximumWidth = state.maximumWidth;\n        this._minimumWidth = state.minimumWidth;\n        this.update({ params: (_a = state.params) !== null && _a !== void 0 ? _a : {} });\n        this.setTitle((_b = state.title) !== null && _b !== void 0 ? _b : this.id);\n        this.setRenderer((_c = state.renderer) !== null && _c !== void 0 ? _c : this.accessor.renderer);\n        // state.contentComponent;\n        // state.tabComponent;\n    }\n    updateParentGroup(group, options) {\n        this._group = group;\n        this.api.group = this._group;\n        const isPanelVisible = this._group.model.isPanelActive(this);\n        const isActive = this.group.api.isActive && isPanelVisible;\n        if (!(options === null || options === void 0 ? void 0 : options.skipSetActive)) {\n            if (this.api.isActive !== isActive) {\n                this.api._onDidActiveChange.fire({\n                    isActive: this.group.api.isActive && isPanelVisible,\n                });\n            }\n        }\n        if (this.api.isVisible !== isPanelVisible) {\n            this.api._onDidVisibilityChange.fire({\n                isVisible: isPanelVisible,\n            });\n        }\n    }\n    runEvents() {\n        const isPanelVisible = this._group.model.isPanelActive(this);\n        const isActive = this.group.api.isActive && isPanelVisible;\n        if (this.api.isActive !== isActive) {\n            this.api._onDidActiveChange.fire({\n                isActive: this.group.api.isActive && isPanelVisible,\n            });\n        }\n        if (this.api.isVisible !== isPanelVisible) {\n            this.api._onDidVisibilityChange.fire({\n                isVisible: isPanelVisible,\n            });\n        }\n    }\n    layout(width, height) {\n        // TODO: Can we somehow do height without header height or indicate what the header height is?\n        this.api._onDidDimensionChange.fire({\n            width,\n            height: height,\n        });\n        this.view.layout(width, height);\n    }\n    dispose() {\n        this.api.dispose();\n        this.view.dispose();\n    }\n}\n\nclass DefaultTab extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor() {\n        super();\n        this._element = document.createElement('div');\n        this._element.className = 'dv-default-tab';\n        this._content = document.createElement('div');\n        this._content.className = 'dv-default-tab-content';\n        this.action = document.createElement('div');\n        this.action.className = 'dv-default-tab-action';\n        this.action.appendChild(createCloseButton());\n        this._element.appendChild(this._content);\n        this._element.appendChild(this.action);\n        this.render();\n    }\n    init(params) {\n        this._title = params.title;\n        this.addDisposables(params.api.onDidTitleChange((event) => {\n            this._title = event.title;\n            this.render();\n        }), addDisposableListener(this.action, 'pointerdown', (ev) => {\n            ev.preventDefault();\n        }), addDisposableListener(this.action, 'click', (ev) => {\n            if (ev.defaultPrevented) {\n                return;\n            }\n            ev.preventDefault();\n            params.api.close();\n        }));\n        this.render();\n    }\n    render() {\n        var _a;\n        if (this._content.textContent !== this._title) {\n            this._content.textContent = (_a = this._title) !== null && _a !== void 0 ? _a : '';\n        }\n    }\n}\n\nclass DockviewPanelModel {\n    get content() {\n        return this._content;\n    }\n    get tab() {\n        return this._tab;\n    }\n    constructor(accessor, id, contentComponent, tabComponent) {\n        this.accessor = accessor;\n        this.id = id;\n        this.contentComponent = contentComponent;\n        this.tabComponent = tabComponent;\n        this._content = this.createContentComponent(this.id, contentComponent);\n        this._tab = this.createTabComponent(this.id, tabComponent);\n    }\n    createTabRenderer(tabLocation) {\n        var _a;\n        const cmp = this.createTabComponent(this.id, this.tabComponent);\n        if (this._params) {\n            cmp.init(Object.assign(Object.assign({}, this._params), { tabLocation }));\n        }\n        if (this._updateEvent) {\n            (_a = cmp.update) === null || _a === void 0 ? void 0 : _a.call(cmp, this._updateEvent);\n        }\n        return cmp;\n    }\n    init(params) {\n        this._params = params;\n        this.content.init(params);\n        this.tab.init(Object.assign(Object.assign({}, params), { tabLocation: 'header' }));\n    }\n    layout(width, height) {\n        var _a, _b;\n        (_b = (_a = this.content).layout) === null || _b === void 0 ? void 0 : _b.call(_a, width, height);\n    }\n    update(event) {\n        var _a, _b, _c, _d;\n        this._updateEvent = event;\n        (_b = (_a = this.content).update) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n        (_d = (_c = this.tab).update) === null || _d === void 0 ? void 0 : _d.call(_c, event);\n    }\n    dispose() {\n        var _a, _b, _c, _d;\n        (_b = (_a = this.content).dispose) === null || _b === void 0 ? void 0 : _b.call(_a);\n        (_d = (_c = this.tab).dispose) === null || _d === void 0 ? void 0 : _d.call(_c);\n    }\n    createContentComponent(id, componentName) {\n        return this.accessor.options.createComponent({\n            id,\n            name: componentName,\n        });\n    }\n    createTabComponent(id, componentName) {\n        const name = componentName !== null && componentName !== void 0 ? componentName : this.accessor.options.defaultTabComponent;\n        if (name) {\n            if (this.accessor.options.createTabComponent) {\n                const component = this.accessor.options.createTabComponent({\n                    id,\n                    name,\n                });\n                if (component) {\n                    return component;\n                }\n                else {\n                    return new DefaultTab();\n                }\n            }\n            console.warn(`dockview: tabComponent '${componentName}' was not found. falling back to the default tab.`);\n        }\n        return new DefaultTab();\n    }\n}\n\nclass DefaultDockviewDeserialzier {\n    constructor(accessor) {\n        this.accessor = accessor;\n    }\n    fromJSON(panelData, group) {\n        var _a, _b;\n        const panelId = panelData.id;\n        const params = panelData.params;\n        const title = panelData.title;\n        const viewData = panelData.view;\n        const contentComponent = viewData\n            ? viewData.content.id\n            : ((_a = panelData.contentComponent) !== null && _a !== void 0 ? _a : 'unknown');\n        const tabComponent = viewData\n            ? (_b = viewData.tab) === null || _b === void 0 ? void 0 : _b.id\n            : panelData.tabComponent;\n        const view = new DockviewPanelModel(this.accessor, panelId, contentComponent, tabComponent);\n        const panel = new DockviewPanel(panelId, contentComponent, tabComponent, this.accessor, new DockviewApi(this.accessor), group, view, {\n            renderer: panelData.renderer,\n            minimumWidth: panelData.minimumWidth,\n            minimumHeight: panelData.minimumHeight,\n            maximumWidth: panelData.maximumWidth,\n            maximumHeight: panelData.maximumHeight,\n        });\n        panel.init({\n            title: title !== null && title !== void 0 ? title : panelId,\n            params: params !== null && params !== void 0 ? params : {},\n        });\n        return panel;\n    }\n}\n\nclass Watermark extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor() {\n        super();\n        this._element = document.createElement('div');\n        this._element.className = 'dv-watermark';\n    }\n    init(_params) {\n        // noop\n    }\n}\n\nclass AriaLevelTracker {\n    constructor() {\n        this._orderedList = [];\n    }\n    push(element) {\n        this._orderedList = [\n            ...this._orderedList.filter((item) => item !== element),\n            element,\n        ];\n        this.update();\n    }\n    destroy(element) {\n        this._orderedList = this._orderedList.filter((item) => item !== element);\n        this.update();\n    }\n    update() {\n        for (let i = 0; i < this._orderedList.length; i++) {\n            this._orderedList[i].setAttribute('aria-level', `${i}`);\n            this._orderedList[i].style.zIndex =\n                `calc(var(--dv-overlay-z-index, 999) + ${i * 2})`;\n        }\n    }\n}\nconst arialLevelTracker = new AriaLevelTracker();\nclass Overlay extends CompositeDisposable {\n    set minimumInViewportWidth(value) {\n        this.options.minimumInViewportWidth = value;\n    }\n    set minimumInViewportHeight(value) {\n        this.options.minimumInViewportHeight = value;\n    }\n    get element() {\n        return this._element;\n    }\n    get isVisible() {\n        return this._isVisible;\n    }\n    constructor(options) {\n        super();\n        this.options = options;\n        this._element = document.createElement('div');\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._onDidChangeEnd = new Emitter();\n        this.onDidChangeEnd = this._onDidChangeEnd.event;\n        this.addDisposables(this._onDidChange, this._onDidChangeEnd);\n        this._element.className = 'dv-resize-container';\n        this._isVisible = true;\n        this.setupResize('top');\n        this.setupResize('bottom');\n        this.setupResize('left');\n        this.setupResize('right');\n        this.setupResize('topleft');\n        this.setupResize('topright');\n        this.setupResize('bottomleft');\n        this.setupResize('bottomright');\n        this._element.appendChild(this.options.content);\n        this.options.container.appendChild(this._element);\n        // if input bad resize within acceptable boundaries\n        this.setBounds(Object.assign(Object.assign(Object.assign(Object.assign({ height: this.options.height, width: this.options.width }, ('top' in this.options && { top: this.options.top })), ('bottom' in this.options && { bottom: this.options.bottom })), ('left' in this.options && { left: this.options.left })), ('right' in this.options && { right: this.options.right })));\n        arialLevelTracker.push(this._element);\n    }\n    setVisible(isVisible) {\n        if (isVisible === this.isVisible) {\n            return;\n        }\n        this._isVisible = isVisible;\n        toggleClass(this.element, 'dv-hidden', !this.isVisible);\n    }\n    bringToFront() {\n        arialLevelTracker.push(this._element);\n    }\n    setBounds(bounds = {}) {\n        if (typeof bounds.height === 'number') {\n            this._element.style.height = `${bounds.height}px`;\n        }\n        if (typeof bounds.width === 'number') {\n            this._element.style.width = `${bounds.width}px`;\n        }\n        if ('top' in bounds && typeof bounds.top === 'number') {\n            this._element.style.top = `${bounds.top}px`;\n            this._element.style.bottom = 'auto';\n            this.verticalAlignment = 'top';\n        }\n        if ('bottom' in bounds && typeof bounds.bottom === 'number') {\n            this._element.style.bottom = `${bounds.bottom}px`;\n            this._element.style.top = 'auto';\n            this.verticalAlignment = 'bottom';\n        }\n        if ('left' in bounds && typeof bounds.left === 'number') {\n            this._element.style.left = `${bounds.left}px`;\n            this._element.style.right = 'auto';\n            this.horiziontalAlignment = 'left';\n        }\n        if ('right' in bounds && typeof bounds.right === 'number') {\n            this._element.style.right = `${bounds.right}px`;\n            this._element.style.left = 'auto';\n            this.horiziontalAlignment = 'right';\n        }\n        const containerRect = this.options.container.getBoundingClientRect();\n        const overlayRect = this._element.getBoundingClientRect();\n        // region: ensure bounds within allowable limits\n        // a minimum width of minimumViewportWidth must be inside the viewport\n        const xOffset = Math.max(0, this.getMinimumWidth(overlayRect.width));\n        // a minimum height of minimumViewportHeight must be inside the viewport\n        const yOffset = Math.max(0, this.getMinimumHeight(overlayRect.height));\n        if (this.verticalAlignment === 'top') {\n            const top = clamp(overlayRect.top - containerRect.top, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));\n            this._element.style.top = `${top}px`;\n            this._element.style.bottom = 'auto';\n        }\n        if (this.verticalAlignment === 'bottom') {\n            const bottom = clamp(containerRect.bottom - overlayRect.bottom, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));\n            this._element.style.bottom = `${bottom}px`;\n            this._element.style.top = 'auto';\n        }\n        if (this.horiziontalAlignment === 'left') {\n            const left = clamp(overlayRect.left - containerRect.left, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));\n            this._element.style.left = `${left}px`;\n            this._element.style.right = 'auto';\n        }\n        if (this.horiziontalAlignment === 'right') {\n            const right = clamp(containerRect.right - overlayRect.right, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));\n            this._element.style.right = `${right}px`;\n            this._element.style.left = 'auto';\n        }\n        this._onDidChange.fire();\n    }\n    toJSON() {\n        const container = this.options.container.getBoundingClientRect();\n        const element = this._element.getBoundingClientRect();\n        const result = {};\n        if (this.verticalAlignment === 'top') {\n            result.top = parseFloat(this._element.style.top);\n        }\n        else if (this.verticalAlignment === 'bottom') {\n            result.bottom = parseFloat(this._element.style.bottom);\n        }\n        else {\n            result.top = element.top - container.top;\n        }\n        if (this.horiziontalAlignment === 'left') {\n            result.left = parseFloat(this._element.style.left);\n        }\n        else if (this.horiziontalAlignment === 'right') {\n            result.right = parseFloat(this._element.style.right);\n        }\n        else {\n            result.left = element.left - container.left;\n        }\n        result.width = element.width;\n        result.height = element.height;\n        return result;\n    }\n    setupDrag(dragTarget, options = { inDragMode: false }) {\n        const move = new MutableDisposable();\n        const track = () => {\n            let offset = null;\n            const iframes = disableIframePointEvents();\n            move.value = new CompositeDisposable({\n                dispose: () => {\n                    iframes.release();\n                },\n            }, addDisposableListener(window, 'pointermove', (e) => {\n                const containerRect = this.options.container.getBoundingClientRect();\n                const x = e.clientX - containerRect.left;\n                const y = e.clientY - containerRect.top;\n                toggleClass(this._element, 'dv-resize-container-dragging', true);\n                const overlayRect = this._element.getBoundingClientRect();\n                if (offset === null) {\n                    offset = {\n                        x: e.clientX - overlayRect.left,\n                        y: e.clientY - overlayRect.top,\n                    };\n                }\n                const xOffset = Math.max(0, this.getMinimumWidth(overlayRect.width));\n                const yOffset = Math.max(0, this.getMinimumHeight(overlayRect.height));\n                const top = clamp(y - offset.y, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));\n                const bottom = clamp(offset.y -\n                    y +\n                    containerRect.height -\n                    overlayRect.height, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));\n                const left = clamp(x - offset.x, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));\n                const right = clamp(offset.x - x + containerRect.width - overlayRect.width, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));\n                const bounds = {};\n                // Anchor to top or to bottom depending on which one is closer\n                if (top <= bottom) {\n                    bounds.top = top;\n                }\n                else {\n                    bounds.bottom = bottom;\n                }\n                // Anchor to left or to right depending on which one is closer\n                if (left <= right) {\n                    bounds.left = left;\n                }\n                else {\n                    bounds.right = right;\n                }\n                this.setBounds(bounds);\n            }), addDisposableListener(window, 'pointerup', () => {\n                toggleClass(this._element, 'dv-resize-container-dragging', false);\n                move.dispose();\n                this._onDidChangeEnd.fire();\n            }));\n        };\n        this.addDisposables(move, addDisposableListener(dragTarget, 'pointerdown', (event) => {\n            if (event.defaultPrevented) {\n                event.preventDefault();\n                return;\n            }\n            // if somebody has marked this event then treat as a defaultPrevented\n            // without actually calling event.preventDefault()\n            if (quasiDefaultPrevented(event)) {\n                return;\n            }\n            track();\n        }), addDisposableListener(this.options.content, 'pointerdown', (event) => {\n            if (event.defaultPrevented) {\n                return;\n            }\n            // if somebody has marked this event then treat as a defaultPrevented\n            // without actually calling event.preventDefault()\n            if (quasiDefaultPrevented(event)) {\n                return;\n            }\n            if (event.shiftKey) {\n                track();\n            }\n        }), addDisposableListener(this.options.content, 'pointerdown', () => {\n            arialLevelTracker.push(this._element);\n        }, true));\n        if (options.inDragMode) {\n            track();\n        }\n    }\n    setupResize(direction) {\n        const resizeHandleElement = document.createElement('div');\n        resizeHandleElement.className = `dv-resize-handle-${direction}`;\n        this._element.appendChild(resizeHandleElement);\n        const move = new MutableDisposable();\n        this.addDisposables(move, addDisposableListener(resizeHandleElement, 'pointerdown', (e) => {\n            e.preventDefault();\n            let startPosition = null;\n            const iframes = disableIframePointEvents();\n            move.value = new CompositeDisposable(addDisposableListener(window, 'pointermove', (e) => {\n                const containerRect = this.options.container.getBoundingClientRect();\n                const overlayRect = this._element.getBoundingClientRect();\n                const y = e.clientY - containerRect.top;\n                const x = e.clientX - containerRect.left;\n                if (startPosition === null) {\n                    // record the initial dimensions since as all subsequence moves are relative to this\n                    startPosition = {\n                        originalY: y,\n                        originalHeight: overlayRect.height,\n                        originalX: x,\n                        originalWidth: overlayRect.width,\n                    };\n                }\n                let top = undefined;\n                let bottom = undefined;\n                let height = undefined;\n                let left = undefined;\n                let right = undefined;\n                let width = undefined;\n                const moveTop = () => {\n                    // When dragging top handle, constrain top position to prevent oversizing\n                    const maxTop = startPosition.originalY +\n                        startPosition.originalHeight >\n                        containerRect.height\n                        ? Math.max(0, containerRect.height -\n                            Overlay.MINIMUM_HEIGHT)\n                        : Math.max(0, startPosition.originalY +\n                            startPosition.originalHeight -\n                            Overlay.MINIMUM_HEIGHT);\n                    top = clamp(y, 0, maxTop);\n                    height =\n                        startPosition.originalY +\n                            startPosition.originalHeight -\n                            top;\n                    bottom = containerRect.height - top - height;\n                };\n                const moveBottom = () => {\n                    top =\n                        startPosition.originalY -\n                            startPosition.originalHeight;\n                    // When dragging bottom handle, constrain height to container height\n                    const minHeight = top < 0 &&\n                        typeof this.options.minimumInViewportHeight ===\n                            'number'\n                        ? -top +\n                            this.options.minimumInViewportHeight\n                        : Overlay.MINIMUM_HEIGHT;\n                    const maxHeight = containerRect.height - Math.max(0, top);\n                    height = clamp(y - top, minHeight, maxHeight);\n                    bottom = containerRect.height - top - height;\n                };\n                const moveLeft = () => {\n                    const maxLeft = startPosition.originalX +\n                        startPosition.originalWidth >\n                        containerRect.width\n                        ? Math.max(0, containerRect.width -\n                            Overlay.MINIMUM_WIDTH) // Prevent extending beyong right edge\n                        : Math.max(0, startPosition.originalX +\n                            startPosition.originalWidth -\n                            Overlay.MINIMUM_WIDTH);\n                    left = clamp(x, 0, maxLeft); // min is 0 (Not -Infinity) to prevent dragging beyond left edge\n                    width =\n                        startPosition.originalX +\n                            startPosition.originalWidth -\n                            left;\n                    right = containerRect.width - left - width;\n                };\n                const moveRight = () => {\n                    left =\n                        startPosition.originalX -\n                            startPosition.originalWidth;\n                    // When dragging right handle, constrain width to container width\n                    const minWidth = left < 0 &&\n                        typeof this.options.minimumInViewportWidth ===\n                            'number'\n                        ? -left +\n                            this.options.minimumInViewportWidth\n                        : Overlay.MINIMUM_WIDTH;\n                    const maxWidth = containerRect.width - Math.max(0, left);\n                    width = clamp(x - left, minWidth, maxWidth);\n                    right = containerRect.width - left - width;\n                };\n                switch (direction) {\n                    case 'top':\n                        moveTop();\n                        break;\n                    case 'bottom':\n                        moveBottom();\n                        break;\n                    case 'left':\n                        moveLeft();\n                        break;\n                    case 'right':\n                        moveRight();\n                        break;\n                    case 'topleft':\n                        moveTop();\n                        moveLeft();\n                        break;\n                    case 'topright':\n                        moveTop();\n                        moveRight();\n                        break;\n                    case 'bottomleft':\n                        moveBottom();\n                        moveLeft();\n                        break;\n                    case 'bottomright':\n                        moveBottom();\n                        moveRight();\n                        break;\n                }\n                const bounds = {};\n                // Anchor to top or to bottom depending on which one is closer\n                if (top <= bottom) {\n                    bounds.top = top;\n                }\n                else {\n                    bounds.bottom = bottom;\n                }\n                // Anchor to left or to right depending on which one is closer\n                if (left <= right) {\n                    bounds.left = left;\n                }\n                else {\n                    bounds.right = right;\n                }\n                bounds.height = height;\n                bounds.width = width;\n                this.setBounds(bounds);\n            }), {\n                dispose: () => {\n                    iframes.release();\n                },\n            }, addDisposableListener(window, 'pointerup', () => {\n                move.dispose();\n                this._onDidChangeEnd.fire();\n            }));\n        }));\n    }\n    getMinimumWidth(width) {\n        if (typeof this.options.minimumInViewportWidth === 'number') {\n            return width - this.options.minimumInViewportWidth;\n        }\n        return 0;\n    }\n    getMinimumHeight(height) {\n        if (typeof this.options.minimumInViewportHeight === 'number') {\n            return height - this.options.minimumInViewportHeight;\n        }\n        return 0;\n    }\n    dispose() {\n        arialLevelTracker.destroy(this._element);\n        this._element.remove();\n        super.dispose();\n    }\n}\nOverlay.MINIMUM_HEIGHT = 20;\nOverlay.MINIMUM_WIDTH = 20;\n\nclass DockviewFloatingGroupPanel extends CompositeDisposable {\n    constructor(group, overlay) {\n        super();\n        this.group = group;\n        this.overlay = overlay;\n        this.addDisposables(overlay);\n    }\n    position(bounds) {\n        this.overlay.setBounds(bounds);\n    }\n}\n\nconst DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE = 100;\nconst DEFAULT_FLOATING_GROUP_POSITION = {\n    left: 100,\n    top: 100,\n    width: 300,\n    height: 300,\n};\nconst DESERIALIZATION_POPOUT_DELAY_MS = 100;\n\nclass PositionCache {\n    constructor() {\n        this.cache = new Map();\n        this.currentFrameId = 0;\n        this.rafId = null;\n    }\n    getPosition(element) {\n        const cached = this.cache.get(element);\n        if (cached && cached.frameId === this.currentFrameId) {\n            return cached.rect;\n        }\n        this.scheduleFrameUpdate();\n        const rect = getDomNodePagePosition(element);\n        this.cache.set(element, { rect, frameId: this.currentFrameId });\n        return rect;\n    }\n    invalidate() {\n        this.currentFrameId++;\n    }\n    scheduleFrameUpdate() {\n        if (this.rafId)\n            return;\n        this.rafId = requestAnimationFrame(() => {\n            this.currentFrameId++;\n            this.rafId = null;\n        });\n    }\n}\nfunction createFocusableElement() {\n    const element = document.createElement('div');\n    element.tabIndex = -1;\n    return element;\n}\nclass OverlayRenderContainer extends CompositeDisposable {\n    constructor(element, accessor) {\n        super();\n        this.element = element;\n        this.accessor = accessor;\n        this.map = {};\n        this._disposed = false;\n        this.positionCache = new PositionCache();\n        this.pendingUpdates = new Set();\n        this.addDisposables(Disposable.from(() => {\n            for (const value of Object.values(this.map)) {\n                value.disposable.dispose();\n                value.destroy.dispose();\n            }\n            this._disposed = true;\n        }));\n    }\n    updateAllPositions() {\n        if (this._disposed) {\n            return;\n        }\n        // Invalidate position cache to force recalculation\n        this.positionCache.invalidate();\n        // Call resize function directly for all visible panels\n        for (const entry of Object.values(this.map)) {\n            if (entry.panel.api.isVisible && entry.resize) {\n                entry.resize();\n            }\n        }\n    }\n    detatch(panel) {\n        if (this.map[panel.api.id]) {\n            const { disposable, destroy } = this.map[panel.api.id];\n            disposable.dispose();\n            destroy.dispose();\n            delete this.map[panel.api.id];\n            return true;\n        }\n        return false;\n    }\n    attach(options) {\n        const { panel, referenceContainer } = options;\n        if (!this.map[panel.api.id]) {\n            const element = createFocusableElement();\n            element.className = 'dv-render-overlay';\n            this.map[panel.api.id] = {\n                panel,\n                disposable: Disposable.NONE,\n                destroy: Disposable.NONE,\n                element,\n            };\n        }\n        const focusContainer = this.map[panel.api.id].element;\n        if (panel.view.content.element.parentElement !== focusContainer) {\n            focusContainer.appendChild(panel.view.content.element);\n        }\n        if (focusContainer.parentElement !== this.element) {\n            this.element.appendChild(focusContainer);\n        }\n        const resize = () => {\n            const panelId = panel.api.id;\n            if (this.pendingUpdates.has(panelId)) {\n                return; // Update already scheduled\n            }\n            this.pendingUpdates.add(panelId);\n            requestAnimationFrame(() => {\n                this.pendingUpdates.delete(panelId);\n                if (this.isDisposed || !this.map[panelId]) {\n                    return;\n                }\n                const box = this.positionCache.getPosition(referenceContainer.element);\n                const box2 = this.positionCache.getPosition(this.element);\n                // Use traditional positioning for overlay containers\n                const left = box.left - box2.left;\n                const top = box.top - box2.top;\n                const width = box.width;\n                const height = box.height;\n                focusContainer.style.left = `${left}px`;\n                focusContainer.style.top = `${top}px`;\n                focusContainer.style.width = `${width}px`;\n                focusContainer.style.height = `${height}px`;\n                toggleClass(focusContainer, 'dv-render-overlay-float', panel.group.api.location.type === 'floating');\n            });\n        };\n        const visibilityChanged = () => {\n            if (panel.api.isVisible) {\n                this.positionCache.invalidate();\n                resize();\n            }\n            focusContainer.style.display = panel.api.isVisible ? '' : 'none';\n        };\n        const observerDisposable = new MutableDisposable();\n        const correctLayerPosition = () => {\n            if (panel.api.location.type === 'floating') {\n                queueMicrotask(() => {\n                    const floatingGroup = this.accessor.floatingGroups.find((group) => group.group === panel.api.group);\n                    if (!floatingGroup) {\n                        return;\n                    }\n                    const element = floatingGroup.overlay.element;\n                    const update = () => {\n                        const level = Number(element.getAttribute('aria-level'));\n                        focusContainer.style.zIndex = `calc(var(--dv-overlay-z-index, 999) + ${level * 2 + 1})`;\n                    };\n                    const observer = new MutationObserver(() => {\n                        update();\n                    });\n                    observerDisposable.value = Disposable.from(() => observer.disconnect());\n                    observer.observe(element, {\n                        attributeFilter: ['aria-level'],\n                        attributes: true,\n                    });\n                    update();\n                });\n            }\n            else {\n                focusContainer.style.zIndex = ''; // reset the z-index, perhaps CSS will take over here\n            }\n        };\n        const disposable = new CompositeDisposable(observerDisposable, \n        /**\n         * since container is positioned absoutely we must explicitly forward\n         * the dnd events for the expect behaviours to continue to occur in terms of dnd\n         *\n         * the dnd observer does not need to be conditional on whether the panel is visible since\n         * non-visible panels are 'display: none' and in such case the dnd observer will not fire.\n         */\n        new DragAndDropObserver(focusContainer, {\n            onDragEnd: (e) => {\n                referenceContainer.dropTarget.dnd.onDragEnd(e);\n            },\n            onDragEnter: (e) => {\n                referenceContainer.dropTarget.dnd.onDragEnter(e);\n            },\n            onDragLeave: (e) => {\n                referenceContainer.dropTarget.dnd.onDragLeave(e);\n            },\n            onDrop: (e) => {\n                referenceContainer.dropTarget.dnd.onDrop(e);\n            },\n            onDragOver: (e) => {\n                referenceContainer.dropTarget.dnd.onDragOver(e);\n            },\n        }), panel.api.onDidVisibilityChange(() => {\n            /**\n             * Control the visibility of the content, however even when not visible (display: none)\n             * the content is still maintained within the DOM hence DOM specific attributes\n             * such as scroll position are maintained when next made visible.\n             */\n            visibilityChanged();\n        }), panel.api.onDidDimensionsChange(() => {\n            if (!panel.api.isVisible) {\n                return;\n            }\n            resize();\n        }), panel.api.onDidLocationChange(() => {\n            correctLayerPosition();\n        }));\n        this.map[panel.api.id].destroy = Disposable.from(() => {\n            var _a;\n            if (panel.view.content.element.parentElement === focusContainer) {\n                focusContainer.removeChild(panel.view.content.element);\n            }\n            (_a = focusContainer.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(focusContainer);\n        });\n        correctLayerPosition();\n        queueMicrotask(() => {\n            if (this.isDisposed) {\n                return;\n            }\n            /**\n             * wait until everything has finished in the current stack-frame call before\n             * calling the first resize as other size-altering events may still occur before\n             * the end of the stack-frame.\n             */\n            visibilityChanged();\n        });\n        // dispose of logic asoccciated with previous reference-container\n        this.map[panel.api.id].disposable.dispose();\n        // and reset the disposable to the active reference-container\n        this.map[panel.api.id].disposable = disposable;\n        // store the resize function for direct access\n        this.map[panel.api.id].resize = resize;\n        return focusContainer;\n    }\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nclass PopoutWindow extends CompositeDisposable {\n    get window() {\n        var _a, _b;\n        return (_b = (_a = this._window) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : null;\n    }\n    constructor(target, className, options) {\n        super();\n        this.target = target;\n        this.className = className;\n        this.options = options;\n        this._onWillClose = new Emitter();\n        this.onWillClose = this._onWillClose.event;\n        this._onDidClose = new Emitter();\n        this.onDidClose = this._onDidClose.event;\n        this._window = null;\n        this.addDisposables(this._onWillClose, this._onDidClose, {\n            dispose: () => {\n                this.close();\n            },\n        });\n    }\n    dimensions() {\n        if (!this._window) {\n            return null;\n        }\n        const left = this._window.value.screenX;\n        const top = this._window.value.screenY;\n        const width = this._window.value.innerWidth;\n        const height = this._window.value.innerHeight;\n        return { top, left, width, height };\n    }\n    close() {\n        var _a, _b;\n        if (this._window) {\n            this._onWillClose.fire();\n            (_b = (_a = this.options).onWillClose) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                id: this.target,\n                window: this._window.value,\n            });\n            this._window.disposable.dispose();\n            this._window = null;\n            this._onDidClose.fire();\n        }\n    }\n    open() {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._window) {\n                throw new Error('instance of popout window is already open');\n            }\n            const url = `${this.options.url}`;\n            const features = Object.entries({\n                top: this.options.top,\n                left: this.options.left,\n                width: this.options.width,\n                height: this.options.height,\n            })\n                .map(([key, value]) => `${key}=${value}`)\n                .join(',');\n            /**\n             * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/open\n             */\n            const externalWindow = window.open(url, this.target, features);\n            if (!externalWindow) {\n                /**\n                 * Popup blocked\n                 */\n                return null;\n            }\n            const disposable = new CompositeDisposable();\n            this._window = { value: externalWindow, disposable };\n            disposable.addDisposables(Disposable.from(() => {\n                externalWindow.close();\n            }), addDisposableListener(window, 'beforeunload', () => {\n                /**\n                 * before the main window closes we should close this popup too\n                 * to be good citizens\n                 *\n                 * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event\n                 */\n                this.close();\n            }));\n            const container = this.createPopoutWindowContainer();\n            if (this.className) {\n                container.classList.add(this.className);\n            }\n            (_b = (_a = this.options).onDidOpen) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                id: this.target,\n                window: externalWindow,\n            });\n            return new Promise((resolve, reject) => {\n                externalWindow.addEventListener('unload', (e) => {\n                    // if page fails to load before unloading\n                    // this.close();\n                });\n                externalWindow.addEventListener('load', () => {\n                    /**\n                     * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event\n                     */\n                    try {\n                        const externalDocument = externalWindow.document;\n                        externalDocument.title = document.title;\n                        externalDocument.body.appendChild(container);\n                        addStyles(externalDocument, window.document.styleSheets);\n                        /**\n                         * beforeunload must be registered after load for reasons I could not determine\n                         * otherwise the beforeunload event will not fire when the window is closed\n                         */\n                        addDisposableListener(externalWindow, 'beforeunload', () => {\n                            /**\n                             * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event\n                             */\n                            this.close();\n                        });\n                        resolve(container);\n                    }\n                    catch (err) {\n                        // only except this is the DOM isn't setup. e.g. in a in correctly configured test\n                        reject(err);\n                    }\n                });\n            });\n        });\n    }\n    createPopoutWindowContainer() {\n        const el = document.createElement('div');\n        el.classList.add('dv-popout-window');\n        el.id = 'dv-popout-window';\n        el.style.position = 'absolute';\n        el.style.width = '100%';\n        el.style.height = '100%';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        return el;\n    }\n}\n\nclass StrictEventsSequencing extends CompositeDisposable {\n    constructor(accessor) {\n        super();\n        this.accessor = accessor;\n        this.init();\n    }\n    init() {\n        const panels = new Set();\n        const groups = new Set();\n        this.addDisposables(this.accessor.onDidAddPanel((panel) => {\n            if (panels.has(panel.api.id)) {\n                throw new Error(`dockview: Invalid event sequence. [onDidAddPanel] called for panel ${panel.api.id} but panel already exists`);\n            }\n            else {\n                panels.add(panel.api.id);\n            }\n        }), this.accessor.onDidRemovePanel((panel) => {\n            if (!panels.has(panel.api.id)) {\n                throw new Error(`dockview: Invalid event sequence. [onDidRemovePanel] called for panel ${panel.api.id} but panel does not exists`);\n            }\n            else {\n                panels.delete(panel.api.id);\n            }\n        }), this.accessor.onDidAddGroup((group) => {\n            if (groups.has(group.api.id)) {\n                throw new Error(`dockview: Invalid event sequence. [onDidAddGroup] called for group ${group.api.id} but group already exists`);\n            }\n            else {\n                groups.add(group.api.id);\n            }\n        }), this.accessor.onDidRemoveGroup((group) => {\n            if (!groups.has(group.api.id)) {\n                throw new Error(`dockview: Invalid event sequence. [onDidRemoveGroup] called for group ${group.api.id} but group does not exists`);\n            }\n            else {\n                groups.delete(group.api.id);\n            }\n        }));\n    }\n}\n\nclass PopupService extends CompositeDisposable {\n    constructor(root) {\n        super();\n        this.root = root;\n        this._active = null;\n        this._activeDisposable = new MutableDisposable();\n        this._element = document.createElement('div');\n        this._element.className = 'dv-popover-anchor';\n        this._element.style.position = 'relative';\n        this.root.prepend(this._element);\n        this.addDisposables(Disposable.from(() => {\n            this.close();\n        }), this._activeDisposable);\n    }\n    openPopover(element, position) {\n        var _a;\n        this.close();\n        const wrapper = document.createElement('div');\n        wrapper.style.position = 'absolute';\n        wrapper.style.zIndex = (_a = position.zIndex) !== null && _a !== void 0 ? _a : 'var(--dv-overlay-z-index)';\n        wrapper.appendChild(element);\n        const anchorBox = this._element.getBoundingClientRect();\n        const offsetX = anchorBox.left;\n        const offsetY = anchorBox.top;\n        wrapper.style.top = `${position.y - offsetY}px`;\n        wrapper.style.left = `${position.x - offsetX}px`;\n        this._element.appendChild(wrapper);\n        this._active = wrapper;\n        this._activeDisposable.value = new CompositeDisposable(addDisposableListener(window, 'pointerdown', (event) => {\n            var _a;\n            const target = event.target;\n            if (!(target instanceof HTMLElement)) {\n                return;\n            }\n            let el = target;\n            while (el && el !== wrapper) {\n                el = (_a = el === null || el === void 0 ? void 0 : el.parentElement) !== null && _a !== void 0 ? _a : null;\n            }\n            if (el) {\n                return; // clicked within popover\n            }\n            this.close();\n        }), addDisposableListener(window, 'resize', () => {\n            this.close();\n        }));\n        requestAnimationFrame(() => {\n            shiftAbsoluteElementIntoView(wrapper, this.root);\n        });\n    }\n    close() {\n        if (this._active) {\n            this._active.remove();\n            this._activeDisposable.dispose();\n            this._active = null;\n        }\n    }\n}\n\nclass DropTargetAnchorContainer extends CompositeDisposable {\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        var _a;\n        if (this.disabled === value) {\n            return;\n        }\n        this._disabled = value;\n        if (value) {\n            (_a = this.model) === null || _a === void 0 ? void 0 : _a.clear();\n        }\n    }\n    get model() {\n        if (this.disabled) {\n            return undefined;\n        }\n        return {\n            clear: () => {\n                var _a;\n                if (this._model) {\n                    (_a = this._model.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this._model.root);\n                }\n                this._model = undefined;\n            },\n            exists: () => {\n                return !!this._model;\n            },\n            getElements: (event, outline) => {\n                const changed = this._outline !== outline;\n                this._outline = outline;\n                if (this._model) {\n                    this._model.changed = changed;\n                    return this._model;\n                }\n                const container = this.createContainer();\n                const anchor = this.createAnchor();\n                this._model = { root: container, overlay: anchor, changed };\n                container.appendChild(anchor);\n                this.element.appendChild(container);\n                if ((event === null || event === void 0 ? void 0 : event.target) instanceof HTMLElement) {\n                    const targetBox = event.target.getBoundingClientRect();\n                    const box = this.element.getBoundingClientRect();\n                    anchor.style.left = `${targetBox.left - box.left}px`;\n                    anchor.style.top = `${targetBox.top - box.top}px`;\n                }\n                return this._model;\n            },\n        };\n    }\n    constructor(element, options) {\n        super();\n        this.element = element;\n        this._disabled = false;\n        this._disabled = options.disabled;\n        this.addDisposables(Disposable.from(() => {\n            var _a;\n            (_a = this.model) === null || _a === void 0 ? void 0 : _a.clear();\n        }));\n    }\n    createContainer() {\n        const el = document.createElement('div');\n        el.className = 'dv-drop-target-container';\n        return el;\n    }\n    createAnchor() {\n        const el = document.createElement('div');\n        el.className = 'dv-drop-target-anchor';\n        el.style.visibility = 'hidden';\n        return el;\n    }\n}\n\nconst DEFAULT_ROOT_OVERLAY_MODEL = {\n    activationSize: { type: 'pixels', value: 10 },\n    size: { type: 'pixels', value: 20 },\n};\nfunction moveGroupWithoutDestroying(options) {\n    const activePanel = options.from.activePanel;\n    const panels = [...options.from.panels].map((panel) => {\n        const removedPanel = options.from.model.removePanel(panel);\n        options.from.model.renderContainer.detatch(panel);\n        return removedPanel;\n    });\n    panels.forEach((panel) => {\n        options.to.model.openPanel(panel, {\n            skipSetActive: activePanel !== panel,\n            skipSetGroupActive: true,\n        });\n    });\n}\nclass DockviewComponent extends BaseGrid {\n    get orientation() {\n        return this.gridview.orientation;\n    }\n    get totalPanels() {\n        return this.panels.length;\n    }\n    get panels() {\n        return this.groups.flatMap((group) => group.panels);\n    }\n    get options() {\n        return this._options;\n    }\n    get activePanel() {\n        const activeGroup = this.activeGroup;\n        if (!activeGroup) {\n            return undefined;\n        }\n        return activeGroup.activePanel;\n    }\n    get renderer() {\n        var _a;\n        return (_a = this.options.defaultRenderer) !== null && _a !== void 0 ? _a : 'onlyWhenVisible';\n    }\n    get defaultHeaderPosition() {\n        var _a;\n        return (_a = this.options.defaultHeaderPosition) !== null && _a !== void 0 ? _a : 'top';\n    }\n    get api() {\n        return this._api;\n    }\n    get floatingGroups() {\n        return this._floatingGroups;\n    }\n    /**\n     * Promise that resolves when all popout groups from the last fromJSON call are restored.\n     * Useful for tests that need to wait for delayed popout creation.\n     */\n    get popoutRestorationPromise() {\n        return this._popoutRestorationPromise;\n    }\n    constructor(container, options) {\n        var _a, _b, _c;\n        super(container, {\n            proportionalLayout: true,\n            orientation: Orientation.HORIZONTAL,\n            styles: options.hideBorders\n                ? { separatorBorder: 'transparent' }\n                : undefined,\n            disableAutoResizing: options.disableAutoResizing,\n            locked: options.locked,\n            margin: (_b = (_a = options.theme) === null || _a === void 0 ? void 0 : _a.gap) !== null && _b !== void 0 ? _b : 0,\n            className: options.className,\n        });\n        this.nextGroupId = sequentialNumberGenerator();\n        this._deserializer = new DefaultDockviewDeserialzier(this);\n        this._watermark = null;\n        this._onWillDragPanel = new Emitter();\n        this.onWillDragPanel = this._onWillDragPanel.event;\n        this._onWillDragGroup = new Emitter();\n        this.onWillDragGroup = this._onWillDragGroup.event;\n        this._onDidDrop = new Emitter();\n        this.onDidDrop = this._onDidDrop.event;\n        this._onWillDrop = new Emitter();\n        this.onWillDrop = this._onWillDrop.event;\n        this._onWillShowOverlay = new Emitter();\n        this.onWillShowOverlay = this._onWillShowOverlay.event;\n        this._onUnhandledDragOverEvent = new Emitter();\n        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;\n        this._onDidRemovePanel = new Emitter();\n        this.onDidRemovePanel = this._onDidRemovePanel.event;\n        this._onDidAddPanel = new Emitter();\n        this.onDidAddPanel = this._onDidAddPanel.event;\n        this._onDidPopoutGroupSizeChange = new Emitter();\n        this.onDidPopoutGroupSizeChange = this._onDidPopoutGroupSizeChange.event;\n        this._onDidPopoutGroupPositionChange = new Emitter();\n        this.onDidPopoutGroupPositionChange = this._onDidPopoutGroupPositionChange.event;\n        this._onDidOpenPopoutWindowFail = new Emitter();\n        this.onDidOpenPopoutWindowFail = this._onDidOpenPopoutWindowFail.event;\n        this._onDidLayoutFromJSON = new Emitter();\n        this.onDidLayoutFromJSON = this._onDidLayoutFromJSON.event;\n        this._onDidActivePanelChange = new Emitter({ replay: true });\n        this.onDidActivePanelChange = this._onDidActivePanelChange.event;\n        this._onDidMovePanel = new Emitter();\n        this.onDidMovePanel = this._onDidMovePanel.event;\n        this._onDidMaximizedGroupChange = new Emitter();\n        this.onDidMaximizedGroupChange = this._onDidMaximizedGroupChange.event;\n        this._floatingGroups = [];\n        this._popoutGroups = [];\n        this._popoutRestorationPromise = Promise.resolve();\n        this._onDidRemoveGroup = new Emitter();\n        this.onDidRemoveGroup = this._onDidRemoveGroup.event;\n        this._onDidAddGroup = new Emitter();\n        this.onDidAddGroup = this._onDidAddGroup.event;\n        this._onDidOptionsChange = new Emitter();\n        this.onDidOptionsChange = this._onDidOptionsChange.event;\n        this._onDidActiveGroupChange = new Emitter();\n        this.onDidActiveGroupChange = this._onDidActiveGroupChange.event;\n        this._moving = false;\n        this._options = options;\n        this.popupService = new PopupService(this.element);\n        this._themeClassnames = new Classnames(this.element);\n        this._api = new DockviewApi(this);\n        this.rootDropTargetContainer = new DropTargetAnchorContainer(this.element, { disabled: true });\n        this.overlayRenderContainer = new OverlayRenderContainer(this.gridview.element, this);\n        this._rootDropTarget = new Droptarget(this.element, {\n            className: 'dv-drop-target-edge',\n            canDisplayOverlay: (event, position) => {\n                const data = getPanelData();\n                if (data) {\n                    if (data.viewId !== this.id) {\n                        return false;\n                    }\n                    if (position === 'center') {\n                        // center drop target is only allowed if there are no panels in the grid\n                        // floating panels are allowed\n                        return this.gridview.length === 0;\n                    }\n                    return true;\n                }\n                if (position === 'center' && this.gridview.length !== 0) {\n                    /**\n                     * for external events only show the four-corner drag overlays, disable\n                     * the center position so that external drag events can fall through to the group\n                     * and panel drop target handlers\n                     */\n                    return false;\n                }\n                const firedEvent = new DockviewUnhandledDragOverEvent(event, 'edge', position, getPanelData);\n                this._onUnhandledDragOverEvent.fire(firedEvent);\n                return firedEvent.isAccepted;\n            },\n            acceptedTargetZones: ['top', 'bottom', 'left', 'right', 'center'],\n            overlayModel: (_c = options.rootOverlayModel) !== null && _c !== void 0 ? _c : DEFAULT_ROOT_OVERLAY_MODEL,\n            getOverrideTarget: () => { var _a; return (_a = this.rootDropTargetContainer) === null || _a === void 0 ? void 0 : _a.model; },\n        });\n        this.updateDropTargetModel(options);\n        toggleClass(this.gridview.element, 'dv-dockview', true);\n        toggleClass(this.element, 'dv-debug', !!options.debug);\n        this.updateTheme();\n        this.updateWatermark();\n        if (options.debug) {\n            this.addDisposables(new StrictEventsSequencing(this));\n        }\n        this.addDisposables(this.rootDropTargetContainer, this.overlayRenderContainer, this._onWillDragPanel, this._onWillDragGroup, this._onWillShowOverlay, this._onDidActivePanelChange, this._onDidAddPanel, this._onDidRemovePanel, this._onDidLayoutFromJSON, this._onDidDrop, this._onWillDrop, this._onDidMovePanel, this._onDidMovePanel.event(() => {\n            /**\n             * Update overlay positions after DOM layout completes to prevent 00 dimensions.\n             * With defaultRenderer=\"always\" this results in panel content not showing after move operations.\n             * Debounced to avoid multiple calls when moving groups with multiple panels.\n             */\n            this.debouncedUpdateAllPositions();\n        }), this._onDidAddGroup, this._onDidRemoveGroup, this._onDidActiveGroupChange, this._onUnhandledDragOverEvent, this._onDidMaximizedGroupChange, this._onDidOptionsChange, this._onDidPopoutGroupSizeChange, this._onDidPopoutGroupPositionChange, this._onDidOpenPopoutWindowFail, this.onDidViewVisibilityChangeMicroTaskQueue(() => {\n            this.updateWatermark();\n        }), this.onDidAdd((event) => {\n            if (!this._moving) {\n                this._onDidAddGroup.fire(event);\n            }\n        }), this.onDidRemove((event) => {\n            if (!this._moving) {\n                this._onDidRemoveGroup.fire(event);\n            }\n        }), this.onDidActiveChange((event) => {\n            if (!this._moving) {\n                this._onDidActiveGroupChange.fire(event);\n            }\n        }), this.onDidMaximizedChange((event) => {\n            this._onDidMaximizedGroupChange.fire({\n                group: event.panel,\n                isMaximized: event.isMaximized,\n            });\n        }), Event.any(this.onDidAdd, this.onDidRemove)(() => {\n            this.updateWatermark();\n        }), Event.any(this.onDidAddPanel, this.onDidRemovePanel, this.onDidAddGroup, this.onDidRemove, this.onDidMovePanel, this.onDidActivePanelChange, this.onDidPopoutGroupPositionChange, this.onDidPopoutGroupSizeChange)(() => {\n            this._bufferOnDidLayoutChange.fire();\n        }), Disposable.from(() => {\n            // iterate over a copy of the array since .dispose() mutates the original array\n            for (const group of [...this._floatingGroups]) {\n                group.dispose();\n            }\n            // iterate over a copy of the array since .dispose() mutates the original array\n            for (const group of [...this._popoutGroups]) {\n                group.disposable.dispose();\n            }\n        }), this._rootDropTarget, this._rootDropTarget.onWillShowOverlay((event) => {\n            if (this.gridview.length > 0 && event.position === 'center') {\n                // option only available when no panels in primary grid\n                return;\n            }\n            this._onWillShowOverlay.fire(new DockviewWillShowOverlayLocationEvent(event, {\n                kind: 'edge',\n                panel: undefined,\n                api: this._api,\n                group: undefined,\n                getData: getPanelData,\n            }));\n        }), this._rootDropTarget.onDrop((event) => {\n            var _a;\n            const willDropEvent = new DockviewWillDropEvent({\n                nativeEvent: event.nativeEvent,\n                position: event.position,\n                panel: undefined,\n                api: this._api,\n                group: undefined,\n                getData: getPanelData,\n                kind: 'edge',\n            });\n            this._onWillDrop.fire(willDropEvent);\n            if (willDropEvent.defaultPrevented) {\n                return;\n            }\n            const data = getPanelData();\n            if (data) {\n                this.moveGroupOrPanel({\n                    from: {\n                        groupId: data.groupId,\n                        panelId: (_a = data.panelId) !== null && _a !== void 0 ? _a : undefined,\n                    },\n                    to: {\n                        group: this.orthogonalize(event.position),\n                        position: 'center',\n                    },\n                });\n            }\n            else {\n                this._onDidDrop.fire(new DockviewDidDropEvent({\n                    nativeEvent: event.nativeEvent,\n                    position: event.position,\n                    panel: undefined,\n                    api: this._api,\n                    group: undefined,\n                    getData: getPanelData,\n                }));\n            }\n        }), this._rootDropTarget);\n    }\n    setVisible(panel, visible) {\n        switch (panel.api.location.type) {\n            case 'grid':\n                super.setVisible(panel, visible);\n                break;\n            case 'floating': {\n                const item = this.floatingGroups.find((floatingGroup) => floatingGroup.group === panel);\n                if (item) {\n                    item.overlay.setVisible(visible);\n                    panel.api._onDidVisibilityChange.fire({\n                        isVisible: visible,\n                    });\n                }\n                break;\n            }\n            case 'popout':\n                console.warn('dockview: You cannot hide a group that is in a popout window');\n                break;\n        }\n    }\n    addPopoutGroup(itemToPopout, options) {\n        var _a, _b, _c, _d, _e;\n        if (itemToPopout instanceof DockviewPanel &&\n            itemToPopout.group.size === 1) {\n            return this.addPopoutGroup(itemToPopout.group, options);\n        }\n        const theme = getDockviewTheme(this.gridview.element);\n        const element = this.element;\n        function getBox() {\n            if (options === null || options === void 0 ? void 0 : options.position) {\n                return options.position;\n            }\n            if (itemToPopout instanceof DockviewGroupPanel) {\n                return itemToPopout.element.getBoundingClientRect();\n            }\n            if (itemToPopout.group) {\n                return itemToPopout.group.element.getBoundingClientRect();\n            }\n            return element.getBoundingClientRect();\n        }\n        const box = getBox();\n        const groupId = (_b = (_a = options === null || options === void 0 ? void 0 : options.overridePopoutGroup) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : this.getNextGroupId();\n        const _window = new PopoutWindow(`${this.id}-${groupId}`, // unique id\n        theme !== null && theme !== void 0 ? theme : '', {\n            url: (_e = (_c = options === null || options === void 0 ? void 0 : options.popoutUrl) !== null && _c !== void 0 ? _c : (_d = this.options) === null || _d === void 0 ? void 0 : _d.popoutUrl) !== null && _e !== void 0 ? _e : '/popout.html',\n            left: window.screenX + box.left,\n            top: window.screenY + box.top,\n            width: box.width,\n            height: box.height,\n            onDidOpen: options === null || options === void 0 ? void 0 : options.onDidOpen,\n            onWillClose: options === null || options === void 0 ? void 0 : options.onWillClose,\n        });\n        const popoutWindowDisposable = new CompositeDisposable(_window, _window.onDidClose(() => {\n            popoutWindowDisposable.dispose();\n        }));\n        return _window\n            .open()\n            .then((popoutContainer) => {\n            var _a;\n            if (_window.isDisposed) {\n                return false;\n            }\n            const referenceGroup = (options === null || options === void 0 ? void 0 : options.referenceGroup)\n                ? options.referenceGroup\n                : itemToPopout instanceof DockviewPanel\n                    ? itemToPopout.group\n                    : itemToPopout;\n            const referenceLocation = itemToPopout.api.location.type;\n            /**\n             * The group that is being added doesn't already exist within the DOM, the most likely occurrence\n             * of this case is when being called from the `fromJSON(...)` method\n             */\n            const isGroupAddedToDom = referenceGroup.element.parentElement !== null;\n            let group;\n            if (!isGroupAddedToDom) {\n                group = referenceGroup;\n            }\n            else if (options === null || options === void 0 ? void 0 : options.overridePopoutGroup) {\n                group = options.overridePopoutGroup;\n            }\n            else {\n                group = this.createGroup({ id: groupId });\n                if (popoutContainer) {\n                    this._onDidAddGroup.fire(group);\n                }\n            }\n            if (popoutContainer === null) {\n                console.error('dockview: failed to create popout. perhaps you need to allow pop-ups for this website');\n                popoutWindowDisposable.dispose();\n                this._onDidOpenPopoutWindowFail.fire();\n                // if the popout window was blocked, we need to move the group back to the reference group\n                // and set it to visible\n                this.movingLock(() => moveGroupWithoutDestroying({\n                    from: group,\n                    to: referenceGroup,\n                }));\n                if (!referenceGroup.api.isVisible) {\n                    referenceGroup.api.setVisible(true);\n                }\n                return false;\n            }\n            const gready = document.createElement('div');\n            gready.className = 'dv-overlay-render-container';\n            const overlayRenderContainer = new OverlayRenderContainer(gready, this);\n            group.model.renderContainer = overlayRenderContainer;\n            group.layout(_window.window.innerWidth, _window.window.innerHeight);\n            let floatingBox;\n            if (!(options === null || options === void 0 ? void 0 : options.overridePopoutGroup) && isGroupAddedToDom) {\n                if (itemToPopout instanceof DockviewPanel) {\n                    this.movingLock(() => {\n                        const panel = referenceGroup.model.removePanel(itemToPopout);\n                        group.model.openPanel(panel);\n                    });\n                }\n                else {\n                    this.movingLock(() => moveGroupWithoutDestroying({\n                        from: referenceGroup,\n                        to: group,\n                    }));\n                    switch (referenceLocation) {\n                        case 'grid':\n                            referenceGroup.api.setVisible(false);\n                            break;\n                        case 'floating':\n                        case 'popout':\n                            floatingBox = (_a = this._floatingGroups\n                                .find((value) => value.group.api.id ===\n                                itemToPopout.api.id)) === null || _a === void 0 ? void 0 : _a.overlay.toJSON();\n                            this.removeGroup(referenceGroup);\n                            break;\n                    }\n                }\n            }\n            popoutContainer.classList.add('dv-dockview');\n            popoutContainer.style.overflow = 'hidden';\n            popoutContainer.appendChild(gready);\n            popoutContainer.appendChild(group.element);\n            const anchor = document.createElement('div');\n            const dropTargetContainer = new DropTargetAnchorContainer(anchor, { disabled: this.rootDropTargetContainer.disabled });\n            popoutContainer.appendChild(anchor);\n            group.model.dropTargetContainer = dropTargetContainer;\n            group.model.location = {\n                type: 'popout',\n                getWindow: () => _window.window,\n                popoutUrl: options === null || options === void 0 ? void 0 : options.popoutUrl,\n            };\n            if (isGroupAddedToDom &&\n                itemToPopout.api.location.type === 'grid') {\n                itemToPopout.api.setVisible(false);\n            }\n            this.doSetGroupAndPanelActive(group);\n            popoutWindowDisposable.addDisposables(group.api.onDidActiveChange((event) => {\n                var _a;\n                if (event.isActive) {\n                    (_a = _window.window) === null || _a === void 0 ? void 0 : _a.focus();\n                }\n            }), group.api.onWillFocus(() => {\n                var _a;\n                (_a = _window.window) === null || _a === void 0 ? void 0 : _a.focus();\n            }));\n            let returnedGroup;\n            const isValidReferenceGroup = isGroupAddedToDom &&\n                referenceGroup &&\n                this.getPanel(referenceGroup.id);\n            const value = {\n                window: _window,\n                popoutGroup: group,\n                referenceGroup: isValidReferenceGroup\n                    ? referenceGroup.id\n                    : undefined,\n                disposable: {\n                    dispose: () => {\n                        popoutWindowDisposable.dispose();\n                        return returnedGroup;\n                    },\n                },\n            };\n            const _onDidWindowPositionChange = onDidWindowMoveEnd(_window.window);\n            popoutWindowDisposable.addDisposables(_onDidWindowPositionChange, onDidWindowResizeEnd(_window.window, () => {\n                this._onDidPopoutGroupSizeChange.fire({\n                    width: _window.window.innerWidth,\n                    height: _window.window.innerHeight,\n                    group,\n                });\n            }), _onDidWindowPositionChange.event(() => {\n                this._onDidPopoutGroupPositionChange.fire({\n                    screenX: _window.window.screenX,\n                    screenY: _window.window.screenX,\n                    group,\n                });\n            }), \n            /**\n             * ResizeObserver seems slow here, I do not know why but we don't need it\n             * since we can reply on the window resize event as we will occupy the full\n             * window dimensions\n             */\n            addDisposableListener(_window.window, 'resize', () => {\n                group.layout(_window.window.innerWidth, _window.window.innerHeight);\n            }), overlayRenderContainer, Disposable.from(() => {\n                if (this.isDisposed) {\n                    return; // cleanup may run after instance is disposed\n                }\n                if (isGroupAddedToDom &&\n                    this.getPanel(referenceGroup.id)) {\n                    this.movingLock(() => moveGroupWithoutDestroying({\n                        from: group,\n                        to: referenceGroup,\n                    }));\n                    if (!referenceGroup.api.isVisible) {\n                        referenceGroup.api.setVisible(true);\n                    }\n                    if (this.getPanel(group.id)) {\n                        this.doRemoveGroup(group, {\n                            skipPopoutAssociated: true,\n                        });\n                    }\n                }\n                else if (this.getPanel(group.id)) {\n                    group.model.renderContainer =\n                        this.overlayRenderContainer;\n                    group.model.dropTargetContainer =\n                        this.rootDropTargetContainer;\n                    returnedGroup = group;\n                    const alreadyRemoved = !this._popoutGroups.find((p) => p.popoutGroup === group);\n                    if (alreadyRemoved) {\n                        /**\n                         * If this popout group was explicitly removed then we shouldn't run the additional\n                         * steps. To tell if the running of this disposable is the result of this popout group\n                         * being explicitly removed we can check if this popout group is still referenced in\n                         * the `this._popoutGroups` list.\n                         */\n                        return;\n                    }\n                    if (floatingBox) {\n                        this.addFloatingGroup(group, {\n                            height: floatingBox.height,\n                            width: floatingBox.width,\n                            position: floatingBox,\n                        });\n                    }\n                    else {\n                        this.doRemoveGroup(group, {\n                            skipDispose: true,\n                            skipActive: true,\n                            skipPopoutReturn: true,\n                        });\n                        group.model.location = { type: 'grid' };\n                        this.movingLock(() => {\n                            // suppress group add events since the group already exists\n                            this.doAddGroup(group, [0]);\n                        });\n                    }\n                    this.doSetGroupAndPanelActive(group);\n                }\n            }));\n            this._popoutGroups.push(value);\n            this.updateWatermark();\n            return true;\n        })\n            .catch((err) => {\n            console.error('dockview: failed to create popout.', err);\n            return false;\n        });\n    }\n    addFloatingGroup(item, options) {\n        var _a, _b, _c, _d, _e;\n        let group;\n        if (item instanceof DockviewPanel) {\n            group = this.createGroup();\n            this._onDidAddGroup.fire(group);\n            this.movingLock(() => this.removePanel(item, {\n                removeEmptyGroup: true,\n                skipDispose: true,\n                skipSetActiveGroup: true,\n            }));\n            this.movingLock(() => group.model.openPanel(item, { skipSetGroupActive: true }));\n        }\n        else {\n            group = item;\n            const popoutReferenceGroupId = (_a = this._popoutGroups.find((_) => _.popoutGroup === group)) === null || _a === void 0 ? void 0 : _a.referenceGroup;\n            const popoutReferenceGroup = popoutReferenceGroupId\n                ? this.getPanel(popoutReferenceGroupId)\n                : undefined;\n            const skip = typeof (options === null || options === void 0 ? void 0 : options.skipRemoveGroup) === 'boolean' &&\n                options.skipRemoveGroup;\n            if (!skip) {\n                if (popoutReferenceGroup) {\n                    this.movingLock(() => moveGroupWithoutDestroying({\n                        from: item,\n                        to: popoutReferenceGroup,\n                    }));\n                    this.doRemoveGroup(item, {\n                        skipPopoutReturn: true,\n                        skipPopoutAssociated: true,\n                    });\n                    this.doRemoveGroup(popoutReferenceGroup, {\n                        skipDispose: true,\n                    });\n                    group = popoutReferenceGroup;\n                }\n                else {\n                    this.doRemoveGroup(item, {\n                        skipDispose: true,\n                        skipPopoutReturn: true,\n                        skipPopoutAssociated: false,\n                    });\n                }\n            }\n        }\n        function getAnchoredBox() {\n            if (options === null || options === void 0 ? void 0 : options.position) {\n                const result = {};\n                if ('left' in options.position) {\n                    result.left = Math.max(options.position.left, 0);\n                }\n                else if ('right' in options.position) {\n                    result.right = Math.max(options.position.right, 0);\n                }\n                else {\n                    result.left = DEFAULT_FLOATING_GROUP_POSITION.left;\n                }\n                if ('top' in options.position) {\n                    result.top = Math.max(options.position.top, 0);\n                }\n                else if ('bottom' in options.position) {\n                    result.bottom = Math.max(options.position.bottom, 0);\n                }\n                else {\n                    result.top = DEFAULT_FLOATING_GROUP_POSITION.top;\n                }\n                if (typeof options.width === 'number') {\n                    result.width = Math.max(options.width, 0);\n                }\n                else {\n                    result.width = DEFAULT_FLOATING_GROUP_POSITION.width;\n                }\n                if (typeof options.height === 'number') {\n                    result.height = Math.max(options.height, 0);\n                }\n                else {\n                    result.height = DEFAULT_FLOATING_GROUP_POSITION.height;\n                }\n                return result;\n            }\n            return {\n                left: typeof (options === null || options === void 0 ? void 0 : options.x) === 'number'\n                    ? Math.max(options.x, 0)\n                    : DEFAULT_FLOATING_GROUP_POSITION.left,\n                top: typeof (options === null || options === void 0 ? void 0 : options.y) === 'number'\n                    ? Math.max(options.y, 0)\n                    : DEFAULT_FLOATING_GROUP_POSITION.top,\n                width: typeof (options === null || options === void 0 ? void 0 : options.width) === 'number'\n                    ? Math.max(options.width, 0)\n                    : DEFAULT_FLOATING_GROUP_POSITION.width,\n                height: typeof (options === null || options === void 0 ? void 0 : options.height) === 'number'\n                    ? Math.max(options.height, 0)\n                    : DEFAULT_FLOATING_GROUP_POSITION.height,\n            };\n        }\n        const anchoredBox = getAnchoredBox();\n        const overlay = new Overlay(Object.assign(Object.assign({ container: this.gridview.element, content: group.element }, anchoredBox), { minimumInViewportWidth: this.options.floatingGroupBounds === 'boundedWithinViewport'\n                ? undefined\n                : ((_c = (_b = this.options.floatingGroupBounds) === null || _b === void 0 ? void 0 : _b.minimumWidthWithinViewport) !== null && _c !== void 0 ? _c : DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE), minimumInViewportHeight: this.options.floatingGroupBounds === 'boundedWithinViewport'\n                ? undefined\n                : ((_e = (_d = this.options.floatingGroupBounds) === null || _d === void 0 ? void 0 : _d.minimumHeightWithinViewport) !== null && _e !== void 0 ? _e : DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE) }));\n        const el = group.element.querySelector('.dv-void-container');\n        if (!el) {\n            throw new Error('dockview: failed to find drag handle');\n        }\n        overlay.setupDrag(el, {\n            inDragMode: typeof (options === null || options === void 0 ? void 0 : options.inDragMode) === 'boolean'\n                ? options.inDragMode\n                : false,\n        });\n        const floatingGroupPanel = new DockviewFloatingGroupPanel(group, overlay);\n        const disposable = new CompositeDisposable(group.api.onDidActiveChange((event) => {\n            if (event.isActive) {\n                overlay.bringToFront();\n            }\n        }), watchElementResize(group.element, (entry) => {\n            const { width, height } = entry.contentRect;\n            group.layout(width, height); // let the group know it's size is changing so it can fire events to the panel\n        }));\n        floatingGroupPanel.addDisposables(overlay.onDidChange(() => {\n            // this is either a resize or a move\n            // to inform the panels .layout(...) the group with it's current size\n            // don't care about resize since the above watcher handles that\n            group.layout(group.width, group.height);\n        }), overlay.onDidChangeEnd(() => {\n            this._bufferOnDidLayoutChange.fire();\n        }), group.onDidChange((event) => {\n            overlay.setBounds({\n                height: event === null || event === void 0 ? void 0 : event.height,\n                width: event === null || event === void 0 ? void 0 : event.width,\n            });\n        }), {\n            dispose: () => {\n                disposable.dispose();\n                remove(this._floatingGroups, floatingGroupPanel);\n                group.model.location = { type: 'grid' };\n                this.updateWatermark();\n            },\n        });\n        this._floatingGroups.push(floatingGroupPanel);\n        group.model.location = { type: 'floating' };\n        if (!(options === null || options === void 0 ? void 0 : options.skipActiveGroup)) {\n            this.doSetGroupAndPanelActive(group);\n        }\n        this.updateWatermark();\n    }\n    orthogonalize(position, options) {\n        this.gridview.normalize();\n        switch (position) {\n            case 'top':\n            case 'bottom':\n                if (this.gridview.orientation === Orientation.HORIZONTAL) {\n                    // we need to add to a vertical splitview but the current root is a horizontal splitview.\n                    // insert a vertical splitview at the root level and add the existing view as a child\n                    this.gridview.insertOrthogonalSplitviewAtRoot();\n                }\n                break;\n            case 'left':\n            case 'right':\n                if (this.gridview.orientation === Orientation.VERTICAL) {\n                    // we need to add to a horizontal splitview but the current root is a vertical splitview.\n                    // insert a horiziontal splitview at the root level and add the existing view as a child\n                    this.gridview.insertOrthogonalSplitviewAtRoot();\n                }\n                break;\n        }\n        switch (position) {\n            case 'top':\n            case 'left':\n            case 'center':\n                return this.createGroupAtLocation([0], undefined, options); // insert into first position\n            case 'bottom':\n            case 'right':\n                return this.createGroupAtLocation([this.gridview.length], undefined, options); // insert into last position\n            default:\n                throw new Error(`dockview: unsupported position ${position}`);\n        }\n    }\n    updateOptions(options) {\n        var _a, _b;\n        super.updateOptions(options);\n        if ('floatingGroupBounds' in options) {\n            for (const group of this._floatingGroups) {\n                switch (options.floatingGroupBounds) {\n                    case 'boundedWithinViewport':\n                        group.overlay.minimumInViewportHeight = undefined;\n                        group.overlay.minimumInViewportWidth = undefined;\n                        break;\n                    case undefined:\n                        group.overlay.minimumInViewportHeight =\n                            DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE;\n                        group.overlay.minimumInViewportWidth =\n                            DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE;\n                        break;\n                    default:\n                        group.overlay.minimumInViewportHeight =\n                            (_a = options.floatingGroupBounds) === null || _a === void 0 ? void 0 : _a.minimumHeightWithinViewport;\n                        group.overlay.minimumInViewportWidth =\n                            (_b = options.floatingGroupBounds) === null || _b === void 0 ? void 0 : _b.minimumWidthWithinViewport;\n                }\n                group.overlay.setBounds();\n            }\n        }\n        this.updateDropTargetModel(options);\n        const oldDisableDnd = this.options.disableDnd;\n        this._options = Object.assign(Object.assign({}, this.options), options);\n        const newDisableDnd = this.options.disableDnd;\n        if (oldDisableDnd !== newDisableDnd) {\n            this.updateDragAndDropState();\n        }\n        if ('theme' in options) {\n            this.updateTheme();\n        }\n        if ('createRightHeaderActionComponent' in options ||\n            'createLeftHeaderActionComponent' in options ||\n            'createPrefixHeaderActionComponent' in options) {\n            for (const group of this.groups) {\n                group.model.updateHeaderActions();\n            }\n        }\n        this.layout(this.gridview.width, this.gridview.height, true);\n    }\n    layout(width, height, forceResize) {\n        super.layout(width, height, forceResize);\n        if (this._floatingGroups) {\n            for (const floating of this._floatingGroups) {\n                // ensure floting groups stay within visible boundaries\n                floating.overlay.setBounds();\n            }\n        }\n    }\n    updateDragAndDropState() {\n        // Update draggable state for all tabs and void containers\n        for (const group of this.groups) {\n            group.model.updateDragAndDropState();\n        }\n    }\n    focus() {\n        var _a;\n        (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    getGroupPanel(id) {\n        return this.panels.find((panel) => panel.id === id);\n    }\n    setActivePanel(panel) {\n        panel.group.model.openPanel(panel);\n        this.doSetGroupAndPanelActive(panel.group);\n    }\n    moveToNext(options = {}) {\n        var _a;\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n        if (options.includePanel && options.group) {\n            if (options.group.activePanel !==\n                options.group.panels[options.group.panels.length - 1]) {\n                options.group.model.moveToNext({ suppressRoll: true });\n                return;\n            }\n        }\n        const location = getGridLocation(options.group.element);\n        const next = (_a = this.gridview.next(location)) === null || _a === void 0 ? void 0 : _a.view;\n        this.doSetGroupAndPanelActive(next);\n    }\n    moveToPrevious(options = {}) {\n        var _a;\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n        if (options.includePanel && options.group) {\n            if (options.group.activePanel !== options.group.panels[0]) {\n                options.group.model.moveToPrevious({ suppressRoll: true });\n                return;\n            }\n        }\n        const location = getGridLocation(options.group.element);\n        const next = (_a = this.gridview.previous(location)) === null || _a === void 0 ? void 0 : _a.view;\n        if (next) {\n            this.doSetGroupAndPanelActive(next);\n        }\n    }\n    /**\n     * Serialize the current state of the layout\n     *\n     * @returns A JSON respresentation of the layout\n     */\n    toJSON() {\n        var _a;\n        const data = this.gridview.serialize();\n        const panels = this.panels.reduce((collection, panel) => {\n            collection[panel.id] = panel.toJSON();\n            return collection;\n        }, {});\n        const floats = this._floatingGroups.map((group) => {\n            return {\n                data: group.group.toJSON(),\n                position: group.overlay.toJSON(),\n            };\n        });\n        const popoutGroups = this._popoutGroups.map((group) => {\n            return {\n                data: group.popoutGroup.toJSON(),\n                gridReferenceGroup: group.referenceGroup,\n                position: group.window.dimensions(),\n                url: group.popoutGroup.api.location.type === 'popout'\n                    ? group.popoutGroup.api.location.popoutUrl\n                    : undefined,\n            };\n        });\n        const result = {\n            grid: data,\n            panels,\n            activeGroup: (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.id,\n        };\n        if (floats.length > 0) {\n            result.floatingGroups = floats;\n        }\n        if (popoutGroups.length > 0) {\n            result.popoutGroups = popoutGroups;\n        }\n        return result;\n    }\n    fromJSON(data, options) {\n        var _a, _b;\n        const existingPanels = new Map();\n        let tempGroup;\n        if (options === null || options === void 0 ? void 0 : options.reuseExistingPanels) {\n            /**\n             * What are we doing here?\n             *\n             * 1. Create a temporary group to hold any panels that currently exist and that also exist in the new layout\n             * 2. Remove that temporary group from the group mapping so that it doesn't get cleared when we clear the layout\n             */\n            tempGroup = this.createGroup();\n            this._groups.delete(tempGroup.api.id);\n            const newPanels = Object.keys(data.panels);\n            for (const panel of this.panels) {\n                if (newPanels.includes(panel.api.id)) {\n                    existingPanels.set(panel.api.id, panel);\n                }\n            }\n            this.movingLock(() => {\n                Array.from(existingPanels.values()).forEach((panel) => {\n                    this.moveGroupOrPanel({\n                        from: {\n                            groupId: panel.api.group.api.id,\n                            panelId: panel.api.id,\n                        },\n                        to: {\n                            group: tempGroup,\n                            position: 'center',\n                        },\n                        keepEmptyGroups: true,\n                    });\n                });\n            });\n        }\n        this.clear();\n        if (typeof data !== 'object' || data === null) {\n            throw new Error('dockview: serialized layout must be a non-null object');\n        }\n        const { grid, panels, activeGroup } = data;\n        if (grid.root.type !== 'branch' || !Array.isArray(grid.root.data)) {\n            throw new Error('dockview: root must be of type branch');\n        }\n        try {\n            // take note of the existing dimensions\n            const width = this.width;\n            const height = this.height;\n            const createGroupFromSerializedState = (data) => {\n                const { id, locked, hideHeader, headerPosition, views, activeView, } = data;\n                if (typeof id !== 'string') {\n                    throw new Error('dockview: group id must be of type string');\n                }\n                const group = this.createGroup({\n                    id,\n                    locked: !!locked,\n                    hideHeader: !!hideHeader,\n                    headerPosition,\n                });\n                this._onDidAddGroup.fire(group);\n                const createdPanels = [];\n                for (const child of views) {\n                    /**\n                     * Run the deserializer step seperately since this may fail to due corrupted external state.\n                     * In running this section first we avoid firing lots of 'add' events in the event of a failure\n                     * due to a corruption of input data.\n                     */\n                    const existingPanel = existingPanels.get(child);\n                    if (tempGroup && existingPanel) {\n                        this.movingLock(() => {\n                            tempGroup.model.removePanel(existingPanel);\n                        });\n                        createdPanels.push(existingPanel);\n                        existingPanel.updateFromStateModel(panels[child]);\n                    }\n                    else {\n                        const panel = this._deserializer.fromJSON(panels[child], group);\n                        createdPanels.push(panel);\n                    }\n                }\n                for (let i = 0; i < views.length; i++) {\n                    const panel = createdPanels[i];\n                    const isActive = typeof activeView === 'string' &&\n                        activeView === panel.id;\n                    const hasExisting = existingPanels.has(panel.api.id);\n                    if (hasExisting) {\n                        this.movingLock(() => {\n                            group.model.openPanel(panel, {\n                                skipSetActive: !isActive,\n                                skipSetGroupActive: true,\n                            });\n                        });\n                    }\n                    else {\n                        group.model.openPanel(panel, {\n                            skipSetActive: !isActive,\n                            skipSetGroupActive: true,\n                        });\n                    }\n                }\n                if (!group.activePanel && group.panels.length > 0) {\n                    group.model.openPanel(group.panels[group.panels.length - 1], {\n                        skipSetGroupActive: true,\n                    });\n                }\n                return group;\n            };\n            this.gridview.deserialize(grid, {\n                fromJSON: (node) => {\n                    return createGroupFromSerializedState(node.data);\n                },\n            });\n            this.layout(width, height, true);\n            const serializedFloatingGroups = (_a = data.floatingGroups) !== null && _a !== void 0 ? _a : [];\n            for (const serializedFloatingGroup of serializedFloatingGroups) {\n                const { data, position } = serializedFloatingGroup;\n                const group = createGroupFromSerializedState(data);\n                this.addFloatingGroup(group, {\n                    position: position,\n                    width: position.width,\n                    height: position.height,\n                    skipRemoveGroup: true,\n                    inDragMode: false,\n                });\n            }\n            const serializedPopoutGroups = (_b = data.popoutGroups) !== null && _b !== void 0 ? _b : [];\n            // Create a promise that resolves when all popout groups are created\n            const popoutPromises = [];\n            // Queue popup group creation with delays to avoid browser blocking\n            serializedPopoutGroups.forEach((serializedPopoutGroup, index) => {\n                const { data, position, gridReferenceGroup, url } = serializedPopoutGroup;\n                const group = createGroupFromSerializedState(data);\n                // Add a small delay for each popup after the first to avoid browser popup blocking\n                const popoutPromise = new Promise((resolve) => {\n                    setTimeout(() => {\n                        this.addPopoutGroup(group, {\n                            position: position !== null && position !== void 0 ? position : undefined,\n                            overridePopoutGroup: gridReferenceGroup\n                                ? group\n                                : undefined,\n                            referenceGroup: gridReferenceGroup\n                                ? this.getPanel(gridReferenceGroup)\n                                : undefined,\n                            popoutUrl: url,\n                        });\n                        resolve();\n                    }, index * DESERIALIZATION_POPOUT_DELAY_MS); // 100ms delay between each popup\n                });\n                popoutPromises.push(popoutPromise);\n            });\n            // Store the promise for tests to wait on\n            this._popoutRestorationPromise = Promise.all(popoutPromises).then(() => void 0);\n            for (const floatingGroup of this._floatingGroups) {\n                floatingGroup.overlay.setBounds();\n            }\n            if (typeof activeGroup === 'string') {\n                const panel = this.getPanel(activeGroup);\n                if (panel) {\n                    this.doSetGroupAndPanelActive(panel);\n                }\n            }\n        }\n        catch (err) {\n            console.error('dockview: failed to deserialize layout. Reverting changes', err);\n            /**\n             * Takes all the successfully created groups and remove all of their panels.\n             */\n            for (const group of this.groups) {\n                for (const panel of group.panels) {\n                    this.removePanel(panel, {\n                        removeEmptyGroup: false,\n                        skipDispose: false,\n                    });\n                }\n            }\n            /**\n             * To remove a group we cannot call this.removeGroup(...) since this makes assumptions about\n             * the underlying HTMLElement existing in the Gridview.\n             */\n            for (const group of this.groups) {\n                group.dispose();\n                this._groups.delete(group.id);\n                this._onDidRemoveGroup.fire(group);\n            }\n            // iterate over a reassigned array since original array will be modified\n            for (const floatingGroup of [...this._floatingGroups]) {\n                floatingGroup.dispose();\n            }\n            // fires clean-up events and clears the underlying HTML gridview.\n            this.clear();\n            /**\n             * even though we have cleaned-up we still want to inform the caller of their error\n             * and we'll do this through re-throwing the original error since afterall you would\n             * expect trying to load a corrupted layout to result in an error and not silently fail...\n             */\n            throw err;\n        }\n        this.updateWatermark();\n        // Force position updates for always visible panels after DOM layout is complete\n        this.debouncedUpdateAllPositions();\n        this._onDidLayoutFromJSON.fire();\n    }\n    clear() {\n        const groups = Array.from(this._groups.values()).map((_) => _.value);\n        const hasActiveGroup = !!this.activeGroup;\n        for (const group of groups) {\n            // remove the group will automatically remove the panels\n            this.removeGroup(group, { skipActive: true });\n        }\n        if (hasActiveGroup) {\n            this.doSetGroupAndPanelActive(undefined);\n        }\n        this.gridview.clear();\n    }\n    closeAllGroups() {\n        for (const entry of this._groups.entries()) {\n            const [_, group] = entry;\n            group.value.model.closeAllPanels();\n        }\n    }\n    addPanel(options) {\n        var _a, _b;\n        if (this.panels.find((_) => _.id === options.id)) {\n            throw new Error(`dockview: panel with id ${options.id} already exists`);\n        }\n        let referenceGroup;\n        if (options.position && options.floating) {\n            throw new Error('dockview: you can only provide one of: position, floating as arguments to .addPanel(...)');\n        }\n        const initial = {\n            width: options.initialWidth,\n            height: options.initialHeight,\n        };\n        let index;\n        if (options.position) {\n            if (isPanelOptionsWithPanel(options.position)) {\n                const referencePanel = typeof options.position.referencePanel === 'string'\n                    ? this.getGroupPanel(options.position.referencePanel)\n                    : options.position.referencePanel;\n                index = options.position.index;\n                if (!referencePanel) {\n                    throw new Error(`dockview: referencePanel '${options.position.referencePanel}' does not exist`);\n                }\n                referenceGroup = this.findGroup(referencePanel);\n            }\n            else if (isPanelOptionsWithGroup(options.position)) {\n                referenceGroup =\n                    typeof options.position.referenceGroup === 'string'\n                        ? (_a = this._groups.get(options.position.referenceGroup)) === null || _a === void 0 ? void 0 : _a.value\n                        : options.position.referenceGroup;\n                index = options.position.index;\n                if (!referenceGroup) {\n                    throw new Error(`dockview: referenceGroup '${options.position.referenceGroup}' does not exist`);\n                }\n            }\n            else {\n                const group = this.orthogonalize(directionToPosition(options.position.direction));\n                const panel = this.createPanel(options, group);\n                group.model.openPanel(panel, {\n                    skipSetActive: options.inactive,\n                    skipSetGroupActive: options.inactive,\n                    index,\n                });\n                if (!options.inactive) {\n                    this.doSetGroupAndPanelActive(group);\n                }\n                group.api.setSize({\n                    height: initial === null || initial === void 0 ? void 0 : initial.height,\n                    width: initial === null || initial === void 0 ? void 0 : initial.width,\n                });\n                return panel;\n            }\n        }\n        else {\n            referenceGroup = this.activeGroup;\n        }\n        let panel;\n        if (referenceGroup) {\n            const target = toTarget(((_b = options.position) === null || _b === void 0 ? void 0 : _b.direction) || 'within');\n            if (options.floating) {\n                const group = this.createGroup();\n                this._onDidAddGroup.fire(group);\n                const floatingGroupOptions = typeof options.floating === 'object' &&\n                    options.floating !== null\n                    ? options.floating\n                    : {};\n                this.addFloatingGroup(group, Object.assign(Object.assign({}, floatingGroupOptions), { inDragMode: false, skipRemoveGroup: true, skipActiveGroup: true }));\n                panel = this.createPanel(options, group);\n                group.model.openPanel(panel, {\n                    skipSetActive: options.inactive,\n                    skipSetGroupActive: options.inactive,\n                    index,\n                });\n            }\n            else if (referenceGroup.api.location.type === 'floating' ||\n                target === 'center') {\n                panel = this.createPanel(options, referenceGroup);\n                referenceGroup.model.openPanel(panel, {\n                    skipSetActive: options.inactive,\n                    skipSetGroupActive: options.inactive,\n                    index,\n                });\n                referenceGroup.api.setSize({\n                    width: initial === null || initial === void 0 ? void 0 : initial.width,\n                    height: initial === null || initial === void 0 ? void 0 : initial.height,\n                });\n                if (!options.inactive) {\n                    this.doSetGroupAndPanelActive(referenceGroup);\n                }\n            }\n            else {\n                const location = getGridLocation(referenceGroup.element);\n                const relativeLocation = getRelativeLocation(this.gridview.orientation, location, target);\n                const group = this.createGroupAtLocation(relativeLocation, this.orientationAtLocation(relativeLocation) ===\n                    Orientation.VERTICAL\n                    ? initial === null || initial === void 0 ? void 0 : initial.height\n                    : initial === null || initial === void 0 ? void 0 : initial.width);\n                panel = this.createPanel(options, group);\n                group.model.openPanel(panel, {\n                    skipSetActive: options.inactive,\n                    skipSetGroupActive: options.inactive,\n                    index,\n                });\n                if (!options.inactive) {\n                    this.doSetGroupAndPanelActive(group);\n                }\n            }\n        }\n        else if (options.floating) {\n            const group = this.createGroup();\n            this._onDidAddGroup.fire(group);\n            const coordinates = typeof options.floating === 'object' &&\n                options.floating !== null\n                ? options.floating\n                : {};\n            this.addFloatingGroup(group, Object.assign(Object.assign({}, coordinates), { inDragMode: false, skipRemoveGroup: true, skipActiveGroup: true }));\n            panel = this.createPanel(options, group);\n            group.model.openPanel(panel, {\n                skipSetActive: options.inactive,\n                skipSetGroupActive: options.inactive,\n                index,\n            });\n        }\n        else {\n            const group = this.createGroupAtLocation([0], this.gridview.orientation === Orientation.VERTICAL\n                ? initial === null || initial === void 0 ? void 0 : initial.height\n                : initial === null || initial === void 0 ? void 0 : initial.width);\n            panel = this.createPanel(options, group);\n            group.model.openPanel(panel, {\n                skipSetActive: options.inactive,\n                skipSetGroupActive: options.inactive,\n                index,\n            });\n            if (!options.inactive) {\n                this.doSetGroupAndPanelActive(group);\n            }\n        }\n        return panel;\n    }\n    removePanel(panel, options = {\n        removeEmptyGroup: true,\n    }) {\n        const group = panel.group;\n        if (!group) {\n            throw new Error(`dockview: cannot remove panel ${panel.id}. it's missing a group.`);\n        }\n        group.model.removePanel(panel, {\n            skipSetActiveGroup: options.skipSetActiveGroup,\n        });\n        if (!options.skipDispose) {\n            panel.group.model.renderContainer.detatch(panel);\n            panel.dispose();\n        }\n        if (group.size === 0 && options.removeEmptyGroup) {\n            this.removeGroup(group, { skipActive: options.skipSetActiveGroup });\n        }\n    }\n    createWatermarkComponent() {\n        if (this.options.createWatermarkComponent) {\n            return this.options.createWatermarkComponent();\n        }\n        return new Watermark();\n    }\n    updateWatermark() {\n        var _a, _b;\n        if (this.groups.filter((x) => x.api.location.type === 'grid' && x.api.isVisible).length === 0) {\n            if (!this._watermark) {\n                this._watermark = this.createWatermarkComponent();\n                this._watermark.init({\n                    containerApi: new DockviewApi(this),\n                });\n                const watermarkContainer = document.createElement('div');\n                watermarkContainer.className = 'dv-watermark-container';\n                addTestId(watermarkContainer, 'watermark-component');\n                watermarkContainer.appendChild(this._watermark.element);\n                this.gridview.element.appendChild(watermarkContainer);\n            }\n        }\n        else if (this._watermark) {\n            this._watermark.element.parentElement.remove();\n            (_b = (_a = this._watermark).dispose) === null || _b === void 0 ? void 0 : _b.call(_a);\n            this._watermark = null;\n        }\n    }\n    addGroup(options) {\n        var _a;\n        if (options) {\n            let referenceGroup;\n            if (isGroupOptionsWithPanel(options)) {\n                const referencePanel = typeof options.referencePanel === 'string'\n                    ? this.panels.find((panel) => panel.id === options.referencePanel)\n                    : options.referencePanel;\n                if (!referencePanel) {\n                    throw new Error(`dockview: reference panel ${options.referencePanel} does not exist`);\n                }\n                referenceGroup = this.findGroup(referencePanel);\n                if (!referenceGroup) {\n                    throw new Error(`dockview: reference group for reference panel ${options.referencePanel} does not exist`);\n                }\n            }\n            else if (isGroupOptionsWithGroup(options)) {\n                referenceGroup =\n                    typeof options.referenceGroup === 'string'\n                        ? (_a = this._groups.get(options.referenceGroup)) === null || _a === void 0 ? void 0 : _a.value\n                        : options.referenceGroup;\n                if (!referenceGroup) {\n                    throw new Error(`dockview: reference group ${options.referenceGroup} does not exist`);\n                }\n            }\n            else {\n                const group = this.orthogonalize(directionToPosition(options.direction), options);\n                if (!options.skipSetActive) {\n                    this.doSetGroupAndPanelActive(group);\n                }\n                return group;\n            }\n            const target = toTarget(options.direction || 'within');\n            const location = getGridLocation(referenceGroup.element);\n            const relativeLocation = getRelativeLocation(this.gridview.orientation, location, target);\n            const group = this.createGroup(options);\n            const size = this.getLocationOrientation(relativeLocation) ===\n                Orientation.VERTICAL\n                ? options.initialHeight\n                : options.initialWidth;\n            this.doAddGroup(group, relativeLocation, size);\n            if (!options.skipSetActive) {\n                this.doSetGroupAndPanelActive(group);\n            }\n            return group;\n        }\n        else {\n            const group = this.createGroup(options);\n            this.doAddGroup(group);\n            this.doSetGroupAndPanelActive(group);\n            return group;\n        }\n    }\n    getLocationOrientation(location) {\n        return location.length % 2 == 0 &&\n            this.gridview.orientation === Orientation.HORIZONTAL\n            ? Orientation.HORIZONTAL\n            : Orientation.VERTICAL;\n    }\n    removeGroup(group, options) {\n        this.doRemoveGroup(group, options);\n    }\n    doRemoveGroup(group, options) {\n        var _a;\n        const panels = [...group.panels]; // reassign since group panels will mutate\n        if (!(options === null || options === void 0 ? void 0 : options.skipDispose)) {\n            for (const panel of panels) {\n                this.removePanel(panel, {\n                    removeEmptyGroup: false,\n                    skipDispose: (_a = options === null || options === void 0 ? void 0 : options.skipDispose) !== null && _a !== void 0 ? _a : false,\n                });\n            }\n        }\n        const activePanel = this.activePanel;\n        if (group.api.location.type === 'floating') {\n            const floatingGroup = this._floatingGroups.find((_) => _.group === group);\n            if (floatingGroup) {\n                if (!(options === null || options === void 0 ? void 0 : options.skipDispose)) {\n                    floatingGroup.group.dispose();\n                    this._groups.delete(group.id);\n                    this._onDidRemoveGroup.fire(group);\n                }\n                remove(this._floatingGroups, floatingGroup);\n                floatingGroup.dispose();\n                if (!(options === null || options === void 0 ? void 0 : options.skipActive) && this._activeGroup === group) {\n                    const groups = Array.from(this._groups.values());\n                    this.doSetGroupAndPanelActive(groups.length > 0 ? groups[0].value : undefined);\n                }\n                return floatingGroup.group;\n            }\n            throw new Error('dockview: failed to find floating group');\n        }\n        if (group.api.location.type === 'popout') {\n            const selectedGroup = this._popoutGroups.find((_) => _.popoutGroup === group);\n            if (selectedGroup) {\n                if (!(options === null || options === void 0 ? void 0 : options.skipDispose)) {\n                    if (!(options === null || options === void 0 ? void 0 : options.skipPopoutAssociated)) {\n                        const refGroup = selectedGroup.referenceGroup\n                            ? this.getPanel(selectedGroup.referenceGroup)\n                            : undefined;\n                        if (refGroup && refGroup.panels.length === 0) {\n                            this.removeGroup(refGroup);\n                        }\n                    }\n                    selectedGroup.popoutGroup.dispose();\n                    this._groups.delete(group.id);\n                    this._onDidRemoveGroup.fire(group);\n                }\n                remove(this._popoutGroups, selectedGroup);\n                const removedGroup = selectedGroup.disposable.dispose();\n                if (!(options === null || options === void 0 ? void 0 : options.skipPopoutReturn) && removedGroup) {\n                    this.doAddGroup(removedGroup, [0]);\n                    this.doSetGroupAndPanelActive(removedGroup);\n                }\n                if (!(options === null || options === void 0 ? void 0 : options.skipActive) && this._activeGroup === group) {\n                    const groups = Array.from(this._groups.values());\n                    this.doSetGroupAndPanelActive(groups.length > 0 ? groups[0].value : undefined);\n                }\n                this.updateWatermark();\n                return selectedGroup.popoutGroup;\n            }\n            throw new Error('dockview: failed to find popout group');\n        }\n        const re = super.doRemoveGroup(group, options);\n        if (!(options === null || options === void 0 ? void 0 : options.skipActive)) {\n            if (this.activePanel !== activePanel) {\n                this._onDidActivePanelChange.fire(this.activePanel);\n            }\n        }\n        return re;\n    }\n    debouncedUpdateAllPositions() {\n        if (this._updatePositionsFrameId !== undefined) {\n            cancelAnimationFrame(this._updatePositionsFrameId);\n        }\n        this._updatePositionsFrameId = requestAnimationFrame(() => {\n            this._updatePositionsFrameId = undefined;\n            this.overlayRenderContainer.updateAllPositions();\n        });\n    }\n    movingLock(func) {\n        const isMoving = this._moving;\n        try {\n            this._moving = true;\n            return func();\n        }\n        finally {\n            this._moving = isMoving;\n        }\n    }\n    moveGroupOrPanel(options) {\n        var _a;\n        const destinationGroup = options.to.group;\n        const sourceGroupId = options.from.groupId;\n        const sourceItemId = options.from.panelId;\n        const destinationTarget = options.to.position;\n        const destinationIndex = options.to.index;\n        const sourceGroup = sourceGroupId\n            ? (_a = this._groups.get(sourceGroupId)) === null || _a === void 0 ? void 0 : _a.value\n            : undefined;\n        if (!sourceGroup) {\n            throw new Error(`dockview: Failed to find group id ${sourceGroupId}`);\n        }\n        if (sourceItemId === undefined) {\n            /**\n             * Moving an entire group into another group\n             */\n            this.moveGroup({\n                from: { group: sourceGroup },\n                to: {\n                    group: destinationGroup,\n                    position: destinationTarget,\n                },\n                skipSetActive: options.skipSetActive,\n            });\n            return;\n        }\n        if (!destinationTarget || destinationTarget === 'center') {\n            /**\n             * Dropping a panel within another group\n             */\n            const removedPanel = this.movingLock(() => sourceGroup.model.removePanel(sourceItemId, {\n                skipSetActive: false,\n                skipSetActiveGroup: true,\n            }));\n            if (!removedPanel) {\n                throw new Error(`dockview: No panel with id ${sourceItemId}`);\n            }\n            if (!options.keepEmptyGroups && sourceGroup.model.size === 0) {\n                // remove the group and do not set a new group as active\n                this.doRemoveGroup(sourceGroup, { skipActive: true });\n            }\n            // Check if destination group is empty - if so, force render the component\n            const isDestinationGroupEmpty = destinationGroup.model.size === 0;\n            this.movingLock(() => {\n                var _a;\n                return destinationGroup.model.openPanel(removedPanel, {\n                    index: destinationIndex,\n                    skipSetActive: ((_a = options.skipSetActive) !== null && _a !== void 0 ? _a : false) &&\n                        !isDestinationGroupEmpty,\n                    skipSetGroupActive: true,\n                });\n            });\n            if (!options.skipSetActive) {\n                this.doSetGroupAndPanelActive(destinationGroup);\n            }\n            this._onDidMovePanel.fire({\n                panel: removedPanel,\n                from: sourceGroup,\n            });\n        }\n        else {\n            /**\n             * Dropping a panel to the extremities of a group which will place that panel\n             * into an adjacent group\n             */\n            const referenceLocation = getGridLocation(destinationGroup.element);\n            const targetLocation = getRelativeLocation(this.gridview.orientation, referenceLocation, destinationTarget);\n            if (sourceGroup.size < 2) {\n                /**\n                 * If we are moving from a group which only has one panel left we will consider\n                 * moving the group itself rather than moving the panel into a newly created group\n                 */\n                const [targetParentLocation, to] = tail(targetLocation);\n                if (sourceGroup.api.location.type === 'grid') {\n                    const sourceLocation = getGridLocation(sourceGroup.element);\n                    const [sourceParentLocation, from] = tail(sourceLocation);\n                    if (sequenceEquals(sourceParentLocation, targetParentLocation)) {\n                        // special case when 'swapping' two views within same grid location\n                        // if a group has one tab - we are essentially moving the 'group'\n                        // which is equivalent to swapping two views in this case\n                        this.gridview.moveView(sourceParentLocation, from, to);\n                        this._onDidMovePanel.fire({\n                            panel: this.getGroupPanel(sourceItemId),\n                            from: sourceGroup,\n                        });\n                        return;\n                    }\n                }\n                if (sourceGroup.api.location.type === 'popout') {\n                    /**\n                     * the source group is a popout group with a single panel\n                     *\n                     * 1. remove the panel from the group without triggering any events\n                     * 2. remove the popout group\n                     * 3. create a new group at the requested location and add that panel\n                     */\n                    const popoutGroup = this._popoutGroups.find((group) => group.popoutGroup === sourceGroup);\n                    const removedPanel = this.movingLock(() => popoutGroup.popoutGroup.model.removePanel(popoutGroup.popoutGroup.panels[0], {\n                        skipSetActive: true,\n                        skipSetActiveGroup: true,\n                    }));\n                    this.doRemoveGroup(sourceGroup, { skipActive: true });\n                    const newGroup = this.createGroupAtLocation(targetLocation);\n                    this.movingLock(() => newGroup.model.openPanel(removedPanel, {\n                        skipSetActive: true,\n                    }));\n                    this.doSetGroupAndPanelActive(newGroup);\n                    this._onDidMovePanel.fire({\n                        panel: this.getGroupPanel(sourceItemId),\n                        from: sourceGroup,\n                    });\n                    return;\n                }\n                // source group will become empty so delete the group\n                const targetGroup = this.movingLock(() => this.doRemoveGroup(sourceGroup, {\n                    skipActive: true,\n                    skipDispose: true,\n                }));\n                // after deleting the group we need to re-evaulate the ref location\n                const updatedReferenceLocation = getGridLocation(destinationGroup.element);\n                const location = getRelativeLocation(this.gridview.orientation, updatedReferenceLocation, destinationTarget);\n                this.movingLock(() => this.doAddGroup(targetGroup, location));\n                this.doSetGroupAndPanelActive(targetGroup);\n                this._onDidMovePanel.fire({\n                    panel: this.getGroupPanel(sourceItemId),\n                    from: sourceGroup,\n                });\n            }\n            else {\n                /**\n                 * The group we are removing from has many panels, we need to remove the panels we are moving,\n                 * create a new group, add the panels to that new group and add the new group in an appropiate position\n                 */\n                const removedPanel = this.movingLock(() => sourceGroup.model.removePanel(sourceItemId, {\n                    skipSetActive: false,\n                    skipSetActiveGroup: true,\n                }));\n                if (!removedPanel) {\n                    throw new Error(`dockview: No panel with id ${sourceItemId}`);\n                }\n                const dropLocation = getRelativeLocation(this.gridview.orientation, referenceLocation, destinationTarget);\n                const group = this.createGroupAtLocation(dropLocation);\n                this.movingLock(() => group.model.openPanel(removedPanel, {\n                    skipSetGroupActive: true,\n                }));\n                this.doSetGroupAndPanelActive(group);\n                this._onDidMovePanel.fire({\n                    panel: removedPanel,\n                    from: sourceGroup,\n                });\n            }\n        }\n    }\n    moveGroup(options) {\n        const from = options.from.group;\n        const to = options.to.group;\n        const target = options.to.position;\n        if (target === 'center') {\n            const activePanel = from.activePanel;\n            const panels = this.movingLock(() => [...from.panels].map((p) => from.model.removePanel(p.id, {\n                skipSetActive: true,\n            })));\n            if ((from === null || from === void 0 ? void 0 : from.model.size) === 0) {\n                this.doRemoveGroup(from, { skipActive: true });\n            }\n            this.movingLock(() => {\n                for (const panel of panels) {\n                    to.model.openPanel(panel, {\n                        skipSetActive: panel !== activePanel,\n                        skipSetGroupActive: true,\n                    });\n                }\n            });\n            // Ensure group becomes active after move\n            if (options.skipSetActive !== true) {\n                // For center moves (merges), we need to ensure the target group is active\n                // unless explicitly told not to (skipSetActive: true)\n                this.doSetGroupAndPanelActive(to);\n            }\n            else if (!this.activePanel) {\n                // Even with skipSetActive: true, ensure there's an active panel if none exists\n                // This maintains basic functionality while respecting skipSetActive\n                this.doSetGroupAndPanelActive(to);\n            }\n        }\n        else {\n            switch (from.api.location.type) {\n                case 'grid':\n                    this.gridview.removeView(getGridLocation(from.element));\n                    break;\n                case 'floating': {\n                    const selectedFloatingGroup = this._floatingGroups.find((x) => x.group === from);\n                    if (!selectedFloatingGroup) {\n                        throw new Error('dockview: failed to find floating group');\n                    }\n                    selectedFloatingGroup.dispose();\n                    break;\n                }\n                case 'popout': {\n                    const selectedPopoutGroup = this._popoutGroups.find((x) => x.popoutGroup === from);\n                    if (!selectedPopoutGroup) {\n                        throw new Error('dockview: failed to find popout group');\n                    }\n                    // Remove from popout groups list to prevent automatic restoration\n                    const index = this._popoutGroups.indexOf(selectedPopoutGroup);\n                    if (index >= 0) {\n                        this._popoutGroups.splice(index, 1);\n                    }\n                    // Clean up the reference group (ghost) if it exists and is hidden\n                    if (selectedPopoutGroup.referenceGroup) {\n                        const referenceGroup = this.getPanel(selectedPopoutGroup.referenceGroup);\n                        if (referenceGroup && !referenceGroup.api.isVisible) {\n                            this.doRemoveGroup(referenceGroup, {\n                                skipActive: true,\n                            });\n                        }\n                    }\n                    // Manually dispose the window without triggering restoration\n                    selectedPopoutGroup.window.dispose();\n                    // Update group's location and containers for target\n                    if (to.api.location.type === 'grid') {\n                        from.model.renderContainer =\n                            this.overlayRenderContainer;\n                        from.model.dropTargetContainer =\n                            this.rootDropTargetContainer;\n                        from.model.location = { type: 'grid' };\n                    }\n                    else if (to.api.location.type === 'floating') {\n                        from.model.renderContainer =\n                            this.overlayRenderContainer;\n                        from.model.dropTargetContainer =\n                            this.rootDropTargetContainer;\n                        from.model.location = { type: 'floating' };\n                    }\n                    break;\n                }\n            }\n            // For moves to grid locations\n            if (to.api.location.type === 'grid') {\n                const referenceLocation = getGridLocation(to.element);\n                const dropLocation = getRelativeLocation(this.gridview.orientation, referenceLocation, target);\n                // Add to grid for all moves targeting grid location\n                let size;\n                switch (this.gridview.orientation) {\n                    case Orientation.VERTICAL:\n                        size =\n                            referenceLocation.length % 2 == 0\n                                ? from.api.width\n                                : from.api.height;\n                        break;\n                    case Orientation.HORIZONTAL:\n                        size =\n                            referenceLocation.length % 2 == 0\n                                ? from.api.height\n                                : from.api.width;\n                        break;\n                }\n                this.gridview.addView(from, size, dropLocation);\n            }\n            else if (to.api.location.type === 'floating') {\n                // For moves to floating locations, add as floating group\n                // Get the position/size from the target floating group\n                const targetFloatingGroup = this._floatingGroups.find((x) => x.group === to);\n                if (targetFloatingGroup) {\n                    const box = targetFloatingGroup.overlay.toJSON();\n                    // Calculate position based on available properties\n                    let left, top;\n                    if ('left' in box) {\n                        left = box.left + 50;\n                    }\n                    else if ('right' in box) {\n                        left = Math.max(0, box.right - box.width - 50);\n                    }\n                    else {\n                        left = 50; // Default fallback\n                    }\n                    if ('top' in box) {\n                        top = box.top + 50;\n                    }\n                    else if ('bottom' in box) {\n                        top = Math.max(0, box.bottom - box.height - 50);\n                    }\n                    else {\n                        top = 50; // Default fallback\n                    }\n                    this.addFloatingGroup(from, {\n                        height: box.height,\n                        width: box.width,\n                        position: {\n                            left,\n                            top,\n                        },\n                    });\n                }\n            }\n        }\n        from.panels.forEach((panel) => {\n            this._onDidMovePanel.fire({ panel, from });\n        });\n        this.debouncedUpdateAllPositions();\n        // Ensure group becomes active after move\n        if (options.skipSetActive === false) {\n            // Only activate when explicitly requested (skipSetActive: false)\n            // Use 'to' group for non-center moves since 'from' may have been destroyed\n            const targetGroup = to !== null && to !== void 0 ? to : from;\n            this.doSetGroupAndPanelActive(targetGroup);\n        }\n    }\n    doSetGroupActive(group) {\n        super.doSetGroupActive(group);\n        const activePanel = this.activePanel;\n        if (!this._moving &&\n            activePanel !== this._onDidActivePanelChange.value) {\n            this._onDidActivePanelChange.fire(activePanel);\n        }\n    }\n    doSetGroupAndPanelActive(group) {\n        super.doSetGroupActive(group);\n        const activePanel = this.activePanel;\n        if (group &&\n            this.hasMaximizedGroup() &&\n            !this.isMaximizedGroup(group)) {\n            this.exitMaximizedGroup();\n        }\n        if (!this._moving &&\n            activePanel !== this._onDidActivePanelChange.value) {\n            this._onDidActivePanelChange.fire(activePanel);\n        }\n    }\n    getNextGroupId() {\n        let id = this.nextGroupId.next();\n        while (this._groups.has(id)) {\n            id = this.nextGroupId.next();\n        }\n        return id;\n    }\n    createGroup(options) {\n        if (!options) {\n            options = {};\n        }\n        let id = options === null || options === void 0 ? void 0 : options.id;\n        if (id && this._groups.has(options.id)) {\n            console.warn(`dockview: Duplicate group id ${options === null || options === void 0 ? void 0 : options.id}. reassigning group id to avoid errors`);\n            id = undefined;\n        }\n        if (!id) {\n            id = this.nextGroupId.next();\n            while (this._groups.has(id)) {\n                id = this.nextGroupId.next();\n            }\n        }\n        const view = new DockviewGroupPanel(this, id, options);\n        view.init({ params: {}, accessor: this });\n        if (!this._groups.has(view.id)) {\n            const disposable = new CompositeDisposable(view.model.onTabDragStart((event) => {\n                this._onWillDragPanel.fire(event);\n            }), view.model.onGroupDragStart((event) => {\n                this._onWillDragGroup.fire(event);\n            }), view.model.onMove((event) => {\n                const { groupId, itemId, target, index } = event;\n                this.moveGroupOrPanel({\n                    from: { groupId: groupId, panelId: itemId },\n                    to: {\n                        group: view,\n                        position: target,\n                        index,\n                    },\n                });\n            }), view.model.onDidDrop((event) => {\n                this._onDidDrop.fire(event);\n            }), view.model.onWillDrop((event) => {\n                this._onWillDrop.fire(event);\n            }), view.model.onWillShowOverlay((event) => {\n                if (this.options.disableDnd) {\n                    event.preventDefault();\n                    return;\n                }\n                this._onWillShowOverlay.fire(event);\n            }), view.model.onUnhandledDragOverEvent((event) => {\n                this._onUnhandledDragOverEvent.fire(event);\n            }), view.model.onDidAddPanel((event) => {\n                if (this._moving) {\n                    return;\n                }\n                this._onDidAddPanel.fire(event.panel);\n            }), view.model.onDidRemovePanel((event) => {\n                if (this._moving) {\n                    return;\n                }\n                this._onDidRemovePanel.fire(event.panel);\n            }), view.model.onDidActivePanelChange((event) => {\n                if (this._moving) {\n                    return;\n                }\n                if (event.panel !== this.activePanel) {\n                    return;\n                }\n                if (this._onDidActivePanelChange.value !== event.panel) {\n                    this._onDidActivePanelChange.fire(event.panel);\n                }\n            }), Event.any(view.model.onDidPanelTitleChange, view.model.onDidPanelParametersChange)(() => {\n                this._bufferOnDidLayoutChange.fire();\n            }));\n            this._groups.set(view.id, { value: view, disposable });\n        }\n        // TODO: must be called after the above listeners have been setup, not an ideal pattern\n        view.initialize();\n        return view;\n    }\n    createPanel(options, group) {\n        var _a, _b, _c;\n        const contentComponent = options.component;\n        const tabComponent = (_a = options.tabComponent) !== null && _a !== void 0 ? _a : this.options.defaultTabComponent;\n        const view = new DockviewPanelModel(this, options.id, contentComponent, tabComponent);\n        const panel = new DockviewPanel(options.id, contentComponent, tabComponent, this, this._api, group, view, {\n            renderer: options.renderer,\n            minimumWidth: options.minimumWidth,\n            minimumHeight: options.minimumHeight,\n            maximumWidth: options.maximumWidth,\n            maximumHeight: options.maximumHeight,\n        });\n        panel.init({\n            title: (_b = options.title) !== null && _b !== void 0 ? _b : options.id,\n            params: (_c = options === null || options === void 0 ? void 0 : options.params) !== null && _c !== void 0 ? _c : {},\n        });\n        return panel;\n    }\n    createGroupAtLocation(location, size, options) {\n        const group = this.createGroup(options);\n        this.doAddGroup(group, location, size);\n        return group;\n    }\n    findGroup(panel) {\n        var _a;\n        return (_a = Array.from(this._groups.values()).find((group) => group.value.model.containsPanel(panel))) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    orientationAtLocation(location) {\n        const rootOrientation = this.gridview.orientation;\n        return location.length % 2 == 1\n            ? rootOrientation\n            : orthogonal(rootOrientation);\n    }\n    updateDropTargetModel(options) {\n        if ('dndEdges' in options) {\n            this._rootDropTarget.disabled =\n                typeof options.dndEdges === 'boolean' &&\n                    options.dndEdges === false;\n            if (typeof options.dndEdges === 'object' &&\n                options.dndEdges !== null) {\n                this._rootDropTarget.setOverlayModel(options.dndEdges);\n            }\n            else {\n                this._rootDropTarget.setOverlayModel(DEFAULT_ROOT_OVERLAY_MODEL);\n            }\n        }\n        if ('rootOverlayModel' in options) {\n            this.updateDropTargetModel({ dndEdges: options.dndEdges });\n        }\n    }\n    updateTheme() {\n        var _a, _b;\n        const theme = (_a = this._options.theme) !== null && _a !== void 0 ? _a : themeAbyss;\n        this._themeClassnames.setClassNames(theme.className);\n        this.gridview.margin = (_b = theme.gap) !== null && _b !== void 0 ? _b : 0;\n        switch (theme.dndOverlayMounting) {\n            case 'absolute':\n                this.rootDropTargetContainer.disabled = false;\n                break;\n            case 'relative':\n            default:\n                this.rootDropTargetContainer.disabled = true;\n                break;\n        }\n    }\n}\n\nclass GridviewComponent extends BaseGrid {\n    get orientation() {\n        return this.gridview.orientation;\n    }\n    set orientation(value) {\n        this.gridview.orientation = value;\n    }\n    get options() {\n        return this._options;\n    }\n    get deserializer() {\n        return this._deserializer;\n    }\n    set deserializer(value) {\n        this._deserializer = value;\n    }\n    constructor(container, options) {\n        var _a;\n        super(container, {\n            proportionalLayout: (_a = options.proportionalLayout) !== null && _a !== void 0 ? _a : true,\n            orientation: options.orientation,\n            styles: options.hideBorders\n                ? { separatorBorder: 'transparent' }\n                : undefined,\n            disableAutoResizing: options.disableAutoResizing,\n            className: options.className,\n        });\n        this._onDidLayoutfromJSON = new Emitter();\n        this.onDidLayoutFromJSON = this._onDidLayoutfromJSON.event;\n        this._onDidRemoveGroup = new Emitter();\n        this.onDidRemoveGroup = this._onDidRemoveGroup.event;\n        this._onDidAddGroup = new Emitter();\n        this.onDidAddGroup = this._onDidAddGroup.event;\n        this._onDidActiveGroupChange = new Emitter();\n        this.onDidActiveGroupChange = this._onDidActiveGroupChange.event;\n        this._options = options;\n        this.addDisposables(this._onDidAddGroup, this._onDidRemoveGroup, this._onDidActiveGroupChange, this.onDidAdd((event) => {\n            this._onDidAddGroup.fire(event);\n        }), this.onDidRemove((event) => {\n            this._onDidRemoveGroup.fire(event);\n        }), this.onDidActiveChange((event) => {\n            this._onDidActiveGroupChange.fire(event);\n        }));\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        const hasOrientationChanged = typeof options.orientation === 'string' &&\n            this.gridview.orientation !== options.orientation;\n        this._options = Object.assign(Object.assign({}, this.options), options);\n        if (hasOrientationChanged) {\n            this.gridview.orientation = options.orientation;\n        }\n        this.layout(this.gridview.width, this.gridview.height, true);\n    }\n    removePanel(panel) {\n        this.removeGroup(panel);\n    }\n    /**\n     * Serialize the current state of the layout\n     *\n     * @returns A JSON respresentation of the layout\n     */\n    toJSON() {\n        var _a;\n        const data = this.gridview.serialize();\n        return {\n            grid: data,\n            activePanel: (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.id,\n        };\n    }\n    setVisible(panel, visible) {\n        this.gridview.setViewVisible(getGridLocation(panel.element), visible);\n    }\n    setActive(panel) {\n        this._groups.forEach((value, _key) => {\n            value.value.setActive(panel === value.value);\n        });\n    }\n    focus() {\n        var _a;\n        (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    fromJSON(serializedGridview) {\n        this.clear();\n        const { grid, activePanel } = serializedGridview;\n        try {\n            const queue = [];\n            // take note of the existing dimensions\n            const width = this.width;\n            const height = this.height;\n            this.gridview.deserialize(grid, {\n                fromJSON: (node) => {\n                    const { data } = node;\n                    const view = this.options.createComponent({\n                        id: data.id,\n                        name: data.component,\n                    });\n                    queue.push(() => view.init({\n                        params: data.params,\n                        minimumWidth: data.minimumWidth,\n                        maximumWidth: data.maximumWidth,\n                        minimumHeight: data.minimumHeight,\n                        maximumHeight: data.maximumHeight,\n                        priority: data.priority,\n                        snap: !!data.snap,\n                        accessor: this,\n                        isVisible: node.visible,\n                    }));\n                    this._onDidAddGroup.fire(view);\n                    this.registerPanel(view);\n                    return view;\n                },\n            });\n            this.layout(width, height, true);\n            queue.forEach((f) => f());\n            if (typeof activePanel === 'string') {\n                const panel = this.getPanel(activePanel);\n                if (panel) {\n                    this.doSetGroupActive(panel);\n                }\n            }\n        }\n        catch (err) {\n            /**\n             * To remove a group we cannot call this.removeGroup(...) since this makes assumptions about\n             * the underlying HTMLElement existing in the Gridview.\n             */\n            for (const group of this.groups) {\n                group.dispose();\n                this._groups.delete(group.id);\n                this._onDidRemoveGroup.fire(group);\n            }\n            // fires clean-up events and clears the underlying HTML gridview.\n            this.clear();\n            /**\n             * even though we have cleaned-up we still want to inform the caller of their error\n             * and we'll do this through re-throwing the original error since afterall you would\n             * expect trying to load a corrupted layout to result in an error and not silently fail...\n             */\n            throw err;\n        }\n        this._onDidLayoutfromJSON.fire();\n    }\n    clear() {\n        const hasActiveGroup = this.activeGroup;\n        const groups = Array.from(this._groups.values()); // reassign since group panels will mutate\n        for (const group of groups) {\n            group.disposable.dispose();\n            this.doRemoveGroup(group.value, { skipActive: true });\n        }\n        if (hasActiveGroup) {\n            this.doSetGroupActive(undefined);\n        }\n        this.gridview.clear();\n    }\n    movePanel(panel, options) {\n        var _a;\n        let relativeLocation;\n        const removedPanel = this.gridview.remove(panel);\n        const referenceGroup = (_a = this._groups.get(options.reference)) === null || _a === void 0 ? void 0 : _a.value;\n        if (!referenceGroup) {\n            throw new Error(`reference group ${options.reference} does not exist`);\n        }\n        const target = toTarget(options.direction);\n        if (target === 'center') {\n            throw new Error(`${target} not supported as an option`);\n        }\n        else {\n            const location = getGridLocation(referenceGroup.element);\n            relativeLocation = getRelativeLocation(this.gridview.orientation, location, target);\n        }\n        this.doAddGroup(removedPanel, relativeLocation, options.size);\n    }\n    addPanel(options) {\n        var _a, _b, _c, _d;\n        let relativeLocation = (_a = options.location) !== null && _a !== void 0 ? _a : [0];\n        if ((_b = options.position) === null || _b === void 0 ? void 0 : _b.referencePanel) {\n            const referenceGroup = (_c = this._groups.get(options.position.referencePanel)) === null || _c === void 0 ? void 0 : _c.value;\n            if (!referenceGroup) {\n                throw new Error(`reference group ${options.position.referencePanel} does not exist`);\n            }\n            const target = toTarget(options.position.direction);\n            if (target === 'center') {\n                throw new Error(`${target} not supported as an option`);\n            }\n            else {\n                const location = getGridLocation(referenceGroup.element);\n                relativeLocation = getRelativeLocation(this.gridview.orientation, location, target);\n            }\n        }\n        const view = this.options.createComponent({\n            id: options.id,\n            name: options.component,\n        });\n        view.init({\n            params: (_d = options.params) !== null && _d !== void 0 ? _d : {},\n            minimumWidth: options.minimumWidth,\n            maximumWidth: options.maximumWidth,\n            minimumHeight: options.minimumHeight,\n            maximumHeight: options.maximumHeight,\n            priority: options.priority,\n            snap: !!options.snap,\n            accessor: this,\n            isVisible: true,\n        });\n        this.doAddGroup(view, relativeLocation, options.size);\n        this.registerPanel(view);\n        this.doSetGroupActive(view);\n        return view;\n    }\n    registerPanel(panel) {\n        const disposable = new CompositeDisposable(panel.api.onDidFocusChange((event) => {\n            if (!event.isFocused) {\n                return;\n            }\n            this._groups.forEach((groupItem) => {\n                const group = groupItem.value;\n                if (group !== panel) {\n                    group.setActive(false);\n                }\n                else {\n                    group.setActive(true);\n                }\n            });\n        }));\n        this._groups.set(panel.id, {\n            value: panel,\n            disposable,\n        });\n    }\n    moveGroup(referenceGroup, groupId, target) {\n        const sourceGroup = this.getPanel(groupId);\n        if (!sourceGroup) {\n            throw new Error('invalid operation');\n        }\n        const referenceLocation = getGridLocation(referenceGroup.element);\n        const targetLocation = getRelativeLocation(this.gridview.orientation, referenceLocation, target);\n        const [targetParentLocation, to] = tail(targetLocation);\n        const sourceLocation = getGridLocation(sourceGroup.element);\n        const [sourceParentLocation, from] = tail(sourceLocation);\n        if (sequenceEquals(sourceParentLocation, targetParentLocation)) {\n            // special case when 'swapping' two views within same grid location\n            // if a group has one tab - we are essentially moving the 'group'\n            // which is equivalent to swapping two views in this case\n            this.gridview.moveView(sourceParentLocation, from, to);\n            return;\n        }\n        // source group will become empty so delete the group\n        const targetGroup = this.doRemoveGroup(sourceGroup, {\n            skipActive: true,\n            skipDispose: true,\n        });\n        // after deleting the group we need to re-evaulate the ref location\n        const updatedReferenceLocation = getGridLocation(referenceGroup.element);\n        const location = getRelativeLocation(this.gridview.orientation, updatedReferenceLocation, target);\n        this.doAddGroup(targetGroup, location);\n    }\n    removeGroup(group) {\n        super.removeGroup(group);\n    }\n    dispose() {\n        super.dispose();\n        this._onDidLayoutfromJSON.dispose();\n    }\n}\n\n/**\n * A high-level implementation of splitview that works using 'panels'\n */\nclass SplitviewComponent extends Resizable {\n    get panels() {\n        return this.splitview.getViews();\n    }\n    get options() {\n        return this._options;\n    }\n    get length() {\n        return this._panels.size;\n    }\n    get orientation() {\n        return this.splitview.orientation;\n    }\n    get splitview() {\n        return this._splitview;\n    }\n    set splitview(value) {\n        if (this._splitview) {\n            this._splitview.dispose();\n        }\n        this._splitview = value;\n        this._splitviewChangeDisposable.value = new CompositeDisposable(this._splitview.onDidSashEnd(() => {\n            this._onDidLayoutChange.fire(undefined);\n        }), this._splitview.onDidAddView((e) => this._onDidAddView.fire(e)), this._splitview.onDidRemoveView((e) => this._onDidRemoveView.fire(e)));\n    }\n    get minimumSize() {\n        return this.splitview.minimumSize;\n    }\n    get maximumSize() {\n        return this.splitview.maximumSize;\n    }\n    get height() {\n        return this.splitview.orientation === Orientation.HORIZONTAL\n            ? this.splitview.orthogonalSize\n            : this.splitview.size;\n    }\n    get width() {\n        return this.splitview.orientation === Orientation.HORIZONTAL\n            ? this.splitview.size\n            : this.splitview.orthogonalSize;\n    }\n    constructor(container, options) {\n        var _a;\n        super(document.createElement('div'), options.disableAutoResizing);\n        this._splitviewChangeDisposable = new MutableDisposable();\n        this._panels = new Map();\n        this._onDidLayoutfromJSON = new Emitter();\n        this.onDidLayoutFromJSON = this._onDidLayoutfromJSON.event;\n        this._onDidAddView = new Emitter();\n        this.onDidAddView = this._onDidAddView.event;\n        this._onDidRemoveView = new Emitter();\n        this.onDidRemoveView = this._onDidRemoveView.event;\n        this._onDidLayoutChange = new Emitter();\n        this.onDidLayoutChange = this._onDidLayoutChange.event;\n        this.element.style.height = '100%';\n        this.element.style.width = '100%';\n        this._classNames = new Classnames(this.element);\n        this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');\n        // the container is owned by the third-party, do not modify/delete it\n        container.appendChild(this.element);\n        this._options = options;\n        this.splitview = new Splitview(this.element, options);\n        this.addDisposables(this._onDidAddView, this._onDidLayoutfromJSON, this._onDidRemoveView, this._onDidLayoutChange);\n    }\n    updateOptions(options) {\n        var _a, _b;\n        if ('className' in options) {\n            this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');\n        }\n        if ('disableResizing' in options) {\n            this.disableResizing = (_b = options.disableAutoResizing) !== null && _b !== void 0 ? _b : false;\n        }\n        if (typeof options.orientation === 'string') {\n            this.splitview.orientation = options.orientation;\n        }\n        this._options = Object.assign(Object.assign({}, this.options), options);\n        this.splitview.layout(this.splitview.size, this.splitview.orthogonalSize);\n    }\n    focus() {\n        var _a;\n        (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    movePanel(from, to) {\n        this.splitview.moveView(from, to);\n    }\n    setVisible(panel, visible) {\n        const index = this.panels.indexOf(panel);\n        this.splitview.setViewVisible(index, visible);\n    }\n    setActive(panel, skipFocus) {\n        this._activePanel = panel;\n        this.panels\n            .filter((v) => v !== panel)\n            .forEach((v) => {\n            v.api._onDidActiveChange.fire({ isActive: false });\n            if (!skipFocus) {\n                v.focus();\n            }\n        });\n        panel.api._onDidActiveChange.fire({ isActive: true });\n        if (!skipFocus) {\n            panel.focus();\n        }\n    }\n    removePanel(panel, sizing) {\n        const item = this._panels.get(panel.id);\n        if (!item) {\n            throw new Error(`unknown splitview panel ${panel.id}`);\n        }\n        item.dispose();\n        this._panels.delete(panel.id);\n        const index = this.panels.findIndex((_) => _ === panel);\n        const removedView = this.splitview.removeView(index, sizing);\n        removedView.dispose();\n        const panels = this.panels;\n        if (panels.length > 0) {\n            this.setActive(panels[panels.length - 1]);\n        }\n    }\n    getPanel(id) {\n        return this.panels.find((view) => view.id === id);\n    }\n    addPanel(options) {\n        var _a;\n        if (this._panels.has(options.id)) {\n            throw new Error(`panel ${options.id} already exists`);\n        }\n        const view = this.options.createComponent({\n            id: options.id,\n            name: options.component,\n        });\n        view.orientation = this.splitview.orientation;\n        view.init({\n            params: (_a = options.params) !== null && _a !== void 0 ? _a : {},\n            minimumSize: options.minimumSize,\n            maximumSize: options.maximumSize,\n            snap: options.snap,\n            priority: options.priority,\n            accessor: this,\n        });\n        const size = typeof options.size === 'number' ? options.size : Sizing.Distribute;\n        const index = typeof options.index === 'number' ? options.index : undefined;\n        this.splitview.addView(view, size, index);\n        this.doAddView(view);\n        this.setActive(view);\n        return view;\n    }\n    layout(width, height) {\n        const [size, orthogonalSize] = this.splitview.orientation === Orientation.HORIZONTAL\n            ? [width, height]\n            : [height, width];\n        this.splitview.layout(size, orthogonalSize);\n    }\n    doAddView(view) {\n        const disposable = view.api.onDidFocusChange((event) => {\n            if (!event.isFocused) {\n                return;\n            }\n            this.setActive(view, true);\n        });\n        this._panels.set(view.id, disposable);\n    }\n    toJSON() {\n        var _a;\n        const views = this.splitview\n            .getViews()\n            .map((view, i) => {\n            const size = this.splitview.getViewSize(i);\n            return {\n                size,\n                data: view.toJSON(),\n                snap: !!view.snap,\n                priority: view.priority,\n            };\n        });\n        return {\n            views,\n            activeView: (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.id,\n            size: this.splitview.size,\n            orientation: this.splitview.orientation,\n        };\n    }\n    fromJSON(serializedSplitview) {\n        this.clear();\n        const { views, orientation, size, activeView } = serializedSplitview;\n        const queue = [];\n        // take note of the existing dimensions\n        const width = this.width;\n        const height = this.height;\n        this.splitview = new Splitview(this.element, {\n            orientation,\n            proportionalLayout: this.options.proportionalLayout,\n            descriptor: {\n                size,\n                views: views.map((view) => {\n                    const data = view.data;\n                    if (this._panels.has(data.id)) {\n                        throw new Error(`panel ${data.id} already exists`);\n                    }\n                    const panel = this.options.createComponent({\n                        id: data.id,\n                        name: data.component,\n                    });\n                    queue.push(() => {\n                        var _a;\n                        panel.init({\n                            params: (_a = data.params) !== null && _a !== void 0 ? _a : {},\n                            minimumSize: data.minimumSize,\n                            maximumSize: data.maximumSize,\n                            snap: view.snap,\n                            priority: view.priority,\n                            accessor: this,\n                        });\n                    });\n                    panel.orientation = orientation;\n                    this.doAddView(panel);\n                    setTimeout(() => {\n                        // the original onDidAddView events are missed since they are fired before we can subcribe to them\n                        this._onDidAddView.fire(panel);\n                    }, 0);\n                    return { size: view.size, view: panel };\n                }),\n            },\n        });\n        this.layout(width, height);\n        queue.forEach((f) => f());\n        if (typeof activeView === 'string') {\n            const panel = this.getPanel(activeView);\n            if (panel) {\n                this.setActive(panel);\n            }\n        }\n        this._onDidLayoutfromJSON.fire();\n    }\n    clear() {\n        for (const disposable of this._panels.values()) {\n            disposable.dispose();\n        }\n        this._panels.clear();\n        while (this.splitview.length > 0) {\n            const view = this.splitview.removeView(0, Sizing.Distribute, true);\n            view.dispose();\n        }\n    }\n    dispose() {\n        for (const disposable of this._panels.values()) {\n            disposable.dispose();\n        }\n        this._panels.clear();\n        const views = this.splitview.getViews();\n        this._splitviewChangeDisposable.dispose();\n        this.splitview.dispose();\n        for (const view of views) {\n            view.dispose();\n        }\n        this.element.remove();\n        super.dispose();\n    }\n}\n\nclass DefaultHeader extends CompositeDisposable {\n    get element() {\n        return this._element;\n    }\n    constructor() {\n        super();\n        this._expandedIcon = createExpandMoreButton();\n        this._collapsedIcon = createChevronRightButton();\n        this.disposable = new MutableDisposable();\n        this.apiRef = {\n            api: null,\n        };\n        this._element = document.createElement('div');\n        this.element.className = 'dv-default-header';\n        this._content = document.createElement('span');\n        this._expander = document.createElement('div');\n        this._expander.className = 'dv-pane-header-icon';\n        this.element.appendChild(this._expander);\n        this.element.appendChild(this._content);\n        this.addDisposables(addDisposableListener(this._element, 'click', () => {\n            var _a;\n            (_a = this.apiRef.api) === null || _a === void 0 ? void 0 : _a.setExpanded(!this.apiRef.api.isExpanded);\n        }));\n    }\n    init(params) {\n        this.apiRef.api = params.api;\n        this._content.textContent = params.title;\n        this.updateIcon();\n        this.disposable.value = params.api.onDidExpansionChange(() => {\n            this.updateIcon();\n        });\n    }\n    updateIcon() {\n        var _a;\n        const isExpanded = !!((_a = this.apiRef.api) === null || _a === void 0 ? void 0 : _a.isExpanded);\n        toggleClass(this._expander, 'collapsed', !isExpanded);\n        if (isExpanded) {\n            if (this._expander.contains(this._collapsedIcon)) {\n                this._collapsedIcon.remove();\n            }\n            if (!this._expander.contains(this._expandedIcon)) {\n                this._expander.appendChild(this._expandedIcon);\n            }\n        }\n        else {\n            if (this._expander.contains(this._expandedIcon)) {\n                this._expandedIcon.remove();\n            }\n            if (!this._expander.contains(this._collapsedIcon)) {\n                this._expander.appendChild(this._collapsedIcon);\n            }\n        }\n    }\n    update(_params) {\n        //\n    }\n    dispose() {\n        this.disposable.dispose();\n        super.dispose();\n    }\n}\n\nconst nextLayoutId = sequentialNumberGenerator();\nconst HEADER_SIZE = 22;\nconst MINIMUM_BODY_SIZE = 0;\nconst MAXIMUM_BODY_SIZE = Number.MAX_SAFE_INTEGER;\nclass PaneFramework extends DraggablePaneviewPanel {\n    constructor(options) {\n        super({\n            accessor: options.accessor,\n            id: options.id,\n            component: options.component,\n            headerComponent: options.headerComponent,\n            orientation: options.orientation,\n            isExpanded: options.isExpanded,\n            disableDnd: options.disableDnd,\n            headerSize: options.headerSize,\n            minimumBodySize: options.minimumBodySize,\n            maximumBodySize: options.maximumBodySize,\n        });\n        this.options = options;\n    }\n    getBodyComponent() {\n        return this.options.body;\n    }\n    getHeaderComponent() {\n        return this.options.header;\n    }\n}\nclass PaneviewComponent extends Resizable {\n    get id() {\n        return this._id;\n    }\n    get panels() {\n        return this.paneview.getPanes();\n    }\n    set paneview(value) {\n        this._paneview = value;\n        this._disposable.value = new CompositeDisposable(this._paneview.onDidChange(() => {\n            this._onDidLayoutChange.fire(undefined);\n        }), this._paneview.onDidAddView((e) => this._onDidAddView.fire(e)), this._paneview.onDidRemoveView((e) => this._onDidRemoveView.fire(e)));\n    }\n    get paneview() {\n        return this._paneview;\n    }\n    get minimumSize() {\n        return this.paneview.minimumSize;\n    }\n    get maximumSize() {\n        return this.paneview.maximumSize;\n    }\n    get height() {\n        return this.paneview.orientation === Orientation.HORIZONTAL\n            ? this.paneview.orthogonalSize\n            : this.paneview.size;\n    }\n    get width() {\n        return this.paneview.orientation === Orientation.HORIZONTAL\n            ? this.paneview.size\n            : this.paneview.orthogonalSize;\n    }\n    get options() {\n        return this._options;\n    }\n    constructor(container, options) {\n        var _a;\n        super(document.createElement('div'), options.disableAutoResizing);\n        this._id = nextLayoutId.next();\n        this._disposable = new MutableDisposable();\n        this._viewDisposables = new Map();\n        this._onDidLayoutfromJSON = new Emitter();\n        this.onDidLayoutFromJSON = this._onDidLayoutfromJSON.event;\n        this._onDidLayoutChange = new Emitter();\n        this.onDidLayoutChange = this._onDidLayoutChange.event;\n        this._onDidDrop = new Emitter();\n        this.onDidDrop = this._onDidDrop.event;\n        this._onDidAddView = new Emitter();\n        this.onDidAddView = this._onDidAddView.event;\n        this._onDidRemoveView = new Emitter();\n        this.onDidRemoveView = this._onDidRemoveView.event;\n        this._onUnhandledDragOverEvent = new Emitter();\n        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;\n        this.element.style.height = '100%';\n        this.element.style.width = '100%';\n        this.addDisposables(this._onDidLayoutChange, this._onDidLayoutfromJSON, this._onDidDrop, this._onDidAddView, this._onDidRemoveView, this._onUnhandledDragOverEvent);\n        this._classNames = new Classnames(this.element);\n        this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');\n        // the container is owned by the third-party, do not modify/delete it\n        container.appendChild(this.element);\n        this._options = options;\n        this.paneview = new Paneview(this.element, {\n            // only allow paneview in the vertical orientation for now\n            orientation: Orientation.VERTICAL,\n        });\n        this.addDisposables(this._disposable);\n    }\n    setVisible(panel, visible) {\n        const index = this.panels.indexOf(panel);\n        this.paneview.setViewVisible(index, visible);\n    }\n    focus() {\n        //noop\n    }\n    updateOptions(options) {\n        var _a, _b;\n        if ('className' in options) {\n            this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');\n        }\n        if ('disableResizing' in options) {\n            this.disableResizing = (_b = options.disableAutoResizing) !== null && _b !== void 0 ? _b : false;\n        }\n        this._options = Object.assign(Object.assign({}, this.options), options);\n    }\n    addPanel(options) {\n        var _a, _b;\n        const body = this.options.createComponent({\n            id: options.id,\n            name: options.component,\n        });\n        let header;\n        if (options.headerComponent && this.options.createHeaderComponent) {\n            header = this.options.createHeaderComponent({\n                id: options.id,\n                name: options.headerComponent,\n            });\n        }\n        if (!header) {\n            header = new DefaultHeader();\n        }\n        const view = new PaneFramework({\n            id: options.id,\n            component: options.component,\n            headerComponent: options.headerComponent,\n            header,\n            body,\n            orientation: Orientation.VERTICAL,\n            isExpanded: !!options.isExpanded,\n            disableDnd: !!this.options.disableDnd,\n            accessor: this,\n            headerSize: (_a = options.headerSize) !== null && _a !== void 0 ? _a : HEADER_SIZE,\n            minimumBodySize: MINIMUM_BODY_SIZE,\n            maximumBodySize: MAXIMUM_BODY_SIZE,\n        });\n        this.doAddPanel(view);\n        const size = typeof options.size === 'number' ? options.size : Sizing.Distribute;\n        const index = typeof options.index === 'number' ? options.index : undefined;\n        view.init({\n            params: (_b = options.params) !== null && _b !== void 0 ? _b : {},\n            minimumBodySize: options.minimumBodySize,\n            maximumBodySize: options.maximumBodySize,\n            isExpanded: options.isExpanded,\n            title: options.title,\n            containerApi: new PaneviewApi(this),\n            accessor: this,\n        });\n        this.paneview.addPane(view, size, index);\n        view.orientation = this.paneview.orientation;\n        return view;\n    }\n    removePanel(panel) {\n        const views = this.panels;\n        const index = views.findIndex((_) => _ === panel);\n        this.paneview.removePane(index);\n        this.doRemovePanel(panel);\n    }\n    movePanel(from, to) {\n        this.paneview.moveView(from, to);\n    }\n    getPanel(id) {\n        return this.panels.find((view) => view.id === id);\n    }\n    layout(width, height) {\n        const [size, orthogonalSize] = this.paneview.orientation === Orientation.HORIZONTAL\n            ? [width, height]\n            : [height, width];\n        this.paneview.layout(size, orthogonalSize);\n    }\n    toJSON() {\n        const maximum = (value) => value === Number.MAX_SAFE_INTEGER ||\n            value === Number.POSITIVE_INFINITY\n            ? undefined\n            : value;\n        const minimum = (value) => (value <= 0 ? undefined : value);\n        const views = this.paneview\n            .getPanes()\n            .map((view, i) => {\n            const size = this.paneview.getViewSize(i);\n            return {\n                size,\n                data: view.toJSON(),\n                minimumSize: minimum(view.minimumBodySize),\n                maximumSize: maximum(view.maximumBodySize),\n                headerSize: view.headerSize,\n                expanded: view.isExpanded(),\n            };\n        });\n        return {\n            views,\n            size: this.paneview.size,\n        };\n    }\n    fromJSON(serializedPaneview) {\n        this.clear();\n        const { views, size } = serializedPaneview;\n        const queue = [];\n        // take note of the existing dimensions\n        const width = this.width;\n        const height = this.height;\n        this.paneview = new Paneview(this.element, {\n            orientation: Orientation.VERTICAL,\n            descriptor: {\n                size,\n                views: views.map((view) => {\n                    var _a, _b, _c;\n                    const data = view.data;\n                    const body = this.options.createComponent({\n                        id: data.id,\n                        name: data.component,\n                    });\n                    let header;\n                    if (data.headerComponent &&\n                        this.options.createHeaderComponent) {\n                        header = this.options.createHeaderComponent({\n                            id: data.id,\n                            name: data.headerComponent,\n                        });\n                    }\n                    if (!header) {\n                        header = new DefaultHeader();\n                    }\n                    const panel = new PaneFramework({\n                        id: data.id,\n                        component: data.component,\n                        headerComponent: data.headerComponent,\n                        header,\n                        body,\n                        orientation: Orientation.VERTICAL,\n                        isExpanded: !!view.expanded,\n                        disableDnd: !!this.options.disableDnd,\n                        accessor: this,\n                        headerSize: (_a = view.headerSize) !== null && _a !== void 0 ? _a : HEADER_SIZE,\n                        minimumBodySize: (_b = view.minimumSize) !== null && _b !== void 0 ? _b : MINIMUM_BODY_SIZE,\n                        maximumBodySize: (_c = view.maximumSize) !== null && _c !== void 0 ? _c : MAXIMUM_BODY_SIZE,\n                    });\n                    this.doAddPanel(panel);\n                    queue.push(() => {\n                        var _a;\n                        panel.init({\n                            params: (_a = data.params) !== null && _a !== void 0 ? _a : {},\n                            minimumBodySize: view.minimumSize,\n                            maximumBodySize: view.maximumSize,\n                            title: data.title,\n                            isExpanded: !!view.expanded,\n                            containerApi: new PaneviewApi(this),\n                            accessor: this,\n                        });\n                        panel.orientation = this.paneview.orientation;\n                    });\n                    setTimeout(() => {\n                        // the original onDidAddView events are missed since they are fired before we can subcribe to them\n                        this._onDidAddView.fire(panel);\n                    }, 0);\n                    return { size: view.size, view: panel };\n                }),\n            },\n        });\n        this.layout(width, height);\n        queue.forEach((f) => f());\n        this._onDidLayoutfromJSON.fire();\n    }\n    clear() {\n        for (const [_, value] of this._viewDisposables.entries()) {\n            value.dispose();\n        }\n        this._viewDisposables.clear();\n        this.paneview.dispose();\n    }\n    doAddPanel(panel) {\n        const disposable = new CompositeDisposable(panel.onDidDrop((event) => {\n            this._onDidDrop.fire(event);\n        }), panel.onUnhandledDragOverEvent((event) => {\n            this._onUnhandledDragOverEvent.fire(event);\n        }));\n        this._viewDisposables.set(panel.id, disposable);\n    }\n    doRemovePanel(panel) {\n        const disposable = this._viewDisposables.get(panel.id);\n        if (disposable) {\n            disposable.dispose();\n            this._viewDisposables.delete(panel.id);\n        }\n    }\n    dispose() {\n        super.dispose();\n        for (const [_, value] of this._viewDisposables.entries()) {\n            value.dispose();\n        }\n        this._viewDisposables.clear();\n        this.element.remove();\n        this.paneview.dispose();\n    }\n}\n\nclass SplitviewPanel extends BasePanelView {\n    get priority() {\n        return this._priority;\n    }\n    set orientation(value) {\n        this._orientation = value;\n    }\n    get orientation() {\n        return this._orientation;\n    }\n    get minimumSize() {\n        const size = typeof this._minimumSize === 'function'\n            ? this._minimumSize()\n            : this._minimumSize;\n        if (size !== this._evaluatedMinimumSize) {\n            this._evaluatedMinimumSize = size;\n            this.updateConstraints();\n        }\n        return size;\n    }\n    get maximumSize() {\n        const size = typeof this._maximumSize === 'function'\n            ? this._maximumSize()\n            : this._maximumSize;\n        if (size !== this._evaluatedMaximumSize) {\n            this._evaluatedMaximumSize = size;\n            this.updateConstraints();\n        }\n        return size;\n    }\n    get snap() {\n        return this._snap;\n    }\n    constructor(id, componentName) {\n        super(id, componentName, new SplitviewPanelApiImpl(id, componentName));\n        this._evaluatedMinimumSize = 0;\n        this._evaluatedMaximumSize = Number.POSITIVE_INFINITY;\n        this._minimumSize = 0;\n        this._maximumSize = Number.POSITIVE_INFINITY;\n        this._snap = false;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this.api.initialize(this);\n        this.addDisposables(this._onDidChange, this.api.onWillVisibilityChange((event) => {\n            const { isVisible } = event;\n            const { accessor } = this._params;\n            accessor.setVisible(this, isVisible);\n        }), this.api.onActiveChange(() => {\n            const { accessor } = this._params;\n            accessor.setActive(this);\n        }), this.api.onDidConstraintsChangeInternal((event) => {\n            if (typeof event.minimumSize === 'number' ||\n                typeof event.minimumSize === 'function') {\n                this._minimumSize = event.minimumSize;\n            }\n            if (typeof event.maximumSize === 'number' ||\n                typeof event.maximumSize === 'function') {\n                this._maximumSize = event.maximumSize;\n            }\n            this.updateConstraints();\n        }), this.api.onDidSizeChange((event) => {\n            this._onDidChange.fire({ size: event.size });\n        }));\n    }\n    setVisible(isVisible) {\n        this.api._onDidVisibilityChange.fire({ isVisible });\n    }\n    setActive(isActive) {\n        this.api._onDidActiveChange.fire({ isActive });\n    }\n    layout(size, orthogonalSize) {\n        const [width, height] = this.orientation === Orientation.HORIZONTAL\n            ? [size, orthogonalSize]\n            : [orthogonalSize, size];\n        super.layout(width, height);\n    }\n    init(parameters) {\n        super.init(parameters);\n        this._priority = parameters.priority;\n        if (parameters.minimumSize) {\n            this._minimumSize = parameters.minimumSize;\n        }\n        if (parameters.maximumSize) {\n            this._maximumSize = parameters.maximumSize;\n        }\n        if (parameters.snap) {\n            this._snap = parameters.snap;\n        }\n    }\n    toJSON() {\n        const maximum = (value) => value === Number.MAX_SAFE_INTEGER ||\n            value === Number.POSITIVE_INFINITY\n            ? undefined\n            : value;\n        const minimum = (value) => (value <= 0 ? undefined : value);\n        return Object.assign(Object.assign({}, super.toJSON()), { minimumSize: minimum(this.minimumSize), maximumSize: maximum(this.maximumSize) });\n    }\n    updateConstraints() {\n        this.api._onDidConstraintsChange.fire({\n            maximumSize: this._evaluatedMaximumSize,\n            minimumSize: this._evaluatedMinimumSize,\n        });\n    }\n}\n\nfunction createDockview(element, options) {\n    const component = new DockviewComponent(element, options);\n    return component.api;\n}\nfunction createSplitview(element, options) {\n    const component = new SplitviewComponent(element, options);\n    return new SplitviewApi(component);\n}\nfunction createGridview(element, options) {\n    const component = new GridviewComponent(element, options);\n    return new GridviewApi(component);\n}\nfunction createPaneview(element, options) {\n    const component = new PaneviewComponent(element, options);\n    return new PaneviewApi(component);\n}\n\nexport { BaseGrid, ContentContainer, DefaultDockviewDeserialzier, DefaultTab, DockviewApi, DockviewComponent, CompositeDisposable as DockviewCompositeDisposable, DockviewDidDropEvent, Disposable as DockviewDisposable, Emitter as DockviewEmitter, Event as DockviewEvent, DockviewGroupPanel, DockviewGroupPanelModel, MutableDisposable as DockviewMutableDisposable, DockviewPanel, DockviewUnhandledDragOverEvent, DockviewWillDropEvent, DockviewWillShowOverlayLocationEvent, DraggablePaneviewPanel, Gridview, GridviewApi, GridviewComponent, GridviewPanel, LayoutPriority, Orientation, PROPERTY_KEYS_DOCKVIEW, PROPERTY_KEYS_GRIDVIEW, PROPERTY_KEYS_PANEVIEW, PROPERTY_KEYS_SPLITVIEW, PaneFramework, PaneTransfer, PanelTransfer, Paneview, PaneviewApi, PaneviewComponent, PaneviewPanel, PaneviewUnhandledDragOverEvent, SashState, Sizing, Splitview, SplitviewApi, SplitviewComponent, SplitviewPanel, Tab, createDockview, createGridview, createPaneview, createSplitview, directionToPosition, getDirectionOrientation, getGridLocation, getLocationOrientation, getPaneData, getPanelData, getRelativeLocation, indexInParent, isGridBranchNode, isGroupOptionsWithGroup, isGroupOptionsWithPanel, isPanelOptionsWithGroup, isPanelOptionsWithPanel, orthogonal, positionToDirection, themeAbyss, themeAbyssSpaced, themeDark, themeDracula, themeLight, themeLightSpaced, themeReplit, themeVisualStudio, toTarget };\n","/**\n * dockview\n * @version 5.0.0\n * @link https://github.com/mathuo/dockview\n * @license MIT\n */\nimport { DockviewDisposable, DockviewEmitter, DockviewMutableDisposable, DockviewCompositeDisposable, PROPERTY_KEYS_DOCKVIEW, createDockview, SplitviewPanel, SplitviewApi, PROPERTY_KEYS_SPLITVIEW, createSplitview, GridviewPanel, GridviewApi, PROPERTY_KEYS_GRIDVIEW, createGridview, PROPERTY_KEYS_PANEVIEW, createPaneview } from 'dockview-core';\nexport * from 'dockview-core';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".dv-scrollable {\\n  position: relative;\\n  overflow: hidden;\\n}\\n.dv-scrollable .dv-scrollbar {\\n  position: absolute;\\n  border-radius: 2px;\\n  background-color: transparent;\\n  /* GPU optimizations */\\n  will-change: background-color, transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition-property: background-color;\\n  transition-timing-function: ease-in-out;\\n  transition-duration: 1s;\\n  transition-delay: 0s;\\n}\\n.dv-scrollable .dv-scrollbar-horizontal {\\n  bottom: 0px;\\n  left: 0px;\\n  height: 4px;\\n}\\n.dv-scrollable .dv-scrollbar-vertical {\\n  right: 0px;\\n  top: 0px;\\n  width: 4px;\\n}\\n.dv-scrollable:hover .dv-scrollbar, .dv-scrollable.dv-scrollable-resizing .dv-scrollbar, .dv-scrollable.dv-scrollable-scrolling .dv-scrollbar {\\n  background-color: var(--dv-scrollbar-background-color, rgba(255, 255, 255, 0.25));\\n}\\n.dv-svg {\\n  display: inline-block;\\n  fill: currentcolor;\\n  line-height: 1;\\n  stroke: currentcolor;\\n  stroke-width: 0;\\n}\\n.dockview-theme-dark {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #1e1e1e;\\n  --dv-tabs-and-actions-container-background-color: #252526;\\n  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-tab-divider-color: #1e1e1e;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: #969696;\\n  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;\\n  --dv-inactivegroup-hiddenpanel-tab-color: #626262;\\n  --dv-separator-border: rgb(68, 68, 68);\\n  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);\\n}\\n.dockview-theme-dark .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-light {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: white;\\n  --dv-tabs-and-actions-container-background-color: #f3f3f3;\\n  --dv-activegroup-visiblepanel-tab-background-color: white;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #ececec;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: white;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #ececec;\\n  --dv-tab-divider-color: white;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-activegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.7);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(51, 51, 51, 0.7);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.35);\\n  --dv-separator-border: rgba(128, 128, 128, 0.35);\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);\\n}\\n.dockview-theme-light .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-vs {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #1e1e1e;\\n  --dv-tabs-and-actions-container-background-color: #252526;\\n  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;\\n  --dv-tab-divider-color: #1e1e1e;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: #969696;\\n  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;\\n  --dv-inactivegroup-hiddenpanel-tab-color: #626262;\\n  --dv-separator-border: rgb(68, 68, 68);\\n  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);\\n  --dv-tabs-and-actions-container-background-color: #2d2d30;\\n  --dv-tabs-and-actions-container-height: 20px;\\n  --dv-tabs-and-actions-container-font-size: 11px;\\n  --dv-activegroup-visiblepanel-tab-background-color: #007acc;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #3f3f46;\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: white;\\n  --dv-inactivegroup-visiblepanel-tab-color: white;\\n  --dv-inactivegroup-hiddenpanel-tab-color: white;\\n}\\n.dockview-theme-vs .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container {\\n  box-sizing: content-box;\\n  border-bottom: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {\\n  border-top: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {\\n  border-top: 2px solid var(--dv-activegroup-hiddenpanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container {\\n  box-sizing: content-box;\\n  border-bottom: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {\\n  border-top: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n}\\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {\\n  border-top: 2px solid var(--dv-inactivegroup-hiddenpanel-tab-background-color);\\n}\\n\\n.dockview-theme-abyss {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-color-abyss-dark: #000c18;\\n  --dv-color-abyss: #10192c;\\n  --dv-color-abyss-light: #1c1c2a;\\n  --dv-color-abyss-lighter: #2b2b4a;\\n  --dv-color-abyss-accent: rgb(91, 30, 207);\\n  --dv-color-abyss-primary-text: white;\\n  --dv-color-abyss-secondary-text: rgb(148, 151, 169);\\n  --dv-group-view-background-color: var(--dv-color-abyss-dark);\\n  --dv-tabs-and-actions-container-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-activegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-dark\\n  );\\n  --dv-activegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);\\n  --dv-inactivegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-dark\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);\\n  --dv-tab-divider-color: var(--dv-color-abyss-lighter);\\n  --dv-activegroup-visiblepanel-tab-color: white;\\n  --dv-activegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.5);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(255, 255, 255, 0.5);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.25);\\n  --dv-separator-border: var(--dv-color-abyss-lighter);\\n  --dv-paneview-header-border-color: var(--dv-color-abyss-lighter);\\n  --dv-paneview-active-outline-color: #596f99;\\n}\\n.dockview-theme-abyss .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n\\n.dockview-theme-dracula {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-group-view-background-color: #282a36;\\n  --dv-tabs-and-actions-container-background-color: #191a21;\\n  --dv-activegroup-visiblepanel-tab-background-color: #282a36;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #21222c;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #282a36;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #21222c;\\n  --dv-tab-divider-color: #191a21;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(248, 248, 242);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(98, 114, 164);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(248, 248, 242, 0.5);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(98, 114, 164, 0.5);\\n  --dv-separator-border: #bd93f9;\\n  --dv-paneview-header-border-color: #bd93f9;\\n  --dv-paneview-active-outline-color: #6272a4;\\n}\\n.dockview-theme-dracula .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  position: relative;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  content: \\\"\\\";\\n  width: 100%;\\n  height: 1px;\\n  background-color: #94527e;\\n  z-index: 999;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  position: relative;\\n}\\n.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {\\n  position: absolute;\\n  left: 0px;\\n  bottom: 0px;\\n  content: \\\"\\\";\\n  width: 100%;\\n  height: 1px;\\n  background-color: #5e3d5a;\\n  z-index: 999;\\n}\\n\\n.dockview-theme-replit {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  box-sizing: border-box;\\n  padding: 10px;\\n  background-color: #ebeced;\\n  --dv-group-view-background-color: #ebeced;\\n  --dv-tabs-and-actions-container-background-color: #fcfcfc;\\n  --dv-activegroup-visiblepanel-tab-background-color: #f0f1f2;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #fcfcfc;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #f0f1f2;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #fcfcfc;\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(51, 51, 51);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgb(51, 51, 51);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgb(51, 51, 51);\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-sash-color: #cfd1d3;\\n  --dv-active-sash-color: #babbbb;\\n}\\n.dockview-theme-replit .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\\n  opacity: 0;\\n  transition: none;\\n}\\n.dockview-theme-replit .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-replit .dv-resize-container {\\n  border-radius: 10px !important;\\n  border: none;\\n}\\n.dockview-theme-replit .dv-groupview {\\n  overflow: hidden;\\n  border-radius: 10px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container {\\n  border-bottom: 1px solid rgba(128, 128, 128, 0.35);\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab {\\n  margin: 4px;\\n  border-radius: 8px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab:hover {\\n  background-color: #e4e5e6 !important;\\n}\\n.dockview-theme-replit .dv-groupview .dv-content-container {\\n  background-color: #fcfcfc;\\n}\\n.dockview-theme-replit .dv-groupview.dv-active-group {\\n  border: 1px solid rgba(128, 128, 128, 0.35);\\n}\\n.dockview-theme-replit .dv-groupview.dv-inactive-group {\\n  border: 1px solid transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled)::after {\\n  content: \\\"\\\";\\n  height: 4px;\\n  width: 40px;\\n  border-radius: 2px;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  background-color: var(--dv-sash-color);\\n  position: absolute;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active::after {\\n  background-color: var(--dv-active-sash-color);\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled)::after {\\n  content: \\\"\\\";\\n  height: 40px;\\n  width: 4px;\\n  border-radius: 2px;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  background-color: var(--dv-sash-color);\\n  position: absolute;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active {\\n  background-color: transparent;\\n}\\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active::after {\\n  background-color: var(--dv-active-sash-color);\\n}\\n\\n.dockview-theme-abyss-spaced {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-tab-font-size: 12px;\\n  --dv-border-radius: 20px;\\n  --dv-tab-margin: 0.5rem 0.25rem;\\n  --dv-tabs-and-actions-container-height: 44px;\\n  --dv-border-radius: 20px;\\n  box-sizing: border-box;\\n  --dv-color-abyss-dark: rgb(11, 6, 17);\\n  --dv-color-abyss: #16121f;\\n  --dv-color-abyss-light: #201d2b;\\n  --dv-color-abyss-lighter: #2a2837;\\n  --dv-color-abyss-accent: rgb(91, 30, 207);\\n  --dv-color-abyss-primary-text: white;\\n  --dv-color-abyss-secondary-text: rgb(148, 151, 169);\\n  --dv-drag-over-border: 2px solid var(--dv-color-abyss-accent);\\n  --dv-drag-over-background-color: \\\"\\\";\\n  --dv-group-view-background-color: var(--dv-color-abyss-dark);\\n  --dv-tabs-and-actions-container-background-color: var(--dv-color-abyss);\\n  --dv-activegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-lighter\\n  );\\n  --dv-activegroup-hiddenpanel-tab-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-inactivegroup-visiblepanel-tab-background-color: var(\\n      --dv-color-abyss-lighter\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: var(\\n      --dv-color-abyss-light\\n  );\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: var(--dv-color-abyss-primary-text);\\n  --dv-activegroup-hiddenpanel-tab-color: var(\\n      --dv-color-abyss-secondary-text\\n  );\\n  --dv-inactivegroup-visiblepanel-tab-color: var(\\n      --dv-color-abyss-primary-text\\n  );\\n  --dv-inactivegroup-hiddenpanel-tab-color: var(\\n      --dv-color-abyss-secondary-text\\n  );\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-active-sash-color: var(--dv-color-abyss-accent);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.5);\\n  padding: 10px;\\n  background-color: var(--dv-color-abyss-dark);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-sash {\\n  border-radius: 4px;\\n}\\n.dockview-theme-abyss-spaced .dv-drop-target-anchor {\\n  border-radius: calc(var(--dv-border-radius) / 4);\\n}\\n.dockview-theme-abyss-spaced .dv-drop-target-anchor.dv-drop-target-content {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container {\\n  border-radius: var(--dv-border-radius) !important;\\n  border: none;\\n}\\n.dockview-theme-abyss-spaced .dv-tabs-overflow-container,\\n.dockview-theme-abyss-spaced .dv-tabs-overflow-dropdown-default {\\n  border-radius: 8px;\\n  height: unset !important;\\n}\\n.dockview-theme-abyss-spaced .dv-tab {\\n  border-radius: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-abyss-spaced .dv-groupview {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-abyss-spaced .dv-groupview .dv-tabs-and-actions-container {\\n  padding: 0px calc(var(--dv-border-radius) / 2);\\n}\\n.dockview-theme-abyss-spaced .dv-groupview .dv-content-container {\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n}\\n.dockview-theme-abyss-spaced .dv-resize-container .dv-groupview {\\n  border: 2px solid var(--dv-color-abyss-dark);\\n}\\n\\n.dockview-theme-light-spaced {\\n  --dv-paneview-active-outline-color: dodgerblue;\\n  --dv-tabs-and-actions-container-font-size: 13px;\\n  --dv-tabs-and-actions-container-height: 35px;\\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\\n  --dv-drag-over-border-color: transparent;\\n  --dv-tabs-container-scrollbar-color: #888;\\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\\n  --dv-overlay-z-index: 999;\\n  --dv-tab-font-size: inherit;\\n  --dv-border-radius: 0px;\\n  --dv-tab-margin: 0;\\n  --dv-sash-color: transparent;\\n  --dv-active-sash-color: transparent;\\n  --dv-active-sash-transition-duration: 0.1s;\\n  --dv-active-sash-transition-delay: 0.5s;\\n  --dv-tab-font-size: 12px;\\n  --dv-border-radius: 20px;\\n  --dv-tab-margin: 0.5rem 0.25rem;\\n  --dv-tabs-and-actions-container-height: 44px;\\n  --dv-border-radius: 20px;\\n  box-sizing: border-box;\\n  --dv-drag-over-border: 2px solid rgb(91, 30, 207);\\n  --dv-drag-over-background-color: \\\"\\\";\\n  --dv-group-view-background-color: #f6f5f9;\\n  --dv-tabs-and-actions-container-background-color: white;\\n  --dv-activegroup-visiblepanel-tab-background-color: #ededf0;\\n  --dv-activegroup-hiddenpanel-tab-background-color: #f9f9fa;\\n  --dv-inactivegroup-visiblepanel-tab-background-color: #ededf0;\\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #f9f9fa;\\n  --dv-tab-divider-color: transparent;\\n  --dv-activegroup-visiblepanel-tab-color: rgb(104, 107, 130);\\n  --dv-activegroup-hiddenpanel-tab-color: rgb(148, 151, 169);\\n  --dv-inactivegroup-visiblepanel-tab-color: rgb(104, 107, 130);\\n  --dv-inactivegroup-hiddenpanel-tab-color: rgb(148, 151, 169);\\n  --dv-separator-border: transparent;\\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\\n  --dv-active-sash-color: rgb(91, 30, 207);\\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.1);\\n  padding: 10px;\\n  background-color: #f6f5f9;\\n  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);\\n}\\n.dockview-theme-light-spaced .dv-resize-container:has(> .dv-groupview) {\\n  border-radius: 8px;\\n}\\n.dockview-theme-light-spaced .dv-sash {\\n  border-radius: 4px;\\n}\\n.dockview-theme-light-spaced .dv-drop-target-anchor {\\n  border-radius: calc(var(--dv-border-radius) / 4);\\n}\\n.dockview-theme-light-spaced .dv-drop-target-anchor.dv-drop-target-content {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-light-spaced .dv-resize-container {\\n  border-radius: var(--dv-border-radius) !important;\\n  border: none;\\n}\\n.dockview-theme-light-spaced .dv-tabs-overflow-container,\\n.dockview-theme-light-spaced .dv-tabs-overflow-dropdown-default {\\n  border-radius: 8px;\\n  height: unset !important;\\n}\\n.dockview-theme-light-spaced .dv-tab {\\n  border-radius: 8px;\\n}\\n.dockview-theme-light-spaced .dv-tab .dv-svg {\\n  height: 8px;\\n  width: 8px;\\n}\\n.dockview-theme-light-spaced .dv-groupview {\\n  border-radius: var(--dv-border-radius);\\n}\\n.dockview-theme-light-spaced .dv-groupview .dv-tabs-and-actions-container {\\n  padding: 0px calc(var(--dv-border-radius) / 2);\\n}\\n.dockview-theme-light-spaced .dv-groupview .dv-content-container {\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n}\\n.dockview-theme-light-spaced .dv-resize-container .dv-groupview {\\n  border: 2px solid rgba(255, 255, 255, 0.1);\\n}\\n.dv-drop-target-container {\\n  position: absolute;\\n  z-index: 9999;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  pointer-events: none;\\n  overflow: hidden;\\n  --dv-transition-duration: 300ms;\\n}\\n.dv-drop-target-container .dv-drop-target-anchor {\\n  position: relative;\\n  border: var(--dv-drag-over-border);\\n  background-color: var(--dv-drag-over-background-color);\\n  opacity: 1;\\n  /* GPU optimizations */\\n  will-change: transform, opacity;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  contain: layout paint;\\n  transition: opacity var(--dv-transition-duration) ease-in, transform var(--dv-transition-duration) ease-out;\\n}\\n.dv-drop-target {\\n  position: relative;\\n  --dv-transition-duration: 70ms;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 1000;\\n  pointer-events: none;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection {\\n  position: relative;\\n  box-sizing: border-box;\\n  height: 100%;\\n  width: 100%;\\n  border: var(--dv-drag-over-border);\\n  background-color: var(--dv-drag-over-background-color);\\n  transition: top var(--dv-transition-duration) ease-out, left var(--dv-transition-duration) ease-out, width var(--dv-transition-duration) ease-out, height var(--dv-transition-duration) ease-out, opacity var(--dv-transition-duration) ease-out;\\n  will-change: transform;\\n  pointer-events: none;\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-top.dv-drop-target-small-vertical {\\n  border-top: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-bottom.dv-drop-target-small-vertical {\\n  border-bottom: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-left.dv-drop-target-small-horizontal {\\n  border-left: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-right.dv-drop-target-small-horizontal {\\n  border-right: 1px solid var(--dv-drag-over-border-color);\\n}\\n.dv-dockview {\\n  position: relative;\\n  background-color: var(--dv-group-view-background-color);\\n  contain: layout;\\n}\\n.dv-dockview .dv-watermark-container {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 1;\\n}\\n.dv-dockview .dv-overlay-render-container {\\n  position: relative;\\n}\\n\\n.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {\\n  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n}\\n.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\\n  background-color: var(--dv-inactivegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-inactivegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {\\n  background-color: var(--dv-inactivegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-inactivegroup-hiddenpanel-tab-color);\\n}\\n\\n/**\\n * when a tab is dragged we lose the above stylings because they are conditional on parent elements\\n * therefore we also set some stylings for the dragging event\\n **/\\n.dv-tab.dv-tab-dragging {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-groupview {\\n  display: flex;\\n  height: 100%;\\n  background-color: var(--dv-group-view-background-color);\\n  overflow: hidden;\\n  flex-direction: column;\\n}\\n.dv-groupview:focus {\\n  outline: none;\\n}\\n.dv-groupview > .dv-content-container {\\n  flex-grow: 1;\\n  min-height: 0;\\n  outline: none;\\n}\\n.dv-groupview.dv-groupview-header-bottom {\\n  flex-direction: column-reverse;\\n}\\n.dv-groupview.dv-groupview-header-left {\\n  flex-direction: row;\\n}\\n.dv-groupview.dv-groupview-header-right {\\n  flex-direction: row-reverse;\\n}\\n.dv-root-wrapper {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-grid-view,\\n.dv-branch-node {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-top {\\n  background-color: red;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-bottom {\\n  background-color: green;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-left {\\n  background-color: yellow;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-right {\\n  background-color: blue;\\n}\\n.dv-debug .dv-resize-container .dv-resize-handle-topleft,\\n.dv-debug .dv-resize-container .dv-resize-handle-topright,\\n.dv-debug .dv-resize-container .dv-resize-handle-bottomleft,\\n.dv-debug .dv-resize-container .dv-resize-handle-bottomright {\\n  background-color: cyan;\\n}\\n\\n.dv-resize-container {\\n  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);\\n  position: absolute;\\n  z-index: calc(var(--dv-overlay-z-index) - 2);\\n  border: 1px solid var(--dv-tab-divider-color);\\n  box-shadow: var(--dv-floating-box-shadow);\\n  /* GPU optimizations for floating group movement */\\n  will-change: transform, opacity;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n}\\n.dv-resize-container.dv-hidden {\\n  display: none;\\n}\\n.dv-resize-container.dv-resize-container-dragging {\\n  opacity: 0.5;\\n  /* Enhanced GPU acceleration during drag */\\n  will-change: transform, opacity;\\n}\\n.dv-resize-container .dv-resize-handle-top {\\n  height: 4px;\\n  width: calc(100% - 8px);\\n  left: 4px;\\n  top: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ns-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottom {\\n  height: 4px;\\n  width: calc(100% - 8px);\\n  left: 4px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ns-resize;\\n}\\n.dv-resize-container .dv-resize-handle-left {\\n  height: calc(100% - 8px);\\n  width: 4px;\\n  left: -2px;\\n  top: 4px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ew-resize;\\n}\\n.dv-resize-container .dv-resize-handle-right {\\n  height: calc(100% - 8px);\\n  width: 4px;\\n  right: -2px;\\n  top: 4px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ew-resize;\\n}\\n.dv-resize-container .dv-resize-handle-topleft {\\n  height: 4px;\\n  width: 4px;\\n  top: -2px;\\n  left: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: nw-resize;\\n}\\n.dv-resize-container .dv-resize-handle-topright {\\n  height: 4px;\\n  width: 4px;\\n  right: -2px;\\n  top: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: ne-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottomleft {\\n  height: 4px;\\n  width: 4px;\\n  left: -2px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: sw-resize;\\n}\\n.dv-resize-container .dv-resize-handle-bottomright {\\n  height: 4px;\\n  width: 4px;\\n  right: -2px;\\n  bottom: -2px;\\n  z-index: var(--dv-overlay-z-index);\\n  position: absolute;\\n  cursor: se-resize;\\n}\\n.dv-render-overlay {\\n  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);\\n  position: absolute;\\n  z-index: 1;\\n  width: 100%;\\n  height: 100%;\\n  contain: layout paint;\\n  isolation: isolate;\\n  /* GPU optimizations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n}\\n.dv-render-overlay.dv-render-overlay-float {\\n  z-index: calc(var(--dv-overlay-z-index) - 1);\\n}\\n\\n.dv-debug .dv-render-overlay {\\n  outline: 1px solid red;\\n  outline-offset: -1;\\n}\\n.dv-pane-container {\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-pane-container.dv-animated .dv-view {\\n  /* GPU optimizations for smooth pane animations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition: transform 0.15s ease-out;\\n}\\n.dv-pane-container .dv-view {\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 0px !important;\\n}\\n.dv-pane-container .dv-view:not(:first-child)::before {\\n  background-color: transparent !important;\\n}\\n.dv-pane-container .dv-view:not(:first-child) .dv-pane > .dv-pane-header {\\n  border-top: 1px solid var(--dv-paneview-header-border-color);\\n}\\n.dv-pane-container .dv-view .dv-default-header {\\n  background-color: var(--dv-group-view-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n  display: flex;\\n  padding: 0px 8px;\\n  cursor: pointer;\\n}\\n.dv-pane-container .dv-view .dv-default-header .dv-pane-header-icon {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.dv-pane-container .dv-view .dv-default-header > span {\\n  padding-left: 8px;\\n  flex-grow: 1;\\n}\\n.dv-pane-container:first-of-type > .dv-pane > .dv-pane-header {\\n  border-top: none !important;\\n}\\n.dv-pane-container .dv-pane {\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n  height: 100%;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header {\\n  box-sizing: border-box;\\n  user-select: none;\\n  position: relative;\\n  outline: none;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header.dv-pane-draggable {\\n  cursor: pointer;\\n}\\n.dv-pane-container .dv-pane .dv-pane-header:focus:before, .dv-pane-container .dv-pane .dv-pane-header:focus-within:before {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 5;\\n  content: \\\"\\\";\\n  pointer-events: none;\\n  outline: 1px solid;\\n  outline-width: -1px;\\n  outline-style: solid;\\n  outline-offset: -1px;\\n  outline-color: var(--dv-paneview-active-outline-color);\\n}\\n.dv-pane-container .dv-pane .dv-pane-body {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  flex-grow: 1;\\n  position: relative;\\n  outline: none;\\n}\\n.dv-pane-container .dv-pane .dv-pane-body:focus:before, .dv-pane-container .dv-pane .dv-pane-body:focus-within:before {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 5;\\n  content: \\\"\\\";\\n  pointer-events: none;\\n  outline: 1px solid;\\n  outline-width: -1px;\\n  outline-style: solid;\\n  outline-offset: -1px;\\n  outline-color: var(--dv-paneview-active-outline-color);\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-enabled {\\n  background-color: black;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-disabled {\\n  background-color: orange;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-maximum {\\n  background-color: green;\\n}\\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-minimum {\\n  background-color: red;\\n}\\n\\n.dv-split-view-container {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-splitview-disabled > .dv-sash-container > .dv-sash {\\n  pointer-events: none;\\n}\\n.dv-split-view-container.dv-animation .dv-view,\\n.dv-split-view-container.dv-animation .dv-sash {\\n  /* GPU optimizations for smooth animations */\\n  will-change: transform;\\n  transform: translate3d(0, 0, 0);\\n  backface-visibility: hidden;\\n  transition: transform 0.15s ease-out;\\n}\\n.dv-split-view-container.dv-horizontal {\\n  height: 100%;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash {\\n  height: 100%;\\n  width: 4px;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-enabled {\\n  cursor: ew-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-disabled {\\n  cursor: default;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-maximum {\\n  cursor: w-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-minimum {\\n  cursor: e-resize;\\n}\\n.dv-split-view-container.dv-horizontal > .dv-view-container > .dv-view:not(:first-child)::before {\\n  height: 100%;\\n  width: 1px;\\n}\\n.dv-split-view-container.dv-vertical {\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash {\\n  width: 100%;\\n  height: 4px;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-enabled {\\n  cursor: ns-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-disabled {\\n  cursor: default;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-maximum {\\n  cursor: n-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-minimum {\\n  cursor: s-resize;\\n}\\n.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view {\\n  width: 100%;\\n}\\n.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view:not(:first-child)::before {\\n  height: 1px;\\n  width: 100%;\\n}\\n.dv-split-view-container .dv-sash-container {\\n  height: 100%;\\n  width: 100%;\\n  position: absolute;\\n}\\n.dv-split-view-container .dv-sash-container .dv-sash {\\n  position: absolute;\\n  z-index: 99;\\n  outline: none;\\n  user-select: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  touch-action: none;\\n  background-color: var(--dv-sash-color, transparent);\\n}\\n.dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):active, .dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):hover {\\n  background-color: var(--dv-active-sash-color, transparent);\\n  transition-property: background-color;\\n  transition-timing-function: ease-in-out;\\n  transition-duration: var(--dv-active-sash-transition-duration, 0.1s);\\n  transition-delay: var(--dv-active-sash-transition-delay, 0.5s);\\n}\\n.dv-split-view-container .dv-view-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n}\\n.dv-split-view-container .dv-view-container .dv-view {\\n  height: 100%;\\n  box-sizing: border-box;\\n  overflow: auto;\\n  position: absolute;\\n}\\n.dv-split-view-container.dv-separator-border .dv-view:not(:first-child)::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 5;\\n  pointer-events: none;\\n  background-color: var(--dv-separator-border);\\n}\\n.dv-dragged {\\n  transform: translate3d(0px, 0px, 0px); /* forces tab to be drawn on a separate layer (see https://github.com/microsoft/vscode/issues/18733) */\\n}\\n\\n.dv-tab {\\n  flex-shrink: 0;\\n}\\n.dv-tab:focus-within, .dv-tab:focus {\\n  position: relative;\\n}\\n.dv-tab:focus-within::after, .dv-tab:focus::after {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 100%;\\n  width: 100%;\\n  top: 0px;\\n  left: 0px;\\n  pointer-events: none;\\n  outline: 1px solid var(--dv-tab-divider-color) !important;\\n  outline-offset: -1px;\\n  z-index: 5;\\n}\\n.dv-tab.dv-tab-dragging .dv-default-tab-action {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-tab.dv-active-tab .dv-default-tab .dv-default-tab-action {\\n  visibility: visible;\\n}\\n.dv-tab.dv-inactive-tab .dv-default-tab .dv-default-tab-action {\\n  visibility: hidden;\\n}\\n.dv-tab.dv-inactive-tab .dv-default-tab:hover .dv-default-tab-action {\\n  visibility: visible;\\n}\\n.dv-tab .dv-default-tab {\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-content {\\n  flex-grow: 1;\\n  margin-right: 4px;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-action {\\n  padding: 4px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  box-sizing: border-box;\\n}\\n.dv-tab .dv-default-tab .dv-default-tab-action:hover {\\n  border-radius: 2px;\\n  background-color: var(--dv-icon-hover-background-color);\\n}\\n.dv-tabs-overflow-dropdown-default {\\n  height: 100%;\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n  margin: var(--dv-tab-margin);\\n  display: flex;\\n  align-items: center;\\n  flex-shrink: 0;\\n  padding: 0.25rem 0.5rem;\\n  cursor: pointer;\\n}\\n.dv-tabs-overflow-dropdown-default > span {\\n  padding-left: 0.25rem;\\n}\\n.dv-tabs-overflow-dropdown-default > svg {\\n  transform: rotate(90deg);\\n}\\n.dv-tabs-container {\\n  display: flex;\\n  height: 100%;\\n  overflow: auto;\\n  scrollbar-width: thin;\\n  /* GPU optimizations for smooth scrolling */\\n  will-change: scroll-position;\\n  transform: translate3d(0, 0, 0);\\n  /* Track */\\n  /* Handle */\\n}\\n.dv-tabs-container.dv-tabs-container-vertical {\\n  width: 100%;\\n  height: fit-content;\\n  max-height: 100%;\\n  writing-mode: vertical-rl;\\n}\\n.dv-tabs-container.dv-horizontal .dv-tab:not(:first-child)::before, .dv-tabs-container.dv-vertical .dv-tab:not(:first-child)::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 5;\\n  pointer-events: none;\\n  background-color: var(--dv-tab-divider-color);\\n}\\n.dv-tabs-container.dv-horizontal .dv-tab:not(:first-child)::before {\\n  width: 1px;\\n  height: 100%;\\n}\\n.dv-tabs-container.dv-vertical .dv-tab:not(:first-child)::before {\\n  width: 100%;\\n  height: 1px;\\n}\\n.dv-tabs-container::-webkit-scrollbar {\\n  height: 3px;\\n}\\n.dv-tabs-container::-webkit-scrollbar-track {\\n  background: transparent;\\n}\\n.dv-tabs-container::-webkit-scrollbar-thumb {\\n  background: var(--dv-tabs-container-scrollbar-color);\\n}\\n\\n.dv-scrollable > .dv-tabs-container {\\n  overflow: hidden;\\n}\\n\\n.dv-tab {\\n  -webkit-user-drag: element;\\n  outline: none;\\n  padding: 0.25rem 0.5rem;\\n  cursor: pointer;\\n  position: relative;\\n  box-sizing: border-box;\\n  font-size: var(--dv-tab-font-size);\\n  margin: var(--dv-tab-margin);\\n}\\n\\n.dv-tabs-container-vertical .dv-tab {\\n  padding: 0.5rem 0.25rem;\\n}\\n\\n.dv-tabs-overflow-container {\\n  flex-direction: column;\\n  height: unset;\\n  max-height: min(50vh, 400px);\\n  overflow-y: auto;\\n  border: 1px solid var(--dv-tab-divider-color);\\n  background-color: var(--dv-group-view-background-color);\\n  /* Scrollbar styling for webkit browsers */\\n  /* Firefox scrollbar */\\n  scrollbar-width: thin;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar {\\n  width: 6px;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar-track {\\n  background: transparent;\\n}\\n.dv-tabs-overflow-container::-webkit-scrollbar-thumb {\\n  background: var(--dv-tabs-container-scrollbar-color);\\n  border-radius: 3px;\\n}\\n.dv-tabs-overflow-container .dv-tab:not(:last-child) {\\n  border-bottom: 1px solid var(--dv-tab-divider-color);\\n}\\n.dv-tabs-overflow-container .dv-active-tab {\\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\\n  color: var(--dv-activegroup-visiblepanel-tab-color);\\n}\\n.dv-tabs-overflow-container .dv-inactive-tab {\\n  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);\\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\\n}\\n.dv-tabs-and-actions-container {\\n  display: flex;\\n  background-color: var(--dv-tabs-and-actions-container-background-color);\\n  flex-shrink: 0;\\n  box-sizing: border-box;\\n  height: var(--dv-tabs-and-actions-container-height);\\n  font-size: var(--dv-tabs-and-actions-container-font-size);\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-scrollable {\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container {\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container .dv-tab {\\n  flex-grow: 1;\\n  padding: 0px;\\n}\\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-void-container {\\n  flex-grow: 0;\\n}\\n.dv-tabs-and-actions-container .dv-void-container {\\n  display: flex;\\n  flex-grow: 1;\\n}\\n.dv-tabs-and-actions-container .dv-void-container.dv-draggable {\\n  cursor: grab;\\n}\\n.dv-tabs-and-actions-container .dv-right-actions-container {\\n  display: flex;\\n}\\n.dv-tabs-and-actions-container .dv-right-actions-container.dv-right-actions-container-vertical {\\n  flex-direction: column;\\n}\\n.dv-tabs-and-actions-container.dv-groupview-header-vertical {\\n  flex-direction: column;\\n  height: auto;\\n  width: var(--dv-tabs-and-actions-container-height);\\n}\\n.dv-watermark {\\n  display: flex;\\n  height: 100%;\\n}\";\nstyleInject(css_248z);\n\n/**\n * This component is intended to interface between vanilla-js and React hence we need to be\n * creative in how we update props.\n * A ref of the component is exposed with an update method; which when called stores the props\n * as a ref within this component and forcefully triggers a re-render of the component using\n * the ref of props we just set on the renderered component as the props passed to the inner\n * component\n */\nconst ReactComponentBridge = (props, ref) => {\n    const [_, triggerRender] = React.useState();\n    const _props = React.useRef(props.componentProps);\n    React.useImperativeHandle(ref, () => ({\n        update: (componentProps) => {\n            _props.current = Object.assign(Object.assign({}, _props.current), componentProps);\n            /**\n             * setting a arbitrary piece of state within this component will\n             * trigger a re-render.\n             * we use this rather than updating through a prop since we can\n             * pass a ref into the vanilla-js world.\n             */\n            triggerRender(Date.now());\n        },\n    }), []);\n    return React.createElement(props.component, _props.current);\n};\nReactComponentBridge.displayName = 'DockviewReactJsBridge';\n/**\n * Since we are storing the React.Portal references in a rendered array they\n * require a key property like any other React element rendered in an array\n * to prevent excessive re-rendering\n */\nconst uniquePortalKeyGenerator = (() => {\n    let value = 1;\n    return { next: () => `dockview_react_portal_key_${(value++).toString()}` };\n})();\nconst ReactPartContext = React.createContext({});\nclass ReactPart {\n    constructor(parent, portalStore, component, parameters, context) {\n        this.parent = parent;\n        this.portalStore = portalStore;\n        this.component = component;\n        this.parameters = parameters;\n        this.context = context;\n        this._initialProps = {};\n        this.disposed = false;\n        this.createPortal();\n    }\n    update(props) {\n        if (this.disposed) {\n            throw new Error('invalid operation: resource is already disposed');\n        }\n        if (!this.componentInstance) {\n            // if the component is yet to be mounted store the props\n            this._initialProps = Object.assign(Object.assign({}, this._initialProps), props);\n        }\n        else {\n            this.componentInstance.update(props);\n        }\n    }\n    createPortal() {\n        if (this.disposed) {\n            throw new Error('invalid operation: resource is already disposed');\n        }\n        if (!isReactComponent(this.component)) {\n            /**\n             * we know this isn't a React.FunctionComponent so throw an error here.\n             * if we do not intercept then React library will throw a very obsure error\n             * for the same reason... at least at this point we will emit a sensible stacktrace.\n             */\n            throw new Error('Dockview: Only React.memo(...), React.ForwardRef(...) and functional components are accepted as components');\n        }\n        const bridgeComponent = React.createElement(React.forwardRef(ReactComponentBridge), {\n            component: this\n                .component,\n            componentProps: this.parameters,\n            ref: (element) => {\n                this.componentInstance = element;\n                if (Object.keys(this._initialProps).length > 0) {\n                    this.componentInstance.update(this._initialProps);\n                    this._initialProps = {}; // don't keep a reference to the users object once no longer required\n                }\n            },\n        });\n        const node = this.context\n            ? React.createElement(ReactPartContext.Provider, { value: this.context }, bridgeComponent)\n            : bridgeComponent;\n        const portal = ReactDOM.createPortal(node, this.parent, uniquePortalKeyGenerator.next());\n        this.ref = {\n            portal,\n            disposable: this.portalStore.addPortal(portal),\n        };\n    }\n    dispose() {\n        var _a;\n        (_a = this.ref) === null || _a === void 0 ? void 0 : _a.disposable.dispose();\n        this.disposed = true;\n    }\n}\n/**\n * A React Hook that returns an array of portals to be rendered by the user of this hook\n * and a disposable function to add a portal. Calling dispose removes this portal from the\n * portal array\n */\nconst usePortalsLifecycle = () => {\n    const [portals, setPortals] = React.useState([]);\n    React.useDebugValue(`Portal count: ${portals.length}`);\n    const addPortal = React.useCallback((portal) => {\n        setPortals((existingPortals) => [...existingPortals, portal]);\n        let disposed = false;\n        return DockviewDisposable.from(() => {\n            if (disposed) {\n                throw new Error('invalid operation: resource already disposed');\n            }\n            disposed = true;\n            setPortals((existingPortals) => existingPortals.filter((p) => p !== portal));\n        });\n    }, []);\n    return [portals, addPortal];\n};\nfunction isReactComponent(component) {\n    /**\n     * Yes, we could use \"react-is\" but that would introduce an unwanted peer dependency\n     * so for now we will check in a rather crude fashion...\n     */\n    return (typeof component === 'function' /** Functional Componnts */ ||\n        !!(component === null || component === void 0 ? void 0 : component.$$typeof) /** React.memo(...) Components */);\n}\n\nclass ReactPanelContentPart {\n    get element() {\n        return this._element;\n    }\n    constructor(id, component, reactPortalStore) {\n        this.id = id;\n        this.component = component;\n        this.reactPortalStore = reactPortalStore;\n        this._onDidFocus = new DockviewEmitter();\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = new DockviewEmitter();\n        this.onDidBlur = this._onDidBlur.event;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-react-part';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n    focus() {\n        // TODO\n    }\n    init(parameters) {\n        this.part = new ReactPart(this.element, this.reactPortalStore, this.component, {\n            params: parameters.params,\n            api: parameters.api,\n            containerApi: parameters.containerApi,\n        });\n    }\n    update(event) {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.update({ params: event.params });\n    }\n    layout(_width, _height) {\n        // noop\n    }\n    dispose() {\n        var _a;\n        this._onDidFocus.dispose();\n        this._onDidBlur.dispose();\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n}\n\nclass ReactPanelHeaderPart {\n    get element() {\n        return this._element;\n    }\n    constructor(id, component, reactPortalStore) {\n        this.id = id;\n        this.component = component;\n        this.reactPortalStore = reactPortalStore;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-react-part';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n    focus() {\n        //noop\n    }\n    init(parameters) {\n        this.part = new ReactPart(this.element, this.reactPortalStore, this.component, {\n            params: parameters.params,\n            api: parameters.api,\n            containerApi: parameters.containerApi,\n            tabLocation: parameters.tabLocation,\n        });\n    }\n    update(event) {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.update({ params: event.params });\n    }\n    layout(_width, _height) {\n        // noop - retrieval from api\n    }\n    dispose() {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n}\n\nclass ReactWatermarkPart {\n    get element() {\n        return this._element;\n    }\n    constructor(id, component, reactPortalStore) {\n        this.id = id;\n        this.component = component;\n        this.reactPortalStore = reactPortalStore;\n        this._element = document.createElement('div');\n        this._element.className = 'dv-react-part';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n    init(parameters) {\n        this.part = new ReactPart(this.element, this.reactPortalStore, this.component, {\n            group: parameters.group,\n            containerApi: parameters.containerApi,\n        });\n    }\n    focus() {\n        // noop\n    }\n    update(params) {\n        var _a, _b, _c;\n        if (this.parameters) {\n            this.parameters.params = params.params;\n        }\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.update({ params: (_c = (_b = this.parameters) === null || _b === void 0 ? void 0 : _b.params) !== null && _c !== void 0 ? _c : {} });\n    }\n    layout(_width, _height) {\n        // noop - retrieval from api\n    }\n    dispose() {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n}\n\nclass ReactHeaderActionsRendererPart {\n    get element() {\n        return this._element;\n    }\n    get part() {\n        return this._part;\n    }\n    constructor(component, reactPortalStore, _group) {\n        this.component = component;\n        this.reactPortalStore = reactPortalStore;\n        this._group = _group;\n        this.mutableDisposable = new DockviewMutableDisposable();\n        this._element = document.createElement('div');\n        this._element.className = 'dv-react-part';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n    init(parameters) {\n        this.mutableDisposable.value = new DockviewCompositeDisposable(this._group.model.onDidAddPanel(() => {\n            this.updatePanels();\n        }), this._group.model.onDidRemovePanel(() => {\n            this.updatePanels();\n        }), this._group.model.onDidActivePanelChange(() => {\n            this.updateActivePanel();\n        }), parameters.api.onDidActiveChange(() => {\n            this.updateGroupActive();\n        }));\n        this._part = new ReactPart(this.element, this.reactPortalStore, this.component, {\n            api: parameters.api,\n            containerApi: parameters.containerApi,\n            panels: this._group.model.panels,\n            activePanel: this._group.model.activePanel,\n            isGroupActive: this._group.api.isActive,\n            group: this._group,\n            headerPosition: this._group.model.headerPosition,\n        });\n    }\n    dispose() {\n        var _a;\n        this.mutableDisposable.dispose();\n        (_a = this._part) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n    update(event) {\n        var _a;\n        (_a = this._part) === null || _a === void 0 ? void 0 : _a.update(event.params);\n    }\n    updatePanels() {\n        this.update({ params: { panels: this._group.model.panels } });\n    }\n    updateActivePanel() {\n        this.update({\n            params: {\n                activePanel: this._group.model.activePanel,\n            },\n        });\n    }\n    updateGroupActive() {\n        this.update({\n            params: {\n                isGroupActive: this._group.api.isActive,\n            },\n        });\n    }\n}\n\nfunction createGroupControlElement(component, store) {\n    return component\n        ? (groupPanel) => {\n            return new ReactHeaderActionsRendererPart(component, store, groupPanel);\n        }\n        : undefined;\n}\nconst DEFAULT_REACT_TAB = 'props.defaultTabComponent';\nfunction extractCoreOptions$3(props) {\n    const coreOptions = PROPERTY_KEYS_DOCKVIEW.reduce((obj, key) => {\n        if (key in props) {\n            obj[key] = props[key];\n        }\n        return obj;\n    }, {});\n    return coreOptions;\n}\nconst DockviewReact = React.forwardRef((props, ref) => {\n    const domRef = React.useRef(null);\n    const dockviewRef = React.useRef();\n    const [portals, addPortal] = usePortalsLifecycle();\n    React.useImperativeHandle(ref, () => domRef.current, []);\n    const prevProps = React.useRef({});\n    React.useEffect(() => {\n        const changes = {};\n        PROPERTY_KEYS_DOCKVIEW.forEach((propKey) => {\n            const key = propKey;\n            const propValue = props[key];\n            if (key in props && propValue !== prevProps.current[key]) {\n                changes[key] = propValue;\n            }\n        });\n        if (dockviewRef.current) {\n            dockviewRef.current.updateOptions(changes);\n        }\n        prevProps.current = props;\n    }, PROPERTY_KEYS_DOCKVIEW.map((key) => props[key]));\n    React.useEffect(() => {\n        var _a;\n        if (!domRef.current) {\n            return;\n        }\n        const frameworkTabComponents = (_a = props.tabComponents) !== null && _a !== void 0 ? _a : {};\n        if (props.defaultTabComponent) {\n            frameworkTabComponents[DEFAULT_REACT_TAB] =\n                props.defaultTabComponent;\n        }\n        const frameworkOptions = {\n            createLeftHeaderActionComponent: createGroupControlElement(props.leftHeaderActionsComponent, { addPortal }),\n            createRightHeaderActionComponent: createGroupControlElement(props.rightHeaderActionsComponent, { addPortal }),\n            createPrefixHeaderActionComponent: createGroupControlElement(props.prefixHeaderActionsComponent, { addPortal }),\n            createComponent: (options) => {\n                return new ReactPanelContentPart(options.id, props.components[options.name], {\n                    addPortal,\n                });\n            },\n            createTabComponent(options) {\n                return new ReactPanelHeaderPart(options.id, frameworkTabComponents[options.name], {\n                    addPortal,\n                });\n            },\n            createWatermarkComponent: props.watermarkComponent\n                ? () => {\n                    return new ReactWatermarkPart('watermark', props.watermarkComponent, {\n                        addPortal,\n                    });\n                }\n                : undefined,\n            defaultTabComponent: props.defaultTabComponent\n                ? DEFAULT_REACT_TAB\n                : undefined,\n        };\n        const api = createDockview(domRef.current, Object.assign(Object.assign({}, extractCoreOptions$3(props)), frameworkOptions));\n        const { clientWidth, clientHeight } = domRef.current;\n        api.layout(clientWidth, clientHeight);\n        if (props.onReady) {\n            props.onReady({ api });\n        }\n        dockviewRef.current = api;\n        return () => {\n            dockviewRef.current = undefined;\n            api.dispose();\n        };\n    }, []);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const disposable = dockviewRef.current.onDidDrop((event) => {\n            if (props.onDidDrop) {\n                props.onDidDrop(event);\n            }\n        });\n        return () => {\n            disposable.dispose();\n        };\n    }, [props.onDidDrop]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const disposable = dockviewRef.current.onWillDrop((event) => {\n            if (props.onWillDrop) {\n                props.onWillDrop(event);\n            }\n        });\n        return () => {\n            disposable.dispose();\n        };\n    }, [props.onWillDrop]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return;\n        }\n        dockviewRef.current.updateOptions({\n            createComponent: (options) => {\n                return new ReactPanelContentPart(options.id, props.components[options.name], {\n                    addPortal,\n                });\n            },\n        });\n    }, [props.components]);\n    React.useEffect(() => {\n        var _a;\n        if (!dockviewRef.current) {\n            return;\n        }\n        const frameworkTabComponents = (_a = props.tabComponents) !== null && _a !== void 0 ? _a : {};\n        if (props.defaultTabComponent) {\n            frameworkTabComponents[DEFAULT_REACT_TAB] =\n                props.defaultTabComponent;\n        }\n        dockviewRef.current.updateOptions({\n            defaultTabComponent: props.defaultTabComponent\n                ? DEFAULT_REACT_TAB\n                : undefined,\n            createTabComponent(options) {\n                return new ReactPanelHeaderPart(options.id, frameworkTabComponents[options.name], {\n                    addPortal,\n                });\n            },\n        });\n    }, [props.tabComponents, props.defaultTabComponent]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return;\n        }\n        dockviewRef.current.updateOptions({\n            createWatermarkComponent: props.watermarkComponent\n                ? () => {\n                    return new ReactWatermarkPart('watermark', props.watermarkComponent, {\n                        addPortal,\n                    });\n                }\n                : undefined,\n        });\n    }, [props.watermarkComponent]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return;\n        }\n        dockviewRef.current.updateOptions({\n            createRightHeaderActionComponent: createGroupControlElement(props.rightHeaderActionsComponent, { addPortal }),\n        });\n    }, [props.rightHeaderActionsComponent]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return;\n        }\n        dockviewRef.current.updateOptions({\n            createLeftHeaderActionComponent: createGroupControlElement(props.leftHeaderActionsComponent, { addPortal }),\n        });\n    }, [props.leftHeaderActionsComponent]);\n    React.useEffect(() => {\n        if (!dockviewRef.current) {\n            return;\n        }\n        dockviewRef.current.updateOptions({\n            createPrefixHeaderActionComponent: createGroupControlElement(props.prefixHeaderActionsComponent, { addPortal }),\n        });\n    }, [props.prefixHeaderActionsComponent]);\n    return (React.createElement(\"div\", { style: { height: '100%', width: '100%' }, ref: domRef }, portals));\n});\nDockviewReact.displayName = 'DockviewComponent';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nconst CloseButton = () => (React.createElement(\"svg\", { height: \"11\", width: \"11\", viewBox: \"0 0 28 28\", \"aria-hidden\": 'false', focusable: false, className: \"dv-svg\" },\n    React.createElement(\"path\", { d: \"M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z\" })));\n\nfunction useTitle(api) {\n    const [title, setTitle] = React.useState(api.title);\n    React.useEffect(() => {\n        const disposable = api.onDidTitleChange((event) => {\n            setTitle(event.title);\n        });\n        // Depending on the order in which React effects are run, the title may already be out of sync (cf. issue #1003).\n        if (title !== api.title) {\n            setTitle(api.title);\n        }\n        return () => {\n            disposable.dispose();\n        };\n    }, [api]);\n    return title;\n}\nconst DockviewDefaultTab = (_a) => {\n    var { api, containerApi: _containerApi, params: _params, hideClose, closeActionOverride, onPointerDown, onPointerUp, onPointerLeave, tabLocation } = _a, rest = __rest(_a, [\"api\", \"containerApi\", \"params\", \"hideClose\", \"closeActionOverride\", \"onPointerDown\", \"onPointerUp\", \"onPointerLeave\", \"tabLocation\"]);\n    const title = useTitle(api);\n    const isMiddleMouseButton = React.useRef(false);\n    const onClose = React.useCallback((event) => {\n        event.preventDefault();\n        if (closeActionOverride) {\n            closeActionOverride();\n        }\n        else {\n            api.close();\n        }\n    }, [api, closeActionOverride]);\n    const onBtnPointerDown = React.useCallback((event) => {\n        event.preventDefault();\n    }, []);\n    const _onPointerDown = React.useCallback((event) => {\n        isMiddleMouseButton.current = event.button === 1;\n        onPointerDown === null || onPointerDown === void 0 ? void 0 : onPointerDown(event);\n    }, [onPointerDown]);\n    const _onPointerUp = React.useCallback((event) => {\n        if (isMiddleMouseButton && event.button === 1 && !hideClose) {\n            isMiddleMouseButton.current = false;\n            onClose(event);\n        }\n        onPointerUp === null || onPointerUp === void 0 ? void 0 : onPointerUp(event);\n    }, [onPointerUp, onClose, hideClose]);\n    const _onPointerLeave = React.useCallback((event) => {\n        isMiddleMouseButton.current = false;\n        onPointerLeave === null || onPointerLeave === void 0 ? void 0 : onPointerLeave(event);\n    }, [onPointerLeave]);\n    return (React.createElement(\"div\", Object.assign({ \"data-testid\": \"dockview-dv-default-tab\" }, rest, { onPointerDown: _onPointerDown, onPointerUp: _onPointerUp, onPointerLeave: _onPointerLeave, className: \"dv-default-tab\" }),\n        React.createElement(\"span\", { className: \"dv-default-tab-content\" }, title),\n        !hideClose && (React.createElement(\"div\", { className: \"dv-default-tab-action\", onPointerDown: onBtnPointerDown, onClick: onClose },\n            React.createElement(CloseButton, null)))));\n};\n\nclass ReactPanelView extends SplitviewPanel {\n    constructor(id, component, reactComponent, reactPortalStore) {\n        super(id, component);\n        this.reactComponent = reactComponent;\n        this.reactPortalStore = reactPortalStore;\n    }\n    getComponent() {\n        var _a, _b;\n        return new ReactPart(this.element, this.reactPortalStore, this.reactComponent, {\n            params: (_b = (_a = this._params) === null || _a === void 0 ? void 0 : _a.params) !== null && _b !== void 0 ? _b : {},\n            api: this.api,\n            containerApi: new SplitviewApi(this._params.accessor),\n        });\n    }\n}\n\nfunction extractCoreOptions$2(props) {\n    const coreOptions = PROPERTY_KEYS_SPLITVIEW.reduce((obj, key) => {\n        if (key in props) {\n            obj[key] = props[key];\n        }\n        return obj;\n    }, {});\n    return coreOptions;\n}\nconst SplitviewReact = React.forwardRef((props, ref) => {\n    const domRef = React.useRef(null);\n    const splitviewRef = React.useRef();\n    const [portals, addPortal] = usePortalsLifecycle();\n    React.useImperativeHandle(ref, () => domRef.current, []);\n    const prevProps = React.useRef({});\n    React.useEffect(() => {\n        const changes = {};\n        PROPERTY_KEYS_SPLITVIEW.forEach((propKey) => {\n            const key = propKey;\n            const propValue = props[key];\n            if (key in props && propValue !== prevProps.current[key]) {\n                changes[key] = propValue;\n            }\n        });\n        if (splitviewRef.current) {\n            splitviewRef.current.updateOptions(changes);\n        }\n        prevProps.current = props;\n    }, PROPERTY_KEYS_SPLITVIEW.map((key) => props[key]));\n    React.useEffect(() => {\n        if (!domRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const frameworkOptions = {\n            createComponent: (options) => {\n                return new ReactPanelView(options.id, options.name, props.components[options.name], { addPortal });\n            },\n        };\n        const api = createSplitview(domRef.current, Object.assign(Object.assign({}, extractCoreOptions$2(props)), frameworkOptions));\n        const { clientWidth, clientHeight } = domRef.current;\n        api.layout(clientWidth, clientHeight);\n        if (props.onReady) {\n            props.onReady({ api });\n        }\n        splitviewRef.current = api;\n        return () => {\n            splitviewRef.current = undefined;\n            api.dispose();\n        };\n    }, []);\n    React.useEffect(() => {\n        if (!splitviewRef.current) {\n            return;\n        }\n        splitviewRef.current.updateOptions({\n            createComponent: (options) => {\n                return new ReactPanelView(options.id, options.name, props.components[options.name], { addPortal });\n            },\n        });\n    }, [props.components]);\n    return (React.createElement(\"div\", { style: { height: '100%', width: '100%' }, ref: domRef }, portals));\n});\nSplitviewReact.displayName = 'SplitviewComponent';\n\nclass ReactGridPanelView extends GridviewPanel {\n    constructor(id, component, reactComponent, reactPortalStore) {\n        super(id, component);\n        this.reactComponent = reactComponent;\n        this.reactPortalStore = reactPortalStore;\n    }\n    getComponent() {\n        var _a, _b;\n        return new ReactPart(this.element, this.reactPortalStore, this.reactComponent, {\n            params: (_b = (_a = this._params) === null || _a === void 0 ? void 0 : _a.params) !== null && _b !== void 0 ? _b : {},\n            api: this.api,\n            // TODO: fix casting hack\n            containerApi: new GridviewApi(this._params\n                .accessor),\n        });\n    }\n}\n\nfunction extractCoreOptions$1(props) {\n    const coreOptions = PROPERTY_KEYS_GRIDVIEW.reduce((obj, key) => {\n        if (key in props) {\n            obj[key] = props[key];\n        }\n        return obj;\n    }, {});\n    return coreOptions;\n}\nconst GridviewReact = React.forwardRef((props, ref) => {\n    const domRef = React.useRef(null);\n    const gridviewRef = React.useRef();\n    const [portals, addPortal] = usePortalsLifecycle();\n    React.useImperativeHandle(ref, () => domRef.current, []);\n    const prevProps = React.useRef({});\n    React.useEffect(() => {\n        const changes = {};\n        PROPERTY_KEYS_GRIDVIEW.forEach((propKey) => {\n            const key = propKey;\n            const propValue = props[key];\n            if (key in props && propValue !== prevProps.current[key]) {\n                changes[key] = propValue;\n            }\n        });\n        if (gridviewRef.current) {\n            gridviewRef.current.updateOptions(changes);\n        }\n        prevProps.current = props;\n    }, PROPERTY_KEYS_GRIDVIEW.map((key) => props[key]));\n    React.useEffect(() => {\n        if (!domRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const frameworkOptions = {\n            createComponent: (options) => {\n                return new ReactGridPanelView(options.id, options.name, props.components[options.name], { addPortal });\n            },\n        };\n        const api = createGridview(domRef.current, Object.assign(Object.assign({}, extractCoreOptions$1(props)), frameworkOptions));\n        const { clientWidth, clientHeight } = domRef.current;\n        api.layout(clientWidth, clientHeight);\n        if (props.onReady) {\n            props.onReady({ api });\n        }\n        gridviewRef.current = api;\n        return () => {\n            gridviewRef.current = undefined;\n            api.dispose();\n        };\n    }, []);\n    React.useEffect(() => {\n        if (!gridviewRef.current) {\n            return;\n        }\n        gridviewRef.current.updateOptions({\n            createComponent: (options) => {\n                return new ReactGridPanelView(options.id, options.name, props.components[options.name], { addPortal });\n            },\n        });\n    }, [props.components]);\n    return (React.createElement(\"div\", { style: { height: '100%', width: '100%' }, ref: domRef }, portals));\n});\nGridviewReact.displayName = 'GridviewComponent';\n\nclass PanePanelSection {\n    get element() {\n        return this._element;\n    }\n    constructor(id, component, reactPortalStore) {\n        this.id = id;\n        this.component = component;\n        this.reactPortalStore = reactPortalStore;\n        this._element = document.createElement('div');\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n    init(parameters) {\n        this.part = new ReactPart(this.element, this.reactPortalStore, this.component, {\n            params: parameters.params,\n            api: parameters.api,\n            title: parameters.title,\n            containerApi: parameters.containerApi,\n        });\n    }\n    toJSON() {\n        return {\n            id: this.id,\n        };\n    }\n    update(params) {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.update(params.params);\n    }\n    dispose() {\n        var _a;\n        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n}\n\nfunction extractCoreOptions(props) {\n    const coreOptions = PROPERTY_KEYS_PANEVIEW.reduce((obj, key) => {\n        if (key in props) {\n            obj[key] = props[key];\n        }\n        return obj;\n    }, {});\n    return coreOptions;\n}\nconst PaneviewReact = React.forwardRef((props, ref) => {\n    const domRef = React.useRef(null);\n    const paneviewRef = React.useRef();\n    const [portals, addPortal] = usePortalsLifecycle();\n    React.useImperativeHandle(ref, () => domRef.current, []);\n    const prevProps = React.useRef({});\n    React.useEffect(() => {\n        const changes = {};\n        PROPERTY_KEYS_PANEVIEW.forEach((propKey) => {\n            const key = propKey;\n            const propValue = props[key];\n            if (key in props && propValue !== prevProps.current[key]) {\n                changes[key] = propValue;\n            }\n        });\n        if (paneviewRef.current) {\n            paneviewRef.current.updateOptions(changes);\n        }\n        prevProps.current = props;\n    }, PROPERTY_KEYS_PANEVIEW.map((key) => props[key]));\n    React.useEffect(() => {\n        var _a;\n        if (!domRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const headerComponents = (_a = props.headerComponents) !== null && _a !== void 0 ? _a : {};\n        const frameworkOptions = {\n            createComponent: (options) => {\n                return new PanePanelSection(options.id, props.components[options.name], { addPortal });\n            },\n            createHeaderComponent: (options) => {\n                return new PanePanelSection(options.id, headerComponents[options.name], { addPortal });\n            },\n        };\n        const api = createPaneview(domRef.current, Object.assign(Object.assign({}, extractCoreOptions(props)), frameworkOptions));\n        const { clientWidth, clientHeight } = domRef.current;\n        api.layout(clientWidth, clientHeight);\n        if (props.onReady) {\n            props.onReady({ api });\n        }\n        paneviewRef.current = api;\n        return () => {\n            paneviewRef.current = undefined;\n            api.dispose();\n        };\n    }, []);\n    React.useEffect(() => {\n        if (!paneviewRef.current) {\n            return;\n        }\n        paneviewRef.current.updateOptions({\n            createComponent: (options) => {\n                return new PanePanelSection(options.id, props.components[options.name], { addPortal });\n            },\n        });\n    }, [props.components]);\n    React.useEffect(() => {\n        var _a;\n        if (!paneviewRef.current) {\n            return;\n        }\n        const headerComponents = (_a = props.headerComponents) !== null && _a !== void 0 ? _a : {};\n        paneviewRef.current.updateOptions({\n            createHeaderComponent: (options) => {\n                return new PanePanelSection(options.id, headerComponents[options.name], { addPortal });\n            },\n        });\n    }, [props.headerComponents]);\n    React.useEffect(() => {\n        if (!paneviewRef.current) {\n            return () => {\n                // noop\n            };\n        }\n        const disposable = paneviewRef.current.onDidDrop((event) => {\n            if (props.onDidDrop) {\n                props.onDidDrop(event);\n            }\n        });\n        return () => {\n            disposable.dispose();\n        };\n    }, [props.onDidDrop]);\n    return (React.createElement(\"div\", { style: { height: '100%', width: '100%' }, ref: domRef }, portals));\n});\nPaneviewReact.displayName = 'PaneviewComponent';\n\nexport { DockviewDefaultTab, DockviewReact, GridviewReact, PaneviewReact, ReactPart, ReactPartContext, SplitviewReact, isReactComponent, usePortalsLifecycle };\n"],"names":["BlogPostPaginator","props","nextItem","prevItem","_jsxs","className","translate","id","message","description","children","_jsx","PaginatorNavLink","subLabel","Translate","isNext","BlogPostPageMetadata","assets","metadata","useBlogPost","title","date","tags","authors","frontMatter","keywords","image","PageMetadata","property","content","some","author","url","map","filter","Boolean","join","length","tag","label","BlogPostPageContent","_ref","sidebar","toc","unlisted","hide_table_of_contents","hideTableOfContents","toc_min_heading_level","tocMinHeadingLevel","toc_max_heading_level","tocMaxHeadingLevel","BlogLayout","TOC","minHeadingLevel","maxHeadingLevel","undefined","Unlisted","BlogPostItem","BlogPostPage","BlogPostContent","BlogPostProvider","isBlogPostPage","HtmlClassNameProvider","clsx","ThemeClassNames","wrapper","blogPages","page","blogPostPage","LINK_CLASS_NAME","LINK_ACTIVE_CLASS_NAME","styles","tableOfContents","TOCItems","linkClassName","linkActiveClassName","treeifyTOC","flatTOC","headings","heading","parentIndex","prevIndexForLevel","Array","fill","forEach","curr","currIndex","ancestorLevelIndexes","slice","level","Math","max","rootNodes","rest","push","filterTOC","flatMap","item","filteredChildren","isValid","getVisibleBoundingClientRect","element","rect","getBoundingClientRect","top","bottom","parentNode","getActiveAnchor","anchors","_ref2","anchorTopOffset","nextVisibleAnchor","find","anchor","boundingRect","window","innerHeight","isInViewportTopHalf","indexOf","useAnchorTopOffsetRef","anchorTopOffsetRef","useRef","navbar","hideOnScroll","useThemeConfig","useEffect","current","document","querySelector","clientHeight","useTOCHighlight","config","lastActiveLinkRef","updateActiveLink","links","from","getElementsByClassName","getLinks","selectors","i","querySelectorAll","getAnchors","activeAnchor","activeLink","link","decodeURIComponent","href","substring","getLinkAnchorValue","active","classList","remove","add","updateLinkActiveClass","addEventListener","removeEventListener","TOCItemTree","isChild","Link","to","dangerouslySetInnerHTML","__html","value","React","minHeadingLevelOption","maxHeadingLevelOption","themeConfig","tocTree","useMemo","useFilteredAndTreeifiedTOC","UnlistedBannerTitle","UnlistedBannerMessage","UnlistedMetadata","Head","name","UnlistedBanner","Admonition","type","common","unlistedBanner","_Fragment","AdmonitionContainer","admonition","admonitionType","AdmonitionHeading","icon","admonitionHeading","admonitionIcon","AdmonitionContent","_ref3","admonitionContent","AdmonitionLayout","AdmonitionIconNote","viewBox","fillRule","d","defaultProps","IconNote","AdmonitionTypeNote","AdmonitionIconTip","IconTip","AdmonitionTypeTip","AdmonitionIconInfo","IconInfo","AdmonitionTypeInfo","AdmonitionIconCaution","IconWarning","AdmonitionIconDanger","IconDanger","note","tip","info","warning","danger","secondary","important","success","caution","unprocessedProps","processAdmonitionProps","AdmonitionTypeComponent","AdmonitionTypes","console","warn","MDXComponents","FrameworkSpecific","CodeRunner","frameworks","activeFrameworkGlobal","DockviewEmitter","replay","useActiveFramework","setValue","localStorage","getItem","disposable","event","fire","dispose","setter","setItem","_","FrameworkSelector1","activeFramework","setActiveFramework","DropdownMenu","asChild","style","padding","width","height","src","useBaseUrl","marginRight","side","align","sideOffset","framework","onClick","paddingRight","FrameworkSelector","BrowserOnly","FrameworkSpecific1","_CodeRunner","frameworkName","toLowerCase","path","Event","Disposable","css","ref","insertAt","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","styleInject","TransferObject","PanelTransfer","constructor","viewId","groupId","panelId","super","this","PaneTransfer","paneId","LocalSelectionTransfer","getInstance","INSTANCE","hasData","proto","clearData","data","getData","setData","getPanelData","panelTransfer","prototype","getPaneData","paneTransfer","any","listener","disposables","child","DockviewEvent","_defaultPrevented","defaultPrevented","preventDefault","AcceptableEvent","_isAccepted","isAccepted","accept","Stacktrace","create","_a","Error","stack","print","Listener","callback","stacktrace","Emitter","setLeakageMonitorEnabled","isEnabled","ENABLE_TRACKING","MEMORY_LEAK_WATCHER","clear","_last","options","_listeners","_disposed","_event","index","splice","e","queueMicrotask","delete","addDisposableListener","events","Map","size","set","AsapEvent","_onFired","_currentFireCount","_queued","onEvent","fireCountAtTimeOfEventSubscription","NONE","func","CompositeDisposable","isDisposed","_isDisposed","args","_disposables","Set","addDisposables","arg","removeDisposable","MutableDisposable","_disposable","OverflowObserver","el","_onDidChange","onDidChange","_value","watchElementResize","entry","hasScrollX","target","scrollWidth","clientWidth","hasScrollY","scrollHeight","cb","observer","ResizeObserver","entires","requestAnimationFrame","firstEntry","observe","unobserve","disconnect","removeClasses","classes","classname","contains","addClasses","toggleClass","isToggled","hasClass","isAncestor","testChild","testAncestor","trackFocus","FocusTracker","_onDidFocus","onDidFocus","_onDidBlur","onDidBlur","hasFocus","activeElement","loosingFocus","onFocus","onBlur","setTimeout","_refreshStateHandler","refreshState","QUASI_PREVENT_DEFAULT_KEY","quasiDefaultPrevented","getDomNodePagePosition","domNode","left","scrollX","scrollY","disableIframePointEvents","rootNode","iframes","tagNames","findIframesInNode","node","nodeType","Node","ELEMENT_NODE","includes","tagName","shadowRoot","documentElement","allTagsNamesInclusiveOfShadowDoms","original","WeakMap","iframe","pointerEvents","release","get","Classnames","_classNames","setClassNames","classNames","split","v","trim","tail","arr","sequenceEquals","arr1","arr2","pushToStart","unshift","pushToEnd","array","findIndex","t","clamp","min","sequentialNumberGenerator","next","toString","range","result","ViewItem","_size","cachedVisibleSize","_cachedVisibleSize","visible","minimumSize","view","viewMinimumSize","maximumSize","viewMaximumSize","priority","snap","enabled","container","setVisible","toggle","Orientation","SashState","LayoutPriority","Sizing","Distribute","Split","Invisible","Splitview","contentSize","_contentSize","orthogonalSize","_orthogonalSize","viewItems","proportions","_proportions","orientation","_orientation","tmp","HORIZONTAL","reduce","r","Number","POSITIVE_INFINITY","startSnappingEnabled","_startSnappingEnabled","updateSashEnablement","endSnappingEnabled","_endSnappingEnabled","disabled","_disabled","margin","_margin","_b","sashes","_onDidSashEnd","onDidSashEnd","_onDidAddView","onDidAddView","_onDidRemoveView","onDidRemoveView","resize","delta","sizes","x","lowPriorityIndexes","highPriorityIndexes","overloadMinDelta","NEGATIVE_INFINITY","overloadMaxDelta","snapBefore","snapAfter","upIndexes","downIndexes","upItems","upSizes","downItems","downSizes","minDeltaUp","maxDeltaUp","maxDeltaDown","minDeltaDown","minDelta","maxDelta","snapped","snapView","limitDelta","actualDelta","deltaUp","viewDelta","deltaDown","VERTICAL","createContainer","proportionalLayout","viewContainer","createViewContainer","sashContainer","createSashContainer","descriptor","views","viewDescriptor","sizing","addView","saveProportions","separatorBorder","removeProperty","setProperty","isViewVisible","setViewVisible","viewItem","distributeEmptySpace","layoutViews","getViewSize","resizeView","indexes","Low","High","round","relayout","getViews","skipLayout","viewSize","newSize","removeChild","sash","onPointerStart","start","clientX","clientY","sashIndex","fn","firstIndex","s","snapBeforeIndex","findFirstSnapIndex","snapAfterIndex","snappedViewItem","halfSize","floor","onPointerMove","end","sashItem","distributeViewSizes","flexibleViewItems","flexibleSize","removeView","getViewCachedVisibleSize","moveView","layout","previousSize","total","proportion","lowPriorityIndex","emptyDelta","visibleViewItems","sashCount","marginReducedSize","totalLeftOffset","viewLeftOffsets","runningVisiblePanelCount","flag","visiblePanelsBeforeThisView","offset","sashWidth","previous","collapsesDown","expandsDown","reverseViews","reverse","collapsesUp","expandsUp","position","snappedBefore","snappedAfter","updateSash","MINIMUM","MAXIMUM","DISABLED","ENABLED","state","orientationClassname","PROPERTY_KEYS_SPLITVIEW","properties","disableAutoResizing","Object","keys","Paneview","splitview","paneItems","skipAnimation","getPanes","pane","onDidChangeExpansionState","setupAnimation","paneItem","addPane","removePane","skipDispose","animationTimer","clearTimeout","LeafNode","minimumWidth","maximumWidth","minimumHeight","maximumHeight","minimumOrthogonalSize","maximumOrthogonalSize","BranchNode","c","Normal","priorities","p","childDescriptors","_childrenDisposable","_onDidVisibilityChange","onDidVisibilityChange","childDescriptor","setupChildrenEvents","_visible","isChildVisible","setChildVisible","wereAllChildrenHidden","areAllChildrenHidden","moveChild","_removeChild","_addChild","getChildSize","resizeChild","addChild","getChildCachedVisibleSize","findLeaf","candiateNode","last","cloneNode","flipNode","orthogonal","totalSize","childSize","getGridLocation","parentElement","test","firstElementChild","lastElementChild","nextElementSibling","indexInParent","getRelativeLocation","rootOrientation","location","direction","getLocationOrientation","directionOrientation","getDirectionOrientation","_index","serializeBranchNode","box","isGridBranchNode","toJSON","Gridview","_root","root","locked","_locked","branch","pop","maximizedView","_maximizedNode","leaf","hasMaximizedView","maximizeView","getNode","exitMaximizedView","getView","hiddenOnMaximize","hideAllViewsBut","parent","exclude","_onDidMaximizedNodeChange","isMaximized","showViewsInReverseOrder","serialize","maxmizedViewLocation","resullt","maximizedNode","_onDidViewVisibilityChange","deserialize","json","deserializer","_deserialize","_deserializeNode","serializedChild","fromJSON","call","oldRoot","normalize","childReference","insertOrthogonalSplitviewAtRoot","progmaticSelect","_getViews","nodeCachedVisibleSize","n","l","onDidViewVisibilityChange","onDidMaximizedNodeChange","parentLocation","pathToParent","grandParent","__","newSiblingSize","newSiblingCachedVisibleSize","newParent","newSibling","nodeToRemove","sibling","isSiblingVisible","siblingSizing","PROPERTY_KEYS_GRIDVIEW","hideBorders","Resizable","_element","disableResizing","_disableResizing","offsetParent","currentElement","DocumentFragment","host","isInDocument","contentRect","nextLayoutId$1","toTarget","BaseGrid","_id","_groups","groups","values","gridview","activeGroup","_activeGroup","_onDidRemove","onDidRemove","_onDidAdd","onDidAdd","_onDidMaximizedChange","onDidMaximizedChange","_onDidActiveChange","onDidActiveChange","_bufferOnDidLayoutChange","onDidLayoutChange","_onDidViewVisibilityChangeMicroTaskQueue","onDidViewVisibilityChangeMicroTaskQueue","panel","isVisible","updateOptions","_c","_d","maximizeGroup","doSetGroupActive","isMaximizedGroup","exitMaximizedGroup","hasMaximizedGroup","doAddGroup","group","doRemoveGroup","has","skipActive","getPanel","setActive","removeGroup","moveToNext","moveToPrevious","forceResize","SplitviewApi","component","panels","onDidLayoutFromJSON","removePanel","focus","addPanel","movePanel","PaneviewApi","onDidDrop","onUnhandledDragOverEvent","GridviewApi","onDidAddPanel","onDidAddGroup","onDidRemovePanel","onDidRemoveGroup","onDidActivePanelChange","onDidActiveGroupChange","force","DockviewApi","totalPanels","onDidMovePanel","onWillDrop","onWillShowOverlay","onWillDragGroup","onWillDragPanel","onDidPopoutGroupSizeChange","onDidPopoutGroupPositionChange","onDidOpenPopoutWindowFail","activePanel","getGroupPanel","addGroup","closeAllGroups","getGroup","addFloatingGroup","onDidMaximizedGroupChange","addPopoutGroup","DragHandler","dataDisposable","pointerEventsDisposable","_onDragStart","onDragStart","configure","setDisabled","isCancelled","dataTransfer","effectAllowed","items","DragAndDropObserver","callbacks","registerListeners","onDragEnter","onDragOver","onDragLeave","onDragEnd","onDrop","WillShowOverlayEvent","nativeEvent","directionToPosition","positionToDirection","DEFAULT_ACTIVATION_SIZE","DEFAULT_SIZE","Droptarget","_state","_onDrop","_onWillShowOverlay","_acceptedTargetZonesSet","acceptedTargetZones","dnd","getOverrideTarget","getElements","_e","_f","_g","ACTUAL_TARGET","overrideTarget","removeDropTarget","getOverlayOutline","offsetWidth","offsetHeight","currentTarget","y","quadrant","calculateQuadrant","isAlreadyUsed","canDisplayOverlay","willShowOverlayEvent","markAsUsed","targetElement","overlayElement","append","toggleClasses","stopPropagation","setTargetZones","setOverlayModel","model","overlayModel","USED_EVENT_ID","isSmallX","isSmallY","isLeft","isRight","isTop","isBottom","rightClass","leftClass","topClass","bottomClass","sizeOptions","outlineEl","elBox","ta","overlay","bigbox","rootTop","rootLeft","bounds","topPx","leftPx","widthPx","heightPx","checkBoundsChanged","visibility","transform","setGPUOptimizedBounds","changed","setGPUOptimizedBoundsFromStrings","overlayType","activationSizeOptions","activationSize","threshold","xp","yp","calculateQuadrantAsPercentage","calculateQuadrantAsPixels","PROPERTY_KEYS_PANEVIEW","disableDnd","PaneviewUnhandledDragOverEvent","WillFocusEvent","PanelApiImpl","isFocused","_isFocused","isActive","_isActive","_isVisible","_width","_height","_parameters","panelUpdatesDisposable","_onDidDimensionChange","onDidDimensionsChange","_onDidChangeFocus","onDidFocusChange","_onWillFocus","onWillFocus","_onWillVisibilityChange","onWillVisibilityChange","_onActiveChange","onActiveChange","_onDidParametersChange","onDidParametersChange","getParameters","initialize","parameters","update","params","updateParameters","SplitviewPanelApiImpl","_onDidConstraintsChangeInternal","onDidConstraintsChangeInternal","_onDidConstraintsChange","onDidConstraintsChange","_onDidSizeChange","onDidSizeChange","setConstraints","setSize","PaneviewPanelApiImpl","_pane","_onDidExpansionChange","onDidExpansionChange","_onMouseEnter","onMouseEnter","_onMouseLeave","onMouseLeave","setExpanded","isExpanded","BasePanelView","_params","api","tabIndex","outline","overflow","focusTracker","part","init","getComponent","assign","key","PaneviewPanel","headerSize","_minimumBodySize","_maximumBodySize","minimumBodySize","maximumBodySize","headerVisible","_headerVisible","header","display","_onDidChangeExpansionState","_isExpanded","headerComponent","isHeaderVisible","accessor","ev","isPanelExpanded","renderOnce","expanded","body","bodyPart","getBodyComponent","headerPart","getHeaderComponent","lineHeight","minHeight","maxHeight","DraggablePaneviewPanel","_onDidDrop","_onUnhandledDragOverEvent","initDragFeatures","accessorId","draggable","handler","firedEvent","containerApi","existingPanel","allPanels","fromIndex","toIndex","ContentContainer","dropTargetContainer","dropTarget","theme","dndPanelOverlay","shiftKey","show","hide","renderPanel","asActive","doRender","isPanelActive","renderer","renderContainer","detatch","attach","referenceContainer","openPanel","closePanel","refreshFocusState","addGhostImage","ghostElement","setDragImage","TabDragHandler","Tab","_onPointDown","onPointerDown","_onDropped","dragHandler","getComputedStyle","newNode","getPropertyValue","getPropertyPriority","setContent","updateDragAndDropState","DockviewWillShowOverlayLocationEvent","kind","GroupDragHandler","dragEvent","bgColor","color","backgroundColor","fontSize","borderRadius","textContent","VoidContainer","Scrollbar","_scrollOffset","_scrollbar","scrollableElement","deltaY","MouseWheelSpeed","calculateScrollbarStyles","originalClient","originalScrollOffset","onEnd","scrollLeft","scrollTop","_animationTimer","clientSize","scrollSize","px","percentageComplete","Tabs","showTabsOverflowControl","_showTabsOverflowControl","_tabsList","_observerDisposable","hasOverflow","toggleDropdown","reset","_tabs","tabs","_direction","selectedIndex","_onTabDragStart","onTabDragStart","_onOverflowTabsChange","onOverflowTabsChange","scrollbars","button","tab","setActivePanel","runningWidth","isActivePanel","isFloatingGroupsEnabled","disableFloatingGroups","isFloatingWithOnePanel","inDragMode","addTab","tabToRemove","childPosition","parentPosition","isChildEntirelyVisibleWithinParent","createSvgElementFromPath","svg","createElementNS","setAttributeNS","viewbox","createChevronRightButton","TabsContainer","hidden","_hidden","rightActionsContainer","dropdownPart","_overflowTabs","_dropdownDisposable","_onGroupDragStart","onGroupDragStart","singleTabMode","leftActionsContainer","preActionsContainer","disableTabsOverflowList","voidContainer","onDidOptionsChange","setRightActionsElement","rightActions","setLeftActionsElement","leftActions","setPrefixActionsElement","preActions","_isGroupActive","updateClassnames","text","createDropdownElementHandle","prepend","capture","panelObject","createTabRenderer","popupService","close","scrollIntoView","relativeParent","zIndex","findRelativeZIndexParent","openPopover","DockviewUnhandledDragOverEvent","PROPERTY_KEYS_DOCKVIEW","floatingGroupBounds","popoutUrl","defaultRenderer","defaultHeaderPosition","debug","rootOverlayModel","noPanelsOverlay","dndEdges","DockviewDidDropEvent","DockviewWillDropEvent","_kind","DockviewGroupPanelModel","_activePanel","_panels","isEmpty","hasWatermark","watermark","tabsContainer","isContentFocused","contentContainer","headerPosition","_headerPosition","_leftHeaderActions","_rightHeaderActions","_prefixHeaderActions","updateHeaderActions","_location","groupPanel","_onDidLocationChange","_rightHeaderActionsDisposable","_leftHeaderActionsDisposable","_prefixHeaderActionsDisposable","mostRecentlyUsed","_overwriteRenderContainer","_overwriteDropTargetContainer","_panelDisposables","_onMove","onMove","_onWillDrop","_onDidAddPanel","_onDidPanelTitleChange","onDidPanelTitleChange","_onDidPanelParametersChange","onDidPanelParametersChange","_onDidRemovePanel","_onDidActivePanelChange","_api","hideHeader","handleDropEvent","focusContent","rerender","overlayRenderContainer","rootDropTargetContainer","doAddPanel","updateContainer","createRightHeaderActionComponent","createLeftHeaderActionComponent","createPrefixHeaderActionComponent","activeView","normalizedIndex","suppressRoll","containsPanel","skipSetActive","updateParentGroup","doSetActivePanel","skipSetGroupActive","groupItemOrId","panelToRemove","_removePanel","closeAllPanels","arrPanelCpy","doClose","isLast","removeEmptyGroup","updateActions","isGroupActive","doRemovePanel","nextPanel","skipSetActiveGroup","hasExistingPanel","updateMru","onDidTitleChange","runEvents","createWatermarkComponent","willDropEvent","getKind","itemId","GridviewPanelApiImpl","GridviewPanel","_priority","_snap","__minimumWidth","__minimumHeight","__maximumHeight","__maximumWidth","_minimumWidth","_evaluatedMinimumWidth","updateConstraints","_maximumWidth","_evaluatedMaximumWidth","_minimumHeight","_evaluatedMinimumHeight","_maximumHeight","_evaluatedMaximumHeight","MAX_SAFE_INTEGER","maximum","minimum","NOT_INITIALIZED_MESSAGE","DockviewGroupPanelApiImpl","_group","onDidLocationChange","_pendingSize","getWindow","setHeaderPosition","getHeaderPosition","moveTo","moveGroupOrPanel","maximize","exitMaximized","DockviewGroupPanel","_explicitConstraints","activePanelMinimumWidth","activePanelMinimumHeight","activePanelMaximumWidth","activePanelMaximumHeight","_model","constraints","themeDark","themeLight","themeVisualStudio","themeAbyss","themeDracula","themeReplit","gap","themeAbyssSpaced","dndOverlayMounting","themeLightSpaced","DockviewPanelApiImpl","oldGroup","_onDidGroupChange","setupGroupEventListeners","tabComponent","_tabComponent","_onDidTitleChange","_onDidActiveGroupChange","onDidGroupChange","_onDidRendererChange","onDidRendererChange","groupEventsDisposable","setTitle","setRenderer","previousGroup","_trackGroupActive","hasBecomeHidden","hasBecomeVisible","DockviewPanel","_title","_renderer","contentComponent","updateFromStateModel","isPanelVisible","DefaultTab","_content","action","render","DockviewPanelModel","_tab","createContentComponent","createTabComponent","tabLocation","cmp","_updateEvent","componentName","createComponent","defaultTabComponent","DefaultDockviewDeserialzier","panelData","viewData","Watermark","arialLevelTracker","_orderedList","destroy","setAttribute","Overlay","minimumInViewportWidth","minimumInViewportHeight","_onDidChangeEnd","onDidChangeEnd","setupResize","setBounds","right","bringToFront","verticalAlignment","horiziontalAlignment","containerRect","overlayRect","xOffset","getMinimumWidth","yOffset","getMinimumHeight","parseFloat","setupDrag","dragTarget","move","track","resizeHandleElement","startPosition","originalY","originalHeight","originalX","originalWidth","moveTop","maxTop","MINIMUM_HEIGHT","moveBottom","moveLeft","maxLeft","MINIMUM_WIDTH","moveRight","minWidth","maxWidth","DockviewFloatingGroupPanel","DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE","DEFAULT_FLOATING_GROUP_POSITION","PositionCache","cache","currentFrameId","rafId","getPosition","cached","frameId","scheduleFrameUpdate","invalidate","OverlayRenderContainer","positionCache","pendingUpdates","updateAllPositions","createFocusableElement","focusContainer","box2","visibilityChanged","observerDisposable","correctLayerPosition","floatingGroup","floatingGroups","getAttribute","MutationObserver","attributeFilter","attributes","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","then","apply","SuppressedError","PopoutWindow","_window","_onWillClose","onWillClose","_onDidClose","onDidClose","dimensions","screenX","screenY","innerWidth","open","features","entries","externalWindow","createPopoutWindowContainer","onDidOpen","externalDocument","styleSheetList","styleSheets","rel","cssTexts","cssRules","rule","err","addStyles","StrictEventsSequencing","PopupService","_active","_activeDisposable","anchorBox","offsetX","offsetY","HTMLElement","buffer","rootRect","translateX","translateY","shiftAbsoluteElementIntoView","DropTargetAnchorContainer","exists","_outline","createAnchor","targetBox","DEFAULT_ROOT_OVERLAY_MODEL","moveGroupWithoutDestroying","removedPanel","DockviewComponent","_options","_floatingGroups","popoutRestorationPromise","_popoutRestorationPromise","nextGroupId","_deserializer","_watermark","_onWillDragPanel","_onWillDragGroup","_onDidPopoutGroupSizeChange","_onDidPopoutGroupPositionChange","_onDidOpenPopoutWindowFail","_onDidLayoutFromJSON","_onDidMovePanel","_onDidMaximizedGroupChange","_popoutGroups","_onDidRemoveGroup","_onDidAddGroup","_onDidOptionsChange","_moving","_themeClassnames","_rootDropTarget","updateDropTargetModel","updateTheme","updateWatermark","debouncedUpdateAllPositions","orthogonalize","itemToPopout","toClassList","list","cls","startsWith","getDockviewTheme","overridePopoutGroup","getNextGroupId","popoutWindowDisposable","popoutContainer","referenceGroup","referenceLocation","isGroupAddedToDom","createGroup","error","movingLock","gready","floatingBox","returnedGroup","doSetGroupAndPanelActive","isValidReferenceGroup","popoutGroup","_onDidWindowPositionChange","emitter","timeout","previousScreenX","previousScreenY","checkMovement","closed","currentScreenX","currentScreenY","onDidWindowMoveEnd","resizeTimeout","onDidWindowResizeEnd","skipPopoutAssociated","skipPopoutReturn","catch","popoutReferenceGroupId","popoutReferenceGroup","skipRemoveGroup","anchoredBox","getAnchoredBox","minimumWidthWithinViewport","minimumHeightWithinViewport","floatingGroupPanel","skipActiveGroup","createGroupAtLocation","oldDisableDnd","floating","includePanel","collection","floats","popoutGroups","gridReferenceGroup","grid","existingPanels","tempGroup","reuseExistingPanels","newPanels","keepEmptyGroups","isArray","createGroupFromSerializedState","createdPanels","serializedFloatingGroups","serializedFloatingGroup","serializedPopoutGroups","popoutPromises","serializedPopoutGroup","popoutPromise","all","hasActiveGroup","initial","initialWidth","initialHeight","referencePanel","findGroup","isPanelOptionsWithGroup","createPanel","inactive","floatingGroupOptions","relativeLocation","orientationAtLocation","coordinates","watermarkContainer","isGroupOptionsWithGroup","selectedGroup","refGroup","removedGroup","re","_updatePositionsFrameId","cancelAnimationFrame","isMoving","destinationGroup","sourceGroupId","sourceItemId","destinationTarget","destinationIndex","sourceGroup","targetLocation","targetParentLocation","sourceLocation","sourceParentLocation","newGroup","targetGroup","updatedReferenceLocation","dropLocation","isDestinationGroupEmpty","moveGroup","selectedFloatingGroup","selectedPopoutGroup","targetFloatingGroup","GridviewComponent","_onDidLayoutfromJSON","hasOrientationChanged","_key","serializedGridview","queue","registerPanel","f","reference","groupItem","SplitviewComponent","_splitview","_splitviewChangeDisposable","_onDidLayoutChange","skipFocus","doAddView","serializedSplitview","DefaultHeader","_expandedIcon","_collapsedIcon","apiRef","_expander","updateIcon","nextLayoutId","MAXIMUM_BODY_SIZE","PaneFramework","PaneviewComponent","paneview","_paneview","_viewDisposables","createHeaderComponent","serializedPaneview","SplitviewPanel","_minimumSize","_evaluatedMinimumSize","_maximumSize","_evaluatedMaximumSize","createDockview","createSplitview","createGridview","createPaneview","ReactComponentBridge","triggerRender","_props","componentProps","Date","now","displayName","uniquePortalKeyGenerator","ReactPartContext","ReactPart","portalStore","context","_initialProps","disposed","createPortal","componentInstance","$$typeof","bridgeComponent","Provider","portal","addPortal","usePortalsLifecycle","portals","setPortals","existingPortals","ReactPanelContentPart","reactPortalStore","ReactPanelHeaderPart","ReactWatermarkPart","ReactHeaderActionsRendererPart","_part","mutableDisposable","updatePanels","updateActivePanel","updateGroupActive","createGroupControlElement","store","DEFAULT_REACT_TAB","DockviewReact","domRef","dockviewRef","prevProps","changes","propKey","propValue","frameworkTabComponents","tabComponents","frameworkOptions","leftHeaderActionsComponent","rightHeaderActionsComponent","prefixHeaderActionsComponent","components","watermarkComponent","obj","extractCoreOptions$3","onReady","CloseButton","focusable","DockviewDefaultTab","_containerApi","hideClose","closeActionOverride","onPointerUp","onPointerLeave","hasOwnProperty","getOwnPropertySymbols","propertyIsEnumerable","__rest","useTitle","isMiddleMouseButton","onClose","onBtnPointerDown","_onPointerDown","_onPointerUp","_onPointerLeave","ReactPanelView","reactComponent","SplitviewReact","splitviewRef","extractCoreOptions$2","ReactGridPanelView","GridviewReact","gridviewRef","extractCoreOptions$1","PanePanelSection","PaneviewReact","paneviewRef","headerComponents","extractCoreOptions"],"sourceRoot":""}