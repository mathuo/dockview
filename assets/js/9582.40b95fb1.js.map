{"version":3,"file":"assets/js/9582.40b95fb1.js","mappings":"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","sources":["webpack://dockview-docs/./sandboxes/react/dockview/floating-groups/src/utils.tsx","webpack://dockview-docs/./sandboxes/react/dockview/floating-groups/src/app.tsx"],"sourcesContent":["import * as React from 'react';\n\nexport const Icon = (props: {\n    icon: string;\n    title?: string;\n    onClick?: (event: React.MouseEvent) => void;\n}) => {\n    return (\n        <div\n            title={props.title}\n            style={{\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                width: '30px',\n                height: '100%',\n\n                fontSize: '18px',\n            }}\n            onClick={props.onClick}\n        >\n            <span\n                style={{ fontSize: 'inherit', cursor: 'pointer' }}\n                className=\"material-symbols-outlined\"\n            >\n                {props.icon}\n            </span>\n        </div>\n    );\n};\n","import {\n    DockviewApi,\n    DockviewGroupPanel,\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewHeaderActionsProps,\n    IDockviewPanelProps,\n    SerializedDockview,\n} from 'dockview';\nimport * as React from 'react';\nimport { Icon } from './utils';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div\n                style={{\n                    height: '100%',\n                    padding: '20px',\n                    background: 'var(--dv-group-view-background-color)',\n                }}\n            >\n                {props.params.title}\n            </div>\n        );\n    },\n};\n\nconst counter = (() => {\n    let i = 0;\n\n    return {\n        next: () => ++i,\n    };\n})();\n\nfunction loadDefaultLayout(api: DockviewApi) {\n    api.addPanel({\n        id: 'panel_1',\n        component: 'default',\n    });\n\n    api.addPanel({\n        id: 'panel_2',\n        component: 'default',\n    });\n\n    api.addPanel({\n        id: 'panel_3',\n        component: 'default',\n    });\n\n    const panel4 = api.addPanel({\n        id: 'panel_4',\n        component: 'default',\n        floating: true,\n    });\n\n    api.addPanel({\n        id: 'panel_5',\n        component: 'default',\n        floating: false,\n        position: { referencePanel: panel4 },\n    });\n\n    api.addPanel({\n        id: 'panel_6',\n        component: 'default',\n    });\n}\n\nlet panelCount = 0;\n\nfunction addPanel(api: DockviewApi) {\n    api.addPanel({\n        id: (++panelCount).toString(),\n        title: `Tab ${panelCount}`,\n        component: 'default',\n    });\n}\n\nfunction addFloatingPanel2(api: DockviewApi) {\n    api.addPanel({\n        id: (++panelCount).toString(),\n        title: `Tab ${panelCount}`,\n        component: 'default',\n        floating: { width: 250, height: 150, left: 50, top: 50 },\n    });\n}\n\nfunction safeParse<T>(value: any): T | null {\n    try {\n        return JSON.parse(value) as T;\n    } catch (err) {\n        return null;\n    }\n}\n\nconst useLocalStorage = <T,>(\n    key: string\n): [T | null, (setter: T | null) => void] => {\n    const [state, setState] = React.useState<T | null>(\n        safeParse(localStorage.getItem(key))\n    );\n\n    React.useEffect(() => {\n        const _state = localStorage.getItem('key');\n        try {\n            if (_state !== null) {\n                setState(JSON.parse(_state));\n            }\n        } catch (err) {\n            //\n        }\n    }, [key]);\n\n    return [\n        state,\n        (_state: T | null) => {\n            if (_state === null) {\n                localStorage.removeItem(key);\n            } else {\n                localStorage.setItem(key, JSON.stringify(_state));\n                setState(_state);\n            }\n        },\n    ];\n};\n\nexport const DockviewPersistence = (props: { theme?: string }) => {\n    const [api, setApi] = React.useState<DockviewApi>();\n    const [layout, setLayout] =\n        useLocalStorage<SerializedDockview>('floating.layout');\n\n    const [disableFloatingGroups, setDisableFloatingGroups] =\n        React.useState<boolean>(false);\n\n    const load = (api: DockviewApi) => {\n        api.clear();\n        if (layout) {\n            try {\n                api.fromJSON(layout);\n            } catch (err) {\n                console.error(err);\n                api.clear();\n                loadDefaultLayout(api);\n            }\n        } else {\n            loadDefaultLayout(api);\n        }\n    };\n\n    const onReady = (event: DockviewReadyEvent) => {\n        load(event.api);\n        setApi(event.api);\n    };\n\n    const [options, setOptions] = React.useState<\n        'boundedWithinViewport' | undefined\n    >(undefined);\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                height: '100%',\n            }}\n        >\n            <div style={{ height: '25px' }}>\n                <button\n                    onClick={() => {\n                        if (api) {\n                            setLayout(api.toJSON());\n                        }\n                    }}\n                >\n                    Save\n                </button>\n                <button\n                    onClick={() => {\n                        if (api) {\n                            load(api);\n                        }\n                    }}\n                >\n                    Load\n                </button>\n                <button\n                    onClick={() => {\n                        api!.clear();\n                        setLayout(null);\n                    }}\n                >\n                    Clear\n                </button>\n                <button\n                    onClick={() => {\n                        addFloatingPanel2(api!);\n                    }}\n                >\n                    Add Floating Group\n                </button>\n                <button\n                    onClick={() => {\n                        setOptions(\n                            options === undefined\n                                ? 'boundedWithinViewport'\n                                : undefined\n                        );\n                    }}\n                >\n                    {`Bounds: ${options ? 'Within' : 'Overflow'}`}\n                </button>\n                <button\n                    onClick={() => {\n                        setDisableFloatingGroups((x) => !x);\n                    }}\n                >\n                    {`${\n                        disableFloatingGroups ? 'Enable' : 'Disable'\n                    } floating groups`}\n                </button>\n            </div>\n            <div\n                style={{\n                    flexGrow: 1,\n                }}\n            >\n                <DockviewReact\n                    onReady={onReady}\n                    components={components}\n                    watermarkComponent={Watermark}\n                    leftHeaderActionsComponent={LeftComponent}\n                    rightHeaderActionsComponent={RightComponent}\n                    disableFloatingGroups={disableFloatingGroups}\n                    floatingGroupBounds={options}\n                    className={`${props.theme || 'dockview-theme-abyss'}`}\n                />\n            </div>\n        </div>\n    );\n};\n\nconst LeftComponent = (props: IDockviewHeaderActionsProps) => {\n    const onClick = () => {\n        addPanel(props.containerApi);\n    };\n    return (\n        <div style={{ height: '100%', color: 'white', padding: '0px 4px' }}>\n            <Icon onClick={onClick} icon={'add'} />\n        </div>\n    );\n};\n\nconst RightComponent = (props: IDockviewHeaderActionsProps) => {\n    const [floating, setFloating] = React.useState<boolean>(\n        props.api.location.type === 'floating'\n    );\n\n    React.useEffect(() => {\n        const disposable = props.group.api.onDidLocationChange((event) => {\n            setFloating(event.location.type === 'floating');\n        });\n\n        return () => {\n            disposable.dispose();\n        };\n    }, [props.group.api]);\n\n    const onClick = () => {\n        if (floating) {\n            const group = props.containerApi.addGroup();\n            props.group.api.moveTo({ group });\n        } else {\n            props.containerApi.addFloatingGroup(props.group, {\n                position: {\n                    width: 400,\n                    height: 300,\n                    bottom: 50,\n                    right: 50,\n                },\n            });\n        }\n    };\n\n    return (\n        <div style={{ height: '100%', color: 'white', padding: '0px 4px' }}>\n            <Icon\n                onClick={onClick}\n                icon={floating ? 'jump_to_element' : 'back_to_tab'}\n            />\n        </div>\n    );\n};\n\nexport default DockviewPersistence;\n\nconst Watermark = () => {\n    return <div style={{ color: 'white', padding: '8px' }}>watermark</div>;\n};\n"],"names":["Icon","props","_jsx","title","style","display","justifyContent","alignItems","width","height","fontSize","onClick","children","cursor","className","icon","components","default","padding","background","params","i","loadDefaultLayout","api","addPanel","id","component","panel4","floating","position","referencePanel","panelCount","useLocalStorage","key","state","setState","React","value","JSON","parse","err","safeParse","localStorage","getItem","_state","removeItem","setItem","stringify","DockviewPersistence","setApi","layout","setLayout","disableFloatingGroups","setDisableFloatingGroups","load","clear","fromJSON","console","error","options","setOptions","undefined","_jsxs","flexDirection","toJSON","toString","left","top","addFloatingPanel2","x","flexGrow","DockviewReact","onReady","event","watermarkComponent","Watermark","leftHeaderActionsComponent","LeftComponent","rightHeaderActionsComponent","RightComponent","floatingGroupBounds","theme","color","containerApi","setFloating","location","type","disposable","group","onDidLocationChange","dispose","addGroup","moveTo","addFloatingGroup","bottom","right"],"sourceRoot":""}